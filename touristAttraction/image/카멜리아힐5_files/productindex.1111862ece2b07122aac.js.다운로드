(window.webpackJsonp=window.webpackJsonp||[]).push([[54,112],{"./node_modules/@splidejs/splide-extension-video/dist/css/splide-extension-video.min.css":function(e,t,n){},"./node_modules/@splidejs/splide-extension-video/dist/js/splide-extension-video.esm.js":function(e,t,n){(function(t){var n;window,n=function(){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,n,s){"use strict";(function(e,s){/*! @vimeo/player v2.10.0 | (c) 2019 Vimeo | MIT License | https://github.com/vimeo/player.js */
function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var r=void 0!==e&&"[object global]"==={}.toString.call(e);function a(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function c(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}function u(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function l(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.url,s=t||n;if(!s)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(u(s))return"https://vimeo.com/".concat(s);if(l(s))return s.replace("http:","https:");if(t)throw new TypeError("“".concat(t,"” is not a valid video id."));throw new TypeError("“".concat(s,"” is not a vimeo.com url."))}var m=void 0!==Array.prototype.indexOf,p="undefined"!=typeof window&&void 0!==window.postMessage;if(!(r||m&&p))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var f="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};
/*!
 * weakmap-polyfill v2.0.0 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2016 polygon planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,n=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(n(this,"_id",i("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function o(e,n){if(!s(e)||!t.call(e,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof e)}function i(e){return e+"_"+r()+"."+r()}function r(){return Math.random().toString().substring(2)}return n(e.prototype,"delete",(function(e){if(o(this,"delete"),!s(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))})),n(e.prototype,"get",(function(e){if(o(this,"get"),s(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),n(e.prototype,"has",(function(e){if(o(this,"has"),!s(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),n(e.prototype,"set",(function(e,t){if(o(this,"set"),!s(e))throw new TypeError("Invalid value used as weak map key");var i=e[this._id];return i&&i[0]===e?(i[1]=t,this):(n(e,this._id,[e,t]),this)})),n(e,"_polyfill",!0),e}()}function s(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:f);var h=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
var t,n,o;o=function(){var e,t,n,o=Object.prototype.toString,i=void 0!==s?function(e){return s(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,s){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==s})}}catch(t){e=function(e,t,n){return e[t]=n,e}}function r(e,s){n.add(e,s),t||(t=i(n.drain))}function a(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function c(){for(var e=0;e<this.chain.length;e++)u(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function u(e,t,n){var s,o;try{!1===t?n.reject(e.msg):(s=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(o=a(s))?o.call(s,n.resolve,n.reject):n.resolve(s)}catch(e){n.reject(e)}}function l(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=a(e))?r((function(){var s=new p(n);try{t.call(e,(function(){l.apply(s,arguments)}),(function(){d.apply(s,arguments)}))}catch(e){d.call(s,e)}})):(n.msg=e,n.state=1,n.chain.length>0&&r(c,n))}catch(e){d.call(new p(n),e)}}}function d(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&r(c,t))}function m(e,t,n,s){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then((function(e){n(o,e)}),s)}(o)}function p(e){this.def=e,this.triggered=!1}function f(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new f(this);this.then=function(e,n){var s={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return s.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");s.resolve=e,s.reject=t})),t.chain.push(s),0!==t.state&&r(c,t),s.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){l.call(t,e)}),(function(e){d.call(t,e)}))}catch(e){d.call(t,e)}}n=function(){var e,n,s;function o(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,i){s=new o(t,i),n?n.next=s:e=s,n=s,s=void 0},drain:function(){var s=e;for(e=n=t=void 0;s;)s.fn.call(s.self),s=s.next}}}();var _=e({},"constructor",h,!1);return h.prototype=_,e(_,"__NPO__",0,!1),e(h,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(h,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(h,"all",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,s){if("function"!=typeof n||"function"!=typeof s)throw TypeError("Not a function");var o=e.length,i=Array(o),r=0;m(t,e,(function(e,t){i[e]=t,++r===o&&n(i)}),s)}))})),e(h,"race",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):new t((function(n,s){if("function"!=typeof n||"function"!=typeof s)throw TypeError("Not a function");m(t,e,(function(e,t){n(t)}),s)}))})),h},(n=f)[t="Promise"]=n[t]||o(),e.exports&&(e.exports=n[t])})),_=new WeakMap;function g(e,t,n){var s=_.get(e.element)||{};t in s||(s[t]=[]),s[t].push(n),_.set(e.element,s)}function v(e,t){return(_.get(e.element)||{})[t]||[]}function y(e,t,n){var s=_.get(e.element)||{};if(!s[t])return!0;if(!n)return s[t]=[],_.set(e.element,s),!0;var o=s[t].indexOf(n);return-1!==o&&s[t].splice(o,1),_.set(e.element,s),s[t]&&0===s[t].length}function b(e,t){var n=_.get(e);_.set(t,n),_.delete(e)}var j=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j.reduce((function(t,n){var s=e.getAttribute("data-vimeo-".concat(n));return(s||""===s)&&(t[n]=""===s?1:s),t}),t)}function S(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var s=document.createElement("div");return s.innerHTML=n,t.appendChild(s.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(s,o){if(!l(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var i="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var r in t)t.hasOwnProperty(r)&&(i+="&".concat(r,"=").concat(encodeURIComponent(t[r])));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",i,!0),a.onload=function(){if(404!==a.status)if(403!==a.status)try{var t=JSON.parse(a.responseText);if(403===t.domain_status_code)return S(t,n),void o(new Error("“".concat(e,"” is not embeddable.")));s(t)}catch(e){o(e)}else o(new Error("“".concat(e,"” is not embeddable.")));else o(new Error("“".concat(e,"” was not found.")))},a.onerror=function(){var e=a.status?" (".concat(a.status,")"):"";o(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},a.send()}))}function P(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function x(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var s={method:t};void 0!==n&&(s.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(s=JSON.stringify(s)),e.element.contentWindow.postMessage(s,e.origin)}}function C(e,t){var n,s=[];if((t=P(t)).event)"error"===t.event&&v(e,t.data.method).forEach((function(n){var s=new Error(t.data.message);s.name=t.data.name,n.reject(s),y(e,t.data.method,n)})),s=v(e,"event:".concat(t.event)),n=t.data;else if(t.method){var o=function(e,t){var n=v(e,t);if(n.length<1)return!1;var s=n.shift();return y(e,t,s),s}(e,t.method);o&&(s.push(o),n=t.value)}s.forEach((function(t){try{if("function"==typeof t)return void t.call(e,n);t.resolve(n)}catch(e){}}))}var D=new WeakMap,O=new WeakMap,E=function(){function e(n){var s=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,e),window.jQuery&&n instanceof t&&(n.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),n=n[0]),"undefined"!=typeof document&&"string"==typeof n&&(n=document.getElementById(n)),!c(n))throw new TypeError("You must pass either a valid element or a valid id.");var r=n.ownerDocument.defaultView;if("IFRAME"!==n.nodeName){var a=n.querySelector("iframe");a&&(n=a)}if("IFRAME"===n.nodeName&&!l(n.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(D.has(n))return D.get(n);this.element=n,this.origin="*";var u=new h((function(e,t){var o=function(n){if(l(n.origin)&&s.element.contentWindow===n.source){"*"===s.origin&&(s.origin=n.origin);var o=P(n.data);if(o&&"error"===o.event&&o.data&&"ready"===o.data.method){var i=new Error(o.data.message);return i.name=o.data.name,void t(i)}var r=o&&"ready"===o.event,a=o&&"ping"===o.method;if(r||a)return s.element.setAttribute("data-ready","true"),void e();C(s,o)}};if(r.addEventListener?r.addEventListener("message",o,!1):r.attachEvent&&r.attachEvent("onmessage",o),"IFRAME"!==s.element.nodeName){var a=k(n,i);w(d(a),a,n).then((function(e){var t=S(e,n);return s.element=t,s._originalElement=n,b(n,t),D.set(s.element,s),e})).catch(t)}}));return O.set(this,u),D.set(this.element,this),"IFRAME"===this.element.nodeName&&x(this,"ping"),this}var n,s,r;return n=e,(s=[{key:"callMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new h((function(s,o){return t.ready().then((function(){g(t,e,{resolve:s,reject:o}),x(t,e,n)})).catch(o)}))}},{key:"get",value:function(e){var t=this;return new h((function(n,s){return e=a(e,"get"),t.ready().then((function(){g(t,e,{resolve:n,reject:s}),x(t,e)})).catch(s)}))}},{key:"set",value:function(e,t){var n=this;return new h((function(s,o){if(e=a(e,"set"),null==t)throw new TypeError("There must be a value to set.");return n.ready().then((function(){g(n,e,{resolve:s,reject:o}),x(n,e,t)})).catch(o)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===v(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),g(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");y(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=O.get(this)||new h((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return h.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new h((function(t){O.delete(e),D.delete(e.element),e._originalElement&&(D.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&i(n.prototype,s),r&&i(n,r),e}();r||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=k(e);w(d(t),t,e).then((function(t){return S(t,e)})).catch(n)}catch(e){n(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(t){if(l(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),s=0;s<n.length;s++)if(n[s].contentWindow===t.source){n[s].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}};window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent&&window.attachEvent("onmessage",t)}}()),n.a=E}).call(this,s(0),s(2).setImmediate)},function(e,t,n){(function(e){var s=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,s,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,s,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(s,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(3),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var s,o,i,r,a,c=1,u={},l=!1,d=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?s=function(e){t.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(r="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&f(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),s=function(t){e.postMessage(r+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},s=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,s=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):s=function(e){setTimeout(f,0,e)},m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return u[c]=o,s(c),c++},m.clearImmediate=p}function p(e){delete u[e]}function f(e){if(l)setTimeout(f,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(4))},function(e,t){var n,s,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{s="function"==typeof clearTimeout?clearTimeout:r}catch(e){s=r}}();var c,u=[],l=!1,d=-1;function m(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=a(m);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===r||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";function s(e,t){Object.keys(e).some((function(n,s){return t(e[n],n,s)}))}n.r(t);var o=function(){function e(e,t){this.Splide=e,this.Components=t,this.players=[]}var t=e.prototype;return t.createPlayers=function(e,t){var n=this;this.Components.Elements.getSlides(!0).forEach((function(o){n.Components.Grid&&s(o.slide.querySelectorAll("."+n.Components.Grid.colClass),(function(s){n.createPlayer(s,e,t)})),n.createPlayer(o.slide,e,t)}))},t.createPlayer=function(e,t,n){e.getAttribute(n)&&this.players.push(new t(this.Splide,this.Components,e))},t.destroy=function(){this.players.forEach((function(e){e.destroy()}))},e}(),i=function(e,t){function n(e){return document.createElement(e)}function s(e){var t=e.parentElement;t&&t.removeChild(e)}return{init:function(){this.initElements(),this.toggleWrapper(!1),this.togglePlayButton(!1)},initElements:function(){var s=function(t){return n=t,s=e.classes.container.split(" ")[0]||"",Object.keys(n.children).map((function(e){return n.children[e]})).filter((function(e){return e.classList.contains(s)}))[0]||null;var n,s}(t);this.parent=s||t,this.className=e.classes[s?"container":"slide"].split(" ")[0]+"--has-video",this.parent.classList.add(this.className),this.wrapper=n("div"),this.iframe=n("div"),this.playButton=n("button"),this.wrapper.classList.add("splide__video"),this.playButton.classList.add("splide__video__play"),this.wrapper.appendChild(this.iframe),this.parent.appendChild(this.wrapper),this.parent.appendChild(this.playButton)},destroy:function(){this.parent.classList.remove(this.className),s(this.wrapper),s(this.playButton)},togglePlayButton:function(e){this.playButton.style.display=e?"flex":"none"},toggleWrapper:function(e){this.wrapper.style.display=e?"block":"none"},hide:function(){this.togglePlayButton(!1),this.toggleWrapper(!0)},show:function(){this.togglePlayButton(!0),this.toggleWrapper(!1)}}},r=function(e){var t=e;return{set:function(e){t=e},is:function(){for(var e=0;e<arguments.length;e++)if((e<0||arguments.length<=e?void 0:arguments[e])===t)return!0;return!1}}},a=function(){function e(e,t,n){this.Splide=e,this.Components=t,this.slide=n,this.player=null,this.elements=null,this.state=new r(1),this.videoId=this.findVideoId(),this.videoId&&(this.init(),this.bind(),this.handleClick())}var t=e.prototype;return t.init=function(){this.elements=new i(this.Splide,this.slide),this.elements.init(),this.toggleRootClass(!0),this.elements.togglePlayButton(!this.Splide.options.video.disableOverlayUI),this.isAutoplay()&&this.isActive()&&this.play()},t.setup=function(){var e=this;this.state.set(2),this.player=this.createPlayer((function(){var t=e.state.is(3);e.state.set(4),t&&e.play()}))},t.bind=function(){var e=this;this.Splide.on("active",(function(t){e.isAutoplay()&&(t.slide===e.slide?e.play():e.pause())})).on("move",(function(){e.pause()})).on("video:click",(function(t){t.slide!==e.slide&&e.pause()}))},t.handleClick=function(){var e=this;this.slide.addEventListener("mousedown",this.onMouseDown.bind(this)),this.slide.addEventListener("touchstart",this.onMouseDown.bind(this)),this.slide.addEventListener("mouseup",this.onMouseUp.bind(this)),this.slide.addEventListener("touchend",this.onMouseUp.bind(this)),this.Splide.on("drag",(function(){e.shouldHandleClick=!1}))},t.createPlayer=function(e){return void 0===e&&(e=null),null},t.play=function(){var e=this;this.state.is(1)&&this.setup(),this.state.is(7,3)||(setTimeout((function(){e.elements.hide()})),this.state.is(2)?this.state.set(3):(this.state.is(6)||this.playVideo(),this.state.set(5)))},t.pause=function(){this.Splide.options.video.disableOverlayUI||this.elements.show(),this.state.is(3)?this.state.set(2):this.state.is(5)?this.state.set(6):this.state.is(7)&&(this.state.set(4),this.pauseVideo())},t.playVideo=function(){this.player.play()},t.pauseVideo=function(){this.player.pause()},t.isActive=function(){return this.slide.classList.contains("is-active")},t.isAutoplay=function(){return this.Splide.options.video.autoplay},t.findVideoId=function(){return""},t.toggleRootClass=function(e){this.Splide.root.classList[e?"add":"remove"](this.Splide.classes.root.split(" ")[0]+"--has-video")},t.onMouseDown=function(){this.shouldHandleClick=!0},t.onMouseUp=function(){this.shouldHandleClick&&(this.Splide.emit("video:click",this),this.play())},t.onPlay=function(){this.state.is(6)?(this.state.set(7),this.pause()):(this.Splide.emit("video:play",this),this.state.set(7))},t.onPause=function(){this.Splide.emit("video:pause",this),this.state.set(4)},t.onEnded=function(){this.Splide.emit("video:ended",this),this.state.set(4)},t.destroy=function(){this.player&&(this.player.destroy(),this.player=null),this.toggleRootClass(!1),this.elements.destroy(),this.slide.removeEventListener("mousedown",this.onMouseDown.bind(this)),this.slide.removeEventListener("touchstart",this.onMouseDown.bind(this)),this.slide.removeEventListener("mouseup",this.onMouseUp.bind(this)),this.slide.removeEventListener("touchend",this.onMouseUp.bind(this))},e}(),c=["autoplay","autoPictureInPicture","controls","controlslist","crossorigin","currentTime","disablePictureInPicture","disableRemotePlayback","height","intrinsicsize","loop","muted","playsinline","poster","preload","width"],u=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.createPlayer=function(e){void 0===e&&(e=null);var t=this.Splide.options.video,n=t.playerOptions.htmlVideo,o=void 0===n?{}:n,i=document.createElement("video");return i.src=this.videoId,this.elements.iframe.appendChild(i),i.controls=!t.hideControls,i.loop=t.loop,i.volume=Math.max(Math.min(t.volume,1),0),i.muted=t.mute,s(o,(function(e,t){c.indexOf(t)>-1&&(i[t]=e)})),i.addEventListener("play",this.onPlay.bind(this)),i.addEventListener("pause",this.onPause.bind(this)),i.addEventListener("ended",this.onEnded.bind(this)),e&&i.addEventListener("loadeddata",e),i},i.findVideoId=function(){return this.slide.getAttribute("data-splide-html-video")},i.destroy=function(){this.player&&(this.player.pause(),this.player.removeAttribute("src"),this.player.load(),this.elements.iframe.removeChild(this.player),this.player=null),this.elements.destroy()},o}(a),l=function(e){var t,n;function s(t,n){var s;return(s=e.call(this,t,n)||this).createPlayers(u,"data-splide-html-video"),s}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s,s}(o);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var m=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=s.prototype;return o.createPlayer=function(e){var t=this;void 0===e&&(e=null);var n=this.Splide.options.video,s=n.playerOptions.youtube,o=void 0===s?{}:s;return new YT.Player(this.elements.iframe,{videoId:this.videoId,playerVars:d({controls:n.hideControls?0:1,iv_load_policy:3,loop:n.loop,playlist:n.loop?this.videoId:"",rel:0,autoplay:!1},o),events:{onReady:function(n){t.onPlayerReady(n),e&&e()},onStateChange:this.onPlayerStateChange.bind(this)}})},o.onPlayerReady=function(e){var t=e.target,n=this.Splide.options.video;n.mute&&t.mute(),t.setVolume(Math.max(Math.min(100*n.volume,100),0))},o.onPlayerStateChange=function(e){var t=YT.PlayerState,n=t.PLAYING,s=t.PAUSED,o=t.ENDED;switch(!0){case e.data===n:this.onPlay();break;case e.data===s:this.onPause();break;case e.data===o:this.onEnded()}},o.playVideo=function(){this.player.playVideo()},o.pauseVideo=function(){this.player.pauseVideo()},o.findVideoId=function(){var e=this.slide.getAttribute("data-splide-youtube").match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return e&&11===e[7].length?e[7]:""},s}(a),p=function(e){var t,n;function s(t,n){var s;return(s=e.call(this,t,n)||this).oldCallback=void 0,s.bindAPICallback(),s.loadAPI(),s}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=s.prototype;return o.loadAPI=function(){var e=window.YT;if(this.shouldLoadAPI()){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.src="https://www.youtube.com/player_api",n.parentNode.insertBefore(t,n)}else e&&e.loaded&&this.onReady()},o.shouldLoadAPI=function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if("https://www.youtube.com/player_api"===e[t].getAttribute("src"))return!1;return!0},o.bindAPICallback=function(){void 0!==window.onYouTubeIframeAPIReady&&(this.oldCallback=window.onYouTubeIframeAPIReady),window.onYouTubeIframeAPIReady=this.onYouTubeIframeAPIReady.bind(this)},o.onYouTubeIframeAPIReady=function(){this.oldCallback&&this.oldCallback(),this.onReady()},o.onReady=function(){this.createPlayers(m,"data-splide-youtube")},s}(o),f=n(1);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var _=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=s.prototype;return o.createPlayer=function(e){void 0===e&&(e=null);var t=this.Splide.options.video,n=t.playerOptions.vimeo,s=void 0===n?{}:n,o=new f.a(this.elements.iframe,h({id:this.videoId,controls:!t.hideControls,loop:t.loop},s));return o.on("play",this.onPlay.bind(this)),o.on("pause",this.onPause.bind(this)),o.on("ended",this.onEnded.bind(this)),o.setVolume(Math.max(Math.min(t.volume,1),0)),o.setMuted(s.muted||t.mute),e&&o.ready().then(e),o},o.findVideoId=function(){var e=this.slide.getAttribute("data-splide-vimeo").match(/vimeo.com\/(\d+)/);return e&&e[1]?e[1]:""},o.onPlay=function(){this.state.is(6)&&!this.isActive()?(this.player.destroy(),this.elements.show(),this.state.set(1)):(this.Splide.emit("video:play",this),this.state.set(7))},s}(a),g={HtmlVideo:l,YouTube:p,Vimeo:function(e){var t,n;function s(t,n){var s;return(s=e.call(this,t,n)||this).createPlayers(_,"data-splide-vimeo"),s}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s,s}(o)},v={autoplay:!1,disableOverlayUI:!1,hideControls:!1,loop:!1,mute:!1,volume:.2,playerOptions:{}};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}t.default=function(e,t){var n,o=[];return{mount:function(){var i;"object"!=typeof e.options.video&&(e.options.video={}),e.options.video=y({},v,{},e.options.video),s(g,(function(n){o.push(new n(e,t))})),i=e.root.classList,e.on("video:play",(function(e){n=e.slide,i.add("is-playing")})).on("video:pause video:ended",(function(e){e.slide===n&&(n=null,i.remove("is-playing"))})).on("destroy",(function(){i.remove("is-playing")}))},destroy:function(){o.forEach((function(e){e.destroy()}))}}}}])},e.exports=n()}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/@splidejs/splide/dist/css/themes/splide-default.min.css":function(e,t,n){},"./node_modules/@splidejs/splide/dist/js/splide.esm.js":function(e,t,n){
/*!
 * Splide.js
 * Version  : 2.4.20
 * License  : MIT
 * Copyright: 2020 Naotoshi Fujita
 */
var s;self,s=function(){return(()=>{"use strict";var e={311:(e,t,n)=>{n.r(t),n.d(t,{default:()=>he});var s={};function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}n.r(s),n.d(s,{CREATED:()=>F,DESTROYED:()=>$,IDLE:()=>q,MOUNTED:()=>z,MOVING:()=>W});var i=Object.keys;function r(e,t){i(e).some((function(n,s){return t(e[n],n,s)}))}function a(e){return i(e).map((function(t){return e[t]}))}function c(e){return"object"==typeof e}function u(e,t){var n=o({},e);return r(t,(function(e,t){c(e)?(c(n[t])||(n[t]={}),n[t]=u(n[t],e)):n[t]=e})),n}function l(e){return Array.isArray(e)?e:[e]}function d(e,t,n){return Math.min(Math.max(e,t>n?n:t),t>n?t:n)}function m(e,t){var n=0;return e.replace(/%s/g,(function(){return l(t)[n++]}))}function p(e){var t=typeof e;return"number"===t&&e>0?parseFloat(e)+"px":"string"===t?e:""}function f(e){return e<10?"0"+e:e}function h(e,t){if("string"==typeof t){var n=y("div",{});w(n,{position:"absolute",width:t}),k(e,n),t=n.clientWidth,j(n)}return+t||0}function _(e,t){return e?e.querySelector(t.split(" ")[0]):null}function g(e,t){return v(e,t)[0]}function v(e,t){return e?a(e.children).filter((function(e){return D(e,t.split(" ")[0])||e.tagName===t})):[]}function y(e,t){var n=document.createElement(e);return r(t,(function(e,t){return O(n,t,e)})),n}function b(e){var t=y("div",{});return t.innerHTML=e,t.firstChild}function j(e){l(e).forEach((function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}}))}function k(e,t){e&&e.appendChild(t)}function S(e,t){if(e&&t){var n=t.parentElement;n&&n.insertBefore(e,t)}}function w(e,t){e&&r(t,(function(t,n){null!==t&&(e.style[n]=t)}))}function P(e,t,n){e&&l(t).forEach((function(t){t&&e.classList[n?"remove":"add"](t)}))}function x(e,t){P(e,t,!1)}function C(e,t){P(e,t,!0)}function D(e,t){return!!e&&e.classList.contains(t)}function O(e,t,n){e&&e.setAttribute(t,n)}function E(e,t){return e?e.getAttribute(t):""}function I(e,t){l(t).forEach((function(t){l(e).forEach((function(e){return e&&e.removeAttribute(t)}))}))}function T(e){return e.getBoundingClientRect()}var M="loop";const L=function(e,t){var n,s;return{mount:function(){n=t.Elements.list,e.on("transitionend",(function(e){e.target===n&&s&&s()}),n)},start:function(o,i,r,a,c){var u=e.options,l=t.Controller.edgeIndex,d=u.speed;s=c,e.is("slide")&&(0===r&&i>=l||r>=l&&0===i)&&(d=u.rewindSpeed||d),w(n,{transition:"transform "+d+"ms "+u.easing,transform:"translate("+a.x+"px,"+a.y+"px)"})}}},A=function(e,t){function n(n){var s=e.options;w(t.Elements.slides[n],{transition:"opacity "+s.speed+"ms "+s.easing})}return{mount:function(){n(e.index)},start:function(e,s,o,i,r){var a=t.Elements.track;w(a,{height:p(a.clientHeight)}),n(s),setTimeout((function(){r(),w(a,{height:""})}))}}};function R(e){console.error("[SPLIDE] "+e)}function N(e,t){if(!e)throw new Error(t)}var U="splide",B={active:"is-active",visible:"is-visible",loading:"is-loading"},V={type:"slide",rewind:!1,speed:400,rewindSpeed:0,waitForTransition:!0,width:0,height:0,fixedWidth:0,fixedHeight:0,heightRatio:0,autoWidth:!1,autoHeight:!1,perPage:1,perMove:0,clones:0,start:0,focus:!1,gap:0,padding:0,arrows:!0,arrowPath:"",pagination:!0,autoplay:!1,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,lazyLoad:!1,preloadPages:1,easing:"cubic-bezier(.42,.65,.27,.99)",keyboard:"global",drag:!0,dragAngleThreshold:30,swipeDistanceThreshold:150,flickVelocityThreshold:.6,flickPower:600,flickMaxPages:1,direction:"ltr",cover:!1,accessibility:!0,slideFocus:!0,isNavigation:!1,trimSpace:!0,updateOnMove:!1,throttle:100,destroy:!1,breakpoints:!1,classes:{root:U,slider:U+"__slider",track:U+"__track",list:U+"__list",slide:U+"__slide",container:U+"__slide__container",arrows:U+"__arrows",arrow:U+"__arrow",prev:U+"__arrow--prev",next:U+"__arrow--next",pagination:U+"__pagination",page:U+"__pagination__page",clone:U+"__slide--clone",progress:U+"__progress",bar:U+"__progress__bar",autoplay:U+"__autoplay",play:U+"__play",pause:U+"__pause",spinner:U+"__spinner",sr:U+"__sr"},i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay"}},F=1,z=2,q=3,W=4,$=5;function G(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var Y=function(){function e(e,t,n){var o;void 0===t&&(t={}),void 0===n&&(n={}),this.root=e instanceof Element?e:document.querySelector(e),N(this.root,"An invalid element/selector was given."),this.Components=null,this.Event=function(){var e=[];function t(e){e.elm&&e.elm.removeEventListener(e.event,e.handler,e.options)}return{on:function(t,n,s,o){void 0===s&&(s=null),void 0===o&&(o={}),t.split(" ").forEach((function(t){s&&s.addEventListener(t,n,o),e.push({event:t,handler:n,elm:s,options:o})}))},off:function(n,s){void 0===s&&(s=null),n.split(" ").forEach((function(n){e=e.filter((function(e){return!e||e.event!==n||e.elm!==s||(t(e),!1)}))}))},emit:function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];e.forEach((function(e){e.elm||e.event.split(".")[0]!==t||e.handler.apply(e,s)}))},destroy:function(){e.forEach(t),e=[]}}}(),this.State=(o=F,{set:function(e){o=e},is:function(e){return e===o}}),this.STATES=s,this._o=u(V,t),this._i=0,this._c=n,this._e={},this._t=null}var t,n,o,i=e.prototype;return i.mount=function(e,t){var n=this;void 0===e&&(e=this._e),void 0===t&&(t=this._t),this.State.set(F),this._e=e,this._t=t,this.Components=function(e,t,n){var s={};return r(t,(function(t,n){s[n]=t(e,s,n.toLowerCase())})),n||(n=e.is("fade")?A:L),s.Transition=n(e,s),s}(this,u(this._c,e),t);try{r(this.Components,(function(e,t){var s=e.required;void 0===s||s?e.mount&&e.mount():delete n.Components[t]}))}catch(e){return void R(e.message)}var s=this.State;return s.set(z),r(this.Components,(function(e){e.mounted&&e.mounted()})),this.emit("mounted"),s.set(q),this.emit("ready"),w(this.root,{visibility:"visible"}),this.on("move drag",(function(){return s.set(W)})).on("moved dragged",(function(){return s.set(q)})),this},i.sync=function(e){return this.sibling=e,this},i.on=function(e,t,n,s){return void 0===n&&(n=null),void 0===s&&(s={}),this.Event.on(e,t,n,s),this},i.off=function(e,t){return void 0===t&&(t=null),this.Event.off(e,t),this},i.emit=function(e){for(var t,n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return(t=this.Event).emit.apply(t,[e].concat(s)),this},i.go=function(e,t){return void 0===t&&(t=this.options.waitForTransition),(this.State.is(q)||this.State.is(W)&&!t)&&this.Components.Controller.go(e,!1),this},i.is=function(e){return e===this._o.type},i.add=function(e,t){return void 0===t&&(t=-1),this.Components.Elements.add(e,t,this.refresh.bind(this)),this},i.remove=function(e){return this.Components.Elements.remove(e),this.refresh(),this},i.refresh=function(){return this.emit("refresh:before").emit("refresh").emit("resize"),this},i.destroy=function(e){var t=this;if(void 0===e&&(e=!0),!this.State.is(F))return a(this.Components).reverse().forEach((function(t){t.destroy&&t.destroy(e)})),this.emit("destroy",e),this.Event.destroy(),this.State.set($),this;this.on("ready",(function(){return t.destroy(e)}))},t=e,(n=[{key:"index",get:function(){return this._i},set:function(e){this._i=parseInt(e)}},{key:"length",get:function(){return this.Components.Elements.length}},{key:"options",get:function(){return this._o},set:function(e){var t=this.State.is(F);t||this.emit("update"),this._o=u(this._o,e),t||this.emit("updated",this._o)}},{key:"classes",get:function(){return this._o.classes}},{key:"i18n",get:function(){return this._o.i18n}}])&&G(t.prototype,n),o&&G(t,o),e}();const H=function(e){var t=E(e.root,"data-splide");if(t)try{e.options=JSON.parse(t)}catch(e){R(e.message)}return{mount:function(){e.State.is(F)&&(e.index=e.options.start)}}},K=function(e,t){var n=e.root,s=e.classes,o=[];if(!n.id){window.splide=window.splide||{};var i=window.splide.uid||0;window.splide.uid=++i,n.id="splide"+f(i)}var c={mount:function(){var t=this;this.init(),e.on("refresh",(function(){t.destroy(),t.init()})).on("updated",(function(){C(n,u()),x(n,u())}))},destroy:function(){o.forEach((function(e){e.destroy()})),o=[],C(n,u())},init:function(){var e=this;!function(){c.slider=g(n,s.slider),c.track=_(n,"."+s.track),c.list=g(c.track,s.list),N(c.track&&c.list,"Track or list was not found."),c.slides=v(c.list,s.slide);var e=l(s.arrows);c.arrows={prev:_(e,"."+s.prev),next:_(e,"."+s.next)};var t=l(s.autoplay);c.bar=_(l(s.progress),"."+s.bar),c.play=_(t,"."+s.play),c.pause=_(t,"."+s.pause),c.track.id=c.track.id||n.id+"-track",c.list.id=c.list.id||n.id+"-list"}(),x(n,u()),this.slides.forEach((function(t,n){e.register(t,n,-1)}))},register:function(t,n,s){var i=function(e,t,n,s){var o=e.options.updateOnMove,i="ready.slide updated.slide resized.slide moved.slide"+(o?" move.slide":""),r={slide:s,index:t,realIndex:n,container:g(s,e.classes.container),isClone:n>-1,mount:function(){var r=this;this.isClone||(s.id=e.root.id+"-slide"+f(t+1)),e.on(i,(function(){return r.update()})).on("update.slide",u).on("click",(function(){return e.emit("click",r)}),s),o&&e.on("move.slide",(function(e){e===n&&c(!0,!1)})),w(s,{display:""}),this.styles=E(s,"style")||""},destroy:function(){e.off(i).off("update.slide").off("click",s),C(s,a(B)),u(),I(this.container,"style")},update:function(){c(this.isActive(),!1),c(this.isVisible(),!0)},isActive:function(){return e.index===t},isVisible:function(){var t=this.isActive();if(e.is("fade")||t)return t;var n=Math.ceil,o=T(e.Components.Elements.track),i=T(s);return"ttb"===e.options.direction?o.top<=i.top&&i.bottom<=n(o.bottom):o.left<=i.left&&i.right<=n(o.right)},isWithin:function(n,s){var o=Math.abs(n-t);return e.is("slide")||this.isClone||(o=Math.min(o,e.length-o)),o<s}};function c(t,n){var o=n?"visible":"active",i=B[o];t?(x(s,i),e.emit(""+o,r)):D(s,i)&&(C(s,i),e.emit(n?"hidden":"inactive",r))}function u(){O(s,"style",r.styles)}return r}(e,n,s,t);i.mount(),o.push(i)},getSlide:function(e){return o.filter((function(t){return t.index===e}))[0]},getSlides:function(e){return e?o:o.filter((function(e){return!e.isClone}))},getSlidesByPage:function(n){var s=t.Controller.toIndex(n),i=e.options,r=!1!==i.focus?1:i.perPage;return o.filter((function(e){var t=e.index;return s<=t&&t<s+r}))},add:function(e,t,n){if("string"==typeof e&&(e=b(e)),e instanceof Element){var s=this.slides[t];w(e,{display:"none"}),s?(S(e,s),this.slides.splice(t,0,e)):(k(this.list,e),this.slides.push(e)),function(e,t){var n=e.querySelectorAll("img"),s=n.length;if(s){var o=0;r(n,(function(e){e.onload=e.onerror=function(){++o===s&&t()}}))}else t()}(e,(function(){n&&n(e)}))}},remove:function(e){j(this.slides.splice(e,1)[0])},each:function(e){o.forEach(e)},get length(){return this.slides.length},get total(){return o.length}};function u(){var t=s.root,n=e.options;return[t+"--"+n.type,t+"--"+n.direction,n.drag?t+"--draggable":"",n.isNavigation?t+"--nav":"",B.active]}function l(e){return g(n,e)||g(c.slider,e)}return c};var Q=Math.floor;const X=function(e,t){var n,s,o={mount:function(){n=e.options,s=e.is(M),e.on("move",(function(t){e.index=t})).on("updated refresh",(function(t){n=t||n,e.index=d(e.index,0,o.edgeIndex)}))},go:function(e,n){var s=this.trim(this.parse(e));t.Track.go(s,this.rewind(s),n)},parse:function(t){var s=e.index,i=String(t).match(/([+\-<>]+)(\d+)?/),r=i?i[1]:"",a=i?parseInt(i[2]):0;switch(r){case"+":s+=a||1;break;case"-":s-=a||1;break;case">":case"<":s=function(e,t,s){if(e>-1)return o.toIndex(e);var i=n.perMove,r=s?-1:1;return i?t+i*r:o.toIndex(o.toPage(t)+r)}(a,s,"<"===r);break;default:s=parseInt(t)}return s},toIndex:function(t){if(i())return t;var s=e.length,o=n.perPage,r=t*o;return s-o<=(r-=(this.pageLength*o-s)*Q(r/s))&&r<s&&(r=s-o),r},toPage:function(t){if(i())return t;var s=e.length,o=n.perPage;return Q(s-o<=t&&t<s?(s-1)/o:t/o)},trim:function(e){return s||(e=n.rewind?this.rewind(e):d(e,0,this.edgeIndex)),e},rewind:function(e){var t=this.edgeIndex;if(s){for(;e>t;)e-=t+1;for(;e<0;)e+=t+1}else e>t?e=0:e<0&&(e=t);return e},isRtl:function(){return"rtl"===n.direction},get pageLength(){var t=e.length;return i()?t:Math.ceil(t/n.perPage)},get edgeIndex(){var t=e.length;return t?i()||n.isNavigation||s?t-1:t-n.perPage:0},get prevIndex(){var t=e.index-1;return(s||n.rewind)&&(t=this.rewind(t)),t>-1?t:-1},get nextIndex(){var t=e.index+1;return(s||n.rewind)&&(t=this.rewind(t)),e.index<t&&t<=this.edgeIndex||0===t?t:-1}};function i(){return!1!==n.focus}return o};var Z=Math.abs;const J=function(e,t){var n,s,o,i="ttb"===e.options.direction,r=e.is("fade"),a="rtl"===e.options.direction,c=!1,u=a?1:-1,l={sign:u,mount:function(){s=t.Elements,n=t.Layout,o=s.list},mounted:function(){var t=this;r||(this.jump(0),e.on("mounted resize updated",(function(){t.jump(e.index)})))},go:function(n,s,o){var i=p(n),a=e.index;e.State.is(W)&&c||(c=n!==s,o||e.emit("move",s,a,n),Math.abs(i-this.position)>=1||r?t.Transition.start(n,s,a,this.toCoord(i),(function(){m(n,s,a,o)})):n!==a&&"move"===e.options.trimSpace?t.Controller.go(n+n-a,o):m(n,s,a,o))},jump:function(e){this.translate(p(e))},translate:function(e){w(o,{transform:"translate"+(i?"Y":"X")+"("+e+"px)"})},cancel:function(){e.is(M)?this.shift():this.translate(this.position),w(o,{transition:""})},shift:function(){var t=Z(this.position),n=Z(this.toPosition(0)),s=Z(this.toPosition(e.length)),o=s-n;t<n?t+=o:t>s&&(t-=o),this.translate(u*t)},trim:function(t){return!e.options.trimSpace||e.is(M)?t:d(t,u*(n.totalSize()-n.size-n.gap),0)},toIndex:function(e){var t=this,n=0,o=1/0;return s.getSlides(!0).forEach((function(s){var i=s.index,r=Z(t.toPosition(i)-e);r<o&&(o=r,n=i)})),n},toCoord:function(e){return{x:i?0:e,y:i?e:0}},toPosition:function(e){var t=n.totalSize(e)-n.slideSize(e)-n.gap;return u*(t+this.offset(e))},offset:function(t){var s=e.options.focus,o=n.slideSize(t);return"center"===s?-(n.size-o)/2:-(parseInt(s)||0)*(o+n.gap)},get position(){var e=i?"top":a?"right":"left";return T(o)[e]-(T(s.track)[e]-n.padding[e]*u)}};function m(t,n,s,i){w(o,{transition:""}),c=!1,r||l.jump(n),i||e.emit("moved",n,s,t)}function p(e){return l.trim(l.toPosition(e))}return l},ee=function(e,t){var n=[],s=0,o=t.Elements,i={mount:function(){var t=this;e.is(M)&&(r(),e.on("refresh:before",(function(){t.destroy()})).on("refresh",r).on("resize",(function(){s!==a()&&(t.destroy(),e.refresh())})))},destroy:function(){j(n),n=[]},get clones(){return n},get length(){return n.length}};function r(){i.destroy(),function(e){var t=o.length,s=o.register;if(t){for(var i=o.slides;i.length<e;)i=i.concat(i);i.slice(0,e).forEach((function(e,i){var r=c(e);k(o.list,r),n.push(r),s(r,i+t,i%t)})),i.slice(-e).forEach((function(o,r){var a=c(o);S(a,i[0]),n.push(a),s(a,r-e,(t+r-e%t)%t)}))}}(s=a())}function a(){var t=e.options;if(t.clones)return t.clones;var n=t.autoWidth||t.autoHeight?o.length:t.perPage,s="ttb"===t.direction?"Height":"Width",i=h(e.root,t["fixed"+s]);return i&&(n=Math.ceil(o.track["client"+s]/i)),n*(t.drag?t.flickMaxPages+1:1)}function c(t){var n=t.cloneNode(!0);return x(n,e.classes.clone),I(n,"id"),n}return i};function te(e,t){var n;return function(){n||(n=setTimeout((function(){e(),n=null}),t))}}const ne=function(e,t){var n,s,o=t.Elements,r="ttb"===e.options.direction,a=(n={mount:function(){e.on("resize load",te((function(){e.emit("resize")}),e.options.throttle),window).on("resize",u).on("updated refresh",c),c(),this.totalSize=r?this.totalHeight:this.totalWidth,this.slideSize=r?this.slideHeight:this.slideWidth},destroy:function(){I([o.list,o.track],"style")},get size(){return r?this.height:this.width}},s=r?function(e,t){var n,s,o=t.Elements,i=e.root;return{margin:"marginBottom",init:function(){this.resize()},resize:function(){s=e.options,n=o.track,this.gap=h(i,s.gap);var t=s.padding,r=h(i,t.top||t),a=h(i,t.bottom||t);this.padding={top:r,bottom:a},w(n,{paddingTop:p(r),paddingBottom:p(a)})},totalHeight:function(t){void 0===t&&(t=e.length-1);var n=o.getSlide(t);return n?T(n.slide).bottom-T(o.list).top+this.gap:0},slideWidth:function(){return h(i,s.fixedWidth||this.width)},slideHeight:function(e){if(s.autoHeight){var t=o.getSlide(e);return t?t.slide.offsetHeight:0}var n=s.fixedHeight||(this.height+this.gap)/s.perPage-this.gap;return h(i,n)},get width(){return n.clientWidth},get height(){var e=s.height||this.width*s.heightRatio;return N(e,'"height" or "heightRatio" is missing.'),h(i,e)-this.padding.top-this.padding.bottom}}}(e,t):function(e,t){var n,s=t.Elements,o=e.root,i=e.options;return{margin:"margin"+("rtl"===i.direction?"Left":"Right"),height:0,init:function(){this.resize()},resize:function(){i=e.options,n=s.track,this.gap=h(o,i.gap);var t=i.padding,r=h(o,t.left||t),a=h(o,t.right||t);this.padding={left:r,right:a},w(n,{paddingLeft:p(r),paddingRight:p(a)})},totalWidth:function(t){void 0===t&&(t=e.length-1);var n=s.getSlide(t),o=0;if(n){var r=T(n.slide),a=T(s.list);o="rtl"===i.direction?a.right-r.left:r.right-a.left,o+=this.gap}return o},slideWidth:function(e){if(i.autoWidth){var t=s.getSlide(e);return t?t.slide.offsetWidth:0}var n=i.fixedWidth||(this.width+this.gap)/i.perPage-this.gap;return h(o,n)},slideHeight:function(){var e=i.height||i.fixedHeight||this.width*i.heightRatio;return h(o,e)},get width(){return n.clientWidth-this.padding.left-this.padding.right}}}(e,t),i(s).forEach((function(e){n[e]||Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(s,e))})),n);function c(){a.init(),w(e.root,{maxWidth:p(e.options.width)}),o.each((function(e){e.slide.style[a.margin]=p(a.gap)})),u()}function u(){var t=e.options;a.resize(),w(o.track,{height:p(a.height)});var n=t.autoHeight?null:p(a.slideHeight());o.each((function(e){w(e.container,{height:n}),w(e.slide,{width:t.autoWidth?null:p(a.slideWidth(e.index)),height:e.container?null:n})})),e.emit("resized")}return a};var se=Math.abs;const oe=function(e,t){var n,s,o,i,a=t.Track,c=t.Controller,u="ttb"===e.options.direction,l=u?"y":"x",m={disabled:!1,mount:function(){var n=this,s=t.Elements,o=s.track;e.on("touchstart mousedown",p,o).on("touchmove mousemove",h,o,{passive:!1}).on("touchend touchcancel mouseleave mouseup dragend",_,o).on("mounted refresh",(function(){r(s.list.querySelectorAll("img, a"),(function(t){e.off("dragstart",t).on("dragstart",(function(e){e.preventDefault()}),t,{passive:!1})}))})).on("mounted updated",(function(){n.disabled=!e.options.drag}))}};function p(e){m.disabled||i||f(e)}function f(e){n=a.toCoord(a.position),s=g(e,{}),o=s}function h(t){if(s)if(o=g(t,s),i){if(t.cancelable&&t.preventDefault(),!e.is("fade")){var r=n[l]+o.offset[l];a.translate(function(t){if(e.is("slide")){var n=a.sign,s=n*a.trim(a.toPosition(0)),o=n*a.trim(a.toPosition(c.edgeIndex));(t*=n)<s?t=s-7*Math.log(s-t):t>o&&(t=o+7*Math.log(t-o)),t*=n}return t}(r))}}else(function(t){var n=t.offset;if(e.State.is(W)&&e.options.waitForTransition)return!1;var s=180*Math.atan(se(n.y)/se(n.x))/Math.PI;return u&&(s=90-s),s<e.options.dragAngleThreshold})(o)&&(e.emit("drag",s),i=!0,a.cancel(),f(t))}function _(){s=null,i&&(e.emit("dragged",o),function(n){var s=n.velocity[l],o=se(s);if(o>0){var i=e.options,r=e.index,u=s<0?-1:1,m=r;if(!e.is("fade")){var p=a.position;o>i.flickVelocityThreshold&&se(n.offset[l])<i.swipeDistanceThreshold&&(p+=u*Math.min(o*i.flickPower,t.Layout.size*(i.flickMaxPages||1))),m=a.toIndex(p)}m===r&&o>.1&&(m=r+u*a.sign),e.is("slide")&&(m=d(m,0,c.edgeIndex)),c.go(m,i.isNavigation)}}(o),i=!1)}function g(e,t){var n=e.timeStamp,s=e.touches,o=s?s[0]:e,i=o.clientX,r=o.clientY,a=t.to||{},c=a.x,u=void 0===c?i:c,l=a.y,d={x:i-u,y:r-(void 0===l?r:l)},m=n-(t.time||0);return{to:{x:i,y:r},offset:d,time:n,velocity:{x:d.x/m,y:d.y/m}}}return m},ie=function(e,t){var n=!1;function s(e){n&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}return{required:e.options.drag,mount:function(){e.on("click",s,t.Elements.track,{capture:!0}).on("drag",(function(){n=!0})).on("dragged",(function(){setTimeout((function(){n=!1}))}))}}};var re=1,ae=2,ce=3;const ue=function(e,t,n){var s,o,i,r=e.classes,a=e.root,c=t.Elements;function u(){var i=t.Controller,r=i.prevIndex,a=i.nextIndex,c=e.length>e.options.perPage||e.is(M);s.disabled=r<0||!c,o.disabled=a<0||!c,e.emit(n+":updated",s,o,r,a)}function l(t){return b('<button class="'+r.arrow+" "+(t?r.prev:r.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg"\tviewBox="0 0 40 40"\twidth="40"\theight="40"><path d="'+(e.options.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}return{required:e.options.arrows,mount:function(){s=c.arrows.prev,o=c.arrows.next,s&&o||!e.options.arrows||(s=l(!0),o=l(!1),i=!0,function(){var t=y("div",{class:r.arrows});k(t,s),k(t,o);var n=c.slider,i="slider"===e.options.arrows&&n?n:a;S(t,i.firstElementChild)}()),s&&o&&e.on("click",(function(){e.go("<")}),s).on("click",(function(){e.go(">")}),o).on("mounted move updated refresh",u),this.arrows={prev:s,next:o}},mounted:function(){e.emit(n+":mounted",s,o)},destroy:function(){I([s,o],"disabled"),i&&j(s.parentElement)}}},le=function(e,t,n){var s={},o=t.Elements,i={mount:function(){var t=e.options.pagination;if(t){s=function(){var t=e.options,n=e.classes,s=y("ul",{class:n.pagination}),i=o.getSlides(!1).filter((function(e){return!1!==t.focus||e.index%t.perPage==0})).map((function(t,i){var r=y("li",{}),a=y("button",{class:n.page,type:"button"});return k(r,a),k(s,r),e.on("click",(function(){e.go(">"+i)}),a),{li:r,button:a,page:i,Slides:o.getSlidesByPage(i)}}));return{list:s,items:i}}();var n=o.slider;k("slider"===t&&n?n:e.root,s.list),e.on("move.page",r)}e.off("updated.page refresh.page").on("updated.page refresh.page",(function(){i.destroy(),e.options.pagination&&(i.mount(),i.mounted())}))},mounted:function(){if(e.options.pagination){var t=e.index;e.emit(n+":mounted",s,this.getItem(t)),r(t,-1)}},destroy:function(){j(s.list),s.items&&s.items.forEach((function(t){e.off("click",t.button)})),e.off("move.page"),s={}},getItem:function(e){return s.items[t.Controller.toPage(e)]},get data(){return s}};function r(t,o){var r=i.getItem(o),a=i.getItem(t),c=B.active;r&&C(r.button,c),a&&x(a.button,c),e.emit(n+":updated",s,r,a)}return i};var de={ltr:{ArrowLeft:"<",ArrowRight:">",Left:"<",Right:">"},rtl:{ArrowLeft:">",ArrowRight:"<",Left:">",Right:"<"},ttb:{ArrowUp:"<",ArrowDown:">",Up:"<",Down:">"}};const me=function(e,t){var n=e.i18n,s=t.Elements,o=["aria-hidden","tabindex","aria-controls","aria-label","aria-current","role"];function i(t,n){O(t,"aria-hidden",!n),e.options.slideFocus&&O(t,"tabindex",n?0:-1)}function r(e,t){var n=s.track.id;O(e,"aria-controls",n),O(t,"aria-controls",n)}function a(t,s,o,i){var r=e.index,a=o>-1&&r<o?n.last:n.prev,c=i>-1&&r>i?n.first:n.next;O(t,"aria-label",a),O(s,"aria-label",c)}function c(t,s){s&&O(s.button,"aria-current",!0),t.items.forEach((function(t){var s=e.options,o=m(!1===s.focus&&s.perPage>1?n.pageX:n.slideX,t.page+1),i=t.button;O(i,"aria-controls",t.Slides.map((function(e){return e.slide.id})).join(" ")),O(i,"aria-label",o)}))}function u(e,t,n){t&&I(t.button,"aria-current"),n&&O(n.button,"aria-current",!0)}function l(e){s.each((function(t){var s=t.slide,o=t.realIndex;p(s)||O(s,"role","button");var i=o>-1?o:t.index,r=m(n.slideX,i+1),a=e.Components.Elements.getSlide(i);O(s,"aria-label",r),a&&O(s,"aria-controls",a.slide.id)}))}function d(e,t){var n=e.slide;t?O(n,"aria-current",!0):I(n,"aria-current")}function p(e){return"BUTTON"===e.tagName}return{required:e.options.accessibility,mount:function(){e.on("visible",(function(e){i(e.slide,!0)})).on("hidden",(function(e){i(e.slide,!1)})).on("arrows:mounted",r).on("arrows:updated",a).on("pagination:mounted",c).on("pagination:updated",u).on("refresh",(function(){I(t.Clones.clones,o)})),e.options.isNavigation&&e.on("navigation:mounted navigation:updated",l).on("active",(function(e){d(e,!0)})).on("inactive",(function(e){d(e,!1)})),["play","pause"].forEach((function(e){var t=s[e];t&&(p(t)||O(t,"role","button"),O(t,"aria-controls",s.track.id),O(t,"aria-label",n[e]))}))},destroy:function(){var e=t.Arrows,n=e?e.arrows:{};I(s.slides.concat([n.prev,n.next,s.play,s.pause]),o)}}};var pe=[" ","Enter","Spacebar"],fe={Options:H,Breakpoints:function(e){var t,n,s=e.options.breakpoints,o=te(r,50),i=[];function r(){var o,r=(o=i.filter((function(e){return e.mql.matches}))[0])?o.point:-1;if(r!==n){n=r;var a=e.State,c=s[r]||t,u=c.destroy;u?(e.options=t,e.destroy("completely"===u)):(a.is($)&&e.mount(),e.options=c)}}return{required:s&&matchMedia,mount:function(){i=Object.keys(s).sort((function(e,t){return+e-+t})).map((function(e){return{point:e,mql:matchMedia("(max-width:"+e+"px)")}})),this.destroy(!0),addEventListener("resize",o),t=e.options,r()},destroy:function(e){e&&removeEventListener("resize",o)}}},Controller:X,Elements:K,Track:J,Clones:ee,Layout:ne,Drag:oe,Click:ie,Autoplay:function(e,t,n){var s,o=[],i=t.Elements,r={required:e.options.autoplay,mount:function(){var t=e.options;i.slides.length>t.perPage&&(s=function(e,t,n){var s,o,i,r=window.requestAnimationFrame,a=!0,c=function c(u){a||(s||(s=u,i&&i<1&&(s-=i*t)),i=(o=u-s)/t,o>=t&&(s=0,i=1,e()),n&&n(i),r(c))};return{pause:function(){a=!0,s=0},play:function(e){s=0,e&&(i=0),a&&(a=!1,r(c))}}}((function(){e.go(">")}),t.interval,(function(t){e.emit(n+":playing",t),i.bar&&w(i.bar,{width:100*t+"%"})})),function(){var t=e.options,n=e.sibling,s=[e.root,n?n.root:null];t.pauseOnHover&&(a(s,"mouseleave",re,!0),a(s,"mouseenter",re,!1)),t.pauseOnFocus&&(a(s,"focusout",ae,!0),a(s,"focusin",ae,!1)),i.play&&e.on("click",(function(){r.play(ae),r.play(ce)}),i.play),i.pause&&a([i.pause],"click",ce,!1),e.on("move refresh",(function(){r.play()})).on("destroy",(function(){r.pause()}))}(),this.play())},play:function(t){void 0===t&&(t=0),(o=o.filter((function(e){return e!==t}))).length||(e.emit(n+":play"),s.play(e.options.resetProgress))},pause:function(t){void 0===t&&(t=0),s.pause(),-1===o.indexOf(t)&&o.push(t),1===o.length&&e.emit(n+":pause")}};function a(t,n,s,o){t.forEach((function(t){e.on(n,(function(){r[o?"play":"pause"](s)}),t)}))}return r},Cover:function(e,t){function n(e){t.Elements.each((function(t){var n=g(t.slide,"IMG")||g(t.container,"IMG");n&&n.src&&s(n,e)}))}function s(e,t){w(e.parentElement,{background:t?"":'center/cover no-repeat url("'+e.src+'")'}),w(e,{display:t?"":"none"})}return{required:e.options.cover,mount:function(){e.on("lazyload:loaded",(function(e){s(e,!1)})),e.on("mounted updated refresh",(function(){return n(!1)}))},destroy:function(){n(!0)}}},Arrows:ue,Pagination:le,LazyLoad:function(e,t,n){var s,o,i=e.options,a="sequential"===i.lazyLoad;function c(){o=[],s=0}function u(t){t=isNaN(t)?e.index:t,(o=o.filter((function(e){return!e.Slide.isWithin(t,i.perPage*(i.preloadPages+1))||(l(e.img,e.Slide),!1)})))[0]||e.off("moved."+n)}function l(t,n){x(n.slide,B.loading);var s=y("span",{class:e.classes.spinner});k(t.parentElement,s),t.onload=function(){m(t,s,n,!1)},t.onerror=function(){m(t,s,n,!0)},O(t,"srcset",E(t,"data-splide-lazy-srcset")||""),O(t,"src",E(t,"data-splide-lazy")||"")}function d(){if(s<o.length){var e=o[s];l(e.img,e.Slide)}s++}function m(t,s,o,i){C(o.slide,B.loading),i||(j(s),w(t,{display:""}),e.emit(n+":loaded",t).emit("resize")),a&&d()}return{required:i.lazyLoad,mount:function(){e.on("mounted refresh",(function(){c(),t.Elements.each((function(e){r(e.slide.querySelectorAll("[data-splide-lazy], [data-splide-lazy-srcset]"),(function(t){t.src||t.srcset||(o.push({img:t,Slide:e}),w(t,{display:"none"}))}))})),a&&d()})),a||e.on("mounted refresh moved."+n,u)},destroy:c}},Keyboard:function(e){var t;return{mount:function(){e.on("mounted updated",(function(){var n=e.options,s=e.root,o=de[n.direction],i=n.keyboard;t&&(e.off("keydown",t),I(s,"tabindex")),i&&("focused"===i?(t=s,O(s,"tabindex",0)):t=document,e.on("keydown",(function(t){o[t.key]&&e.go(o[t.key])}),t))}))}}},Sync:function(e){var t=e.sibling,n=t&&t.options.isNavigation;function s(){e.on("move.sync",(function(e,n,s){t.off("move.sync").go(t.is(M)?s:e,!1),o()}))}function o(){t.on("move.sync",(function(t,n,o){e.off("move.sync").go(e.is(M)?o:t,!1),s()}))}function i(){t.Components.Elements.each((function(t){var n=t.slide,s=t.index;e.off("mouseup touchend",n).on("mouseup touchend",(function(e){e.button&&0!==e.button||r(s)}),n),e.off("keyup",n).on("keyup",(function(e){pe.indexOf(e.key)>-1&&(e.preventDefault(),r(s))}),n,{passive:!1})}))}function r(n){e.State.is(q)&&t.go(n)}return{required:!!t,mount:function(){s(),o(),n&&(i(),e.on("refresh",(function(){setTimeout((function(){i(),t.emit("navigation:updated",e)}))})))},mounted:function(){n&&t.emit("navigation:mounted",e)}}},A11y:me},he=function(e){var t,n;function s(t,n){return e.call(this,t,n,fe)||this}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s}(Y)}},t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={exports:{}};return e[s](o,o.exports,n),o.exports}return n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(311)})()},e.exports=s()},"./node_modules/@splidejs/vue-splide/src/js/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var s=n("./node_modules/@splidejs/splide/dist/js/splide.esm.js"),o=n.n(s);const i=["mounted","updated","move","moved","drag","dragged","visible","hidden","active","inactive","click","arrows:mounted","arrows:updated","pagination:mounted","pagination:updated","navigation:mounted","autoplay:play","autoplay:pause","autoplay:playing","lazyload:loaded"];var r={name:"Splide",props:{options:{type:Object,default:()=>({})},hasSliderWrapper:Boolean,extensions:{type:Object,default:()=>({})},transition:{type:Function,default:null},slides:Array},data:()=>({splide:null}),mounted(){this.splide=new o.a(this.$el,this.options),this.bind(),this.splide.mount(this.extensions,this.transition)},beforeDestroy(){this.splide.destroy()},watch:{slides(){this.remount()}},computed:{index(){return this.splide.index},length(){return this.splide.length}},methods:{go(e,t=!0){this.splide.go(e,t)},sync(e){this.splide.sync(e),this.remount()},bind(){i.forEach(e=>{this.splide.on(e,(...t)=>{this.$emit("splide:"+e,this.splide,...t)})})},remount(){this.$nextTick(()=>{this.splide.destroy(),this.splide.mount(),this.bind()})}}},a=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),c=Object(a.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"splide"},[this.hasSliderWrapper?t("div",{staticClass:"splide__slider"},[t("div",{staticClass:"splide__track"},[t("ul",{staticClass:"splide__list"},[this._t("default")],2)])]):t("div",{staticClass:"splide__track"},[t("ul",{staticClass:"splide__list"},[this._t("default")],2)]),this._v(" "),this._t("controls")],2)}),[],!1,null,null,null).exports,u={name:"SplideSlide"},l=Object(a.a)(u,(function(){var e=this.$createElement;return(this._self._c||e)("li",{staticClass:"splide__slide"},[this._t("default")],2)}),[],!1,null,null,null).exports},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/Freshchat.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./resources/pc/js/libs/GoogleTagManager/GtmEventUtils.js"),o=n("./node_modules/vuex/dist/vuex.esm.js"),i=n("./node_modules/moment-timezone/index.js"),r=n.n(i),a=n("./resources/pc/js/config/freshchat.js"),c=n("./resources/pc/js/mixins/loginModal/loginModalSelector.js");function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var d=Object.defineProperty,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=function(e,t,n){return t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n};t.a={mixins:[c.a],props:{msgHandler:{type:String,default:"KKDAY"},langUI:{type:String,default:kkday.constants.getValue("LANG_UI")},countryLang:{type:String,default:kkday.constants.getValue("COUNTRY_LANG")},isLoginRequired:{type:Boolean,default:!0},freshchatSetting:{type:Object,required:!0},optionalData:{type:Object,default:function(){return{}}}},data:function(){return{freshchatScriptUrl:a.a.scriptUrl,hasUnreadMessage:!1,isShow:!1,isLoading:!1,isContactSupportPopedUp:!1,isClickedContactSupport:!1}},computed:function(e,t){for(var n in t||(t={}))p.call(t,n)&&h(e,n,t[n]);if(m){var s,o=u(m(t));try{for(o.s();!(s=o.n()).done;){n=s.value;f.call(t,n)&&h(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e}({config:function(){return{token:a.a.token,host:a.a.host,externalId:this.member.memberUuid,tags:this.fcTags,locale:this.faqLocaleMapping,faqTags:{tags:this.faqTags,filterType:"article"},config:{showFAQOnOpen:!1,hideFAQ:!0,agent:{hideName:!0,hidePic:!0,hideBio:!0},headerProperty:{hideChatButton:!0,appName:this.messageTitle,appLogo:kkday.url.staticResourceUrl("assets/img/KKday_member_icon.svg"),backgroundColor:"#26bec9",foregroundColor:"#ffffff",backgroundImage:kkday.url.staticResourceUrl("assets/img/bg_chat.jpg"),fontName:"Noto Sans TC Regular",fontUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+TC:400,700&display=swap"},content:{placeholders:{search_field:this.lang("common_search"),reply_field:this.lang("common_reply")},actions:{push_notify_yes:this.lang("common_yes"),push_notify_no:this.lang("common_no"),csat_yes:this.lang("common_yes"),csat_no:this.lang("common_no"),csat_submit:this.lang("common_btn_submit")},headers:{chat:this.lang("common_customer_service_chat"),chat_help:this.lang("common_customer_service_chat_help"),push_notification:this.lang("common_customer_service_push_notification"),csat_question:this.lang("common_customer_service_csat_question"),csat_yes_question:this.lang("common_customer_service_csat_yes_question"),csat_no_question:this.lang("common_customer_service_csat_no_question"),csat_thankyou:this.lang("common_customer_service_csat_thankyou"),csat_rate_here:this.lang("common_customer_service_csat_rate_here"),channel_response:{offline:this.subTitle,online:{minutes:{one:this.subTitle,more:this.subTitle},hours:{one:this.subTitle,more:this.subTitle}}}}}}}},faqTags:function(){return"ja"===this.langUI?["".concat(this.optionalData.ProductId,"-").concat(this.channelTag),"default-ja"]:[this.optionalData.ProductId,"default"]},faqLocaleMapping:function(){return _.has(a.a.faqLocaleMapping,this.langUI)?a.a.faqLocaleMapping[this.langUI]:this.langUI},businessSetting:function(){return{start:this.freshchatSetting.service.start,end:this.freshchatSetting.service.end,timezone:this.freshchatSetting.service.timezone,isOpen:this.freshchatSetting.service.isOpen}},subTitle:function(){return this.isInBusinessTime(this.businessSetting)?this.lang("common_customer_service_online"):this.lang("common_customer_service_offline")},messageTitle:function(){return this.isInBusinessTime(this.businessSetting)?"KKday":"KKday"+this.lang("common_customer_service_offline_message_title")},channelTag:function(){return this.freshchatSetting.service.channel?this.freshchatSetting.service.channel:a.a.countryLangChannelTags.includes(this.countryLang)?this.countryLang:_.has(a.a.channelTagMapping,this.langUI)?a.a.channelTagMapping[this.langUI]:"en"},productTag:function(){return _.has(this.freshchatSetting.data,this.optionalData.ProductMid)?this.freshchatSetting.data[this.optionalData.ProductMid]:""},fcTags:function(){return _.isEmpty(this.productTag)?[this.channelTag]:[this.productTag]},isFreshchatOffline:function(){return!this.isInBusinessTime(this.businessSetting)}},Object(o.c)({member:"common/member"})),created:function(){var t=this;if(!window.fcWidget)return this.initScript(),void window.addEventListener("scroll",_.debounce((function(){if(!_.isEmpty(t.$parent.$refs.productWrap)){var n=t.$parent.$refs.productWrap.offsetTop+e("#booking-bar").outerHeight(!0)-window.innerHeight;t.isShow=window.pageYOffset>n}}),200))},methods:{setMixpanelPopedUp:function(){this.isContactSupportPopedUp||(this.isContactSupportPopedUp=!0,Object(s.a)("ContactSupport_PopedUp",{ProdID:this.optionalData.ProductMid}))},setMixpanelClicked:function(e){Object(s.a)("ContactSupportPopUp_Clicked",{ProdID:this.optionalData.ProductMid,Action:e})},initScript:function(){var e=this;window.kkday.loadScript(this.freshchatScriptUrl,(function(){try{window.fcWidget.on("unreadCount:notify",(function(t){e.hasUnreadMessage=t.count>0,(e.hasUnreadMessage||e.isClickedContactSupport)&&e.setMixpanelPopedUp()})),window.fcWidget.on("widget:opened",(function(){e.isLoading=!1,e.isShow=!1,Object(s.a)("ContactSupport_Opened",{ProdID:e.optionalData.ProductMid})})),window.fcWidget.on("widget:closed",(function(){e.isShow=!0,e.setMixpanelClicked("close")})),window.fcWidget.on("widget:loaded",(function(){window.sessionStorage.getItem("should_open_customer_service_widget")&&e.isLoginRequired&&e.member.isLogin&&(e.openWidget(),window.sessionStorage.removeItem("should_open_customer_service_widget"))})),e.initWidget()}catch(e){console.warn("[Freshchat]: freshchat initial fail",e)}}))},initWidget:function(){window.fcWidget.init(this.config),this.getUser()},getUser:function(){var e=this;window.fcWidget.user.get().then((function(t){e.updateUserProperties(e.optionalData)}),(function(t){console.warn("[Freshchat]: get user fail",t),e.setUserProperties(e.optionalData),window.fcWidget.on("user:created",(function(t){e.handleUserCreated(t)}))}))},handleUserCreated:function(e){var t=e&&e.status,n=e&&e.data;200===t&&n.restoreId,this.updateUserProperties(this.optionalData)},updateUserProperties:function(e){var t={};this.member&&(t={firstName:this.member.firstName,lastName:this.member.lastName,email:this.member.email}),t.meta=e,window.fcWidget.user.update(t).then((function(e){}),(function(e){console.warn("[Freshchat]: update user properties fail")}))},setUserProperties:function(e){this.member&&(e=_.assign({firstName:this.member.firstName,lastName:this.member.lastName,email:this.member.email},e)),window.fcWidget.user.setProperties(e).then((function(e){}),(function(e){console.warn("[Freshchat]: set user properties fail")}))},openWidget:function(){window.fcWidget&&(this.isLoading=!0,window.fcWidget.open())},showLoginModal:function(){e(this.loginModalSelector).modal("show")},showContactModal:function(){e("#contact-agency-nonmember").modal("show")},isInBusinessTime:function(e){if(e&&e.start&&e.end&&e.timezone){var t=r()().tz(e.timezone),n=r()(e.start,"HH:mm"),s=r()(e.end,"HH:mm");return t.isBetween(n,s)}},handleClick:function(){if(this.isClickedContactSupport=!0,Object(s.a)("ContactSupport_Clicked",{ProdID:this.optionalData.ProductMid}),this.isLoginRequired&&!this.member.isLogin)return this.showLoginModal(),window.sessionStorage.setItem("should_open_customer_service_widget",!0),void e(this.loginModalSelector).on("hidden.bs.modal",(function(){window.sessionStorage.removeItem("should_open_customer_service_widget")}));this.openWidget()}}}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/LightboxSlideshow.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.match.js"),n("./public/assets/css/bootstrap-modal-carousel.min.css");var s=n("./resources/pc/js/components/common/YoutubePlayer.vue");t.a={components:{YoutubePlayer:s.a},props:{modalId:{type:String,default:""},youtubeUrl:{type:String,default:""},photoList:{type:Array,default:function(){return[]}},lazyLoadEager:{type:Number,default:0}},data:function(){return{videoState:"",currentIndex:0,modal:null,carousel:null,initialized:!1,isPhotoLoaded:{},isPlayerReady:!1,controlHideTimer:null}},created:function(){var e={};_.forEach(this.photoList,(function(t){e[t.url]=!1})),this.isPhotoLoaded=e},mounted:function(){var t=this;this.modal=e(this.$refs.modal),this.carousel=e(this.$refs.carousel),this.modal.on("shown.bs.modal",(function(){t.$emit("view-img-handler")})),this.modal.one("shown.bs.modal",(function(){t.initCarousel()})),this.carousel.one("initialized.owl.carousel",(function(){t.carousel.addClass("in"),t.initialized=!0,t.bindVideoEvents()})),this.carousel.on("changed.owl.carousel",(function(e){e.page.index<0||(t.currentIndex=e.page.index)})),this.bindArrowKeyControl(),this.bindControlActive()},methods:{getYoutubeVideoId:function(e){return e.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})\W/)[1]},onVideoReady:function(){this.isPlayerReady=!0,this.currentIndex>0||this.$refs.player.playVideo()},updateVideoState:function(e){this.videoState=e},initCarousel:function(){var e=this.photoList.length+(this.youtubeUrl?1:0);this.carousel.addClass("owl-carousel"),this.carousel.owlCarousel({items:1,margin:10,animateIn:"fadeIn",animateOut:"fadeOut",autoHeight:!1,lazyLoad:!0,lazyLoadEager:this.lazyLoadEager,loop:e>1,nav:e>1,navText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],mouseDrag:!1}),this.carousel.trigger("refresh.owl.carousel")},bindArrowKeyControl:function(){var t=this,n=function(e){37===e.keyCode&&t.carousel.trigger("prev.owl"),39===e.keyCode&&t.carousel.trigger("next.owl")};this.modal.on("shown.bs.modal",(function(){e(document).keydown(n)})),this.modal.on("hide.bs.modal",(function(){e(document).off("keydown",n)}))},bindControlActive:function(){var e=this;this.carousel.on("changed.owl.carousel",(function(t){-1!==t.page.index&&e.$emit("view-img-handler",t.page.index),e.showControl()})),this.modal.on("shown.bs.modal mousemove click",(function(){e.showControl()}))},bindVideoEvents:function(){var e=this;this.youtubeUrl&&(this.modal.on("hidden.bs.modal",(function(){e.$refs.player.pauseVideo()})),this.carousel.on("changed.owl.carousel",(function(t){"PLAYING"===e.videoState&&0!==t.page.index&&e.$refs.player.pauseVideo()})))},toIndex:function(e){var t=this;this.initialized?this.carousel.trigger("to.owl.carousel",[e,0]):this.carousel.one("initialized.owl.carousel",(function(){t.$nextTick((function(){t.toIndex(e)}))}))},showControl:function(){var e=this;clearTimeout(this.controlHideTimer),this.modal.addClass("pageActive"),this.youtubeUrl&&0===this.currentIndex||(this.controlHideTimer=setTimeout((function(){e.hideControl()}),3e3))},hideControl:function(){this.modal.removeClass("pageActive")}}}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/ReloadModal.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.number.constructor.js");t.a={props:{content:{type:Object,default:function(){return{}}},reloadPageSecond:{type:Number,default:-1}},computed:{reloadPageMicroSecond:function(){return 1e3*this.reloadPageSecond}},mounted:function(){this.setReloadTimeout(),e(this.$el).on("hidden.bs.modal",(function(){location.reload(),e(window).scrollTop(0)}))},methods:{setReloadTimeout:function(){var t=this;this.reloadPageMicroSecond<0||setTimeout((function(){t.content.bodyContent=t.lang("product_index_reload_page_because_session_expired"),e(t.$el).modal()}),this.reloadPageMicroSecond)}}}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/Select2.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/select2/dist/js/select2.js");t.a={props:{options:{type:Object,default:function(){return{}}},value:{type:[String,Number],default:null},multiple:{type:Boolean,default:!1},config:{type:Object,default:function(){return{width:"100%"}}},doReset:{type:Boolean,default:!1}},computed:{select2data:function(){return _.map(this.options,(function(e,t){return{id:t,text:e}}))}},watch:{value:function(t){e(this.$el).val(t).trigger("change"),this.$emit("change",t)},doReset:function(e){e&&this.reset()}},mounted:function(){this.init()},destroyed:function(){this.destroy(),window.removeEventListener("popstate",this.handleClose)},methods:{handleClose:function(){e(this.$el).select2("close")},init:function(){var t=this,n=e(this.$el),s=_.assign({},this.config,{data:this.select2data});window.addEventListener("popstate",this.handleClose),n.select2(s).on("change",(function(){t.$emit("input",n.val())})),n.val(this.value).trigger("change")},destroy:function(){e(this.$el).off().select2("destroy")},reset:function(){this.destroy(),this.init()}}}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponListCard.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./resources/pc/js/helpers/common.js"),i=n("./resources/pc/js/helpers/loginModal.js"),r=n("./resources/share/js/libs/mixpanel.js");function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var u=Object.defineProperty,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=function(e,t,n){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},f=function(e,t){for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(l){var s,o=a(l(t));try{for(o.s();!(s=o.n()).done;){n=s.value;m.call(t,n)&&p(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e};t.a={name:"CouponListCard",props:{couponData:{type:Object,default:function(){return{}}}},computed:f(f(f({isCouponRetaining:function(){return _.includes(this.retainingCouponList,this.couponData.code)}},Object(s.e)("newProduct/coupon",["retainingCouponList"])),Object(s.e)("newProduct",["prodInfo"])),Object(s.c)({member:"common/member"})),methods:f({handleClaimCouponClick:function(t){this.member.isLogin?(this.retainCoupon(t),Object(r.c)("ProdPage_CouponList_ClaimButton_Clicked",{CouponCode:t,ProdID:this.prodInfo.prod_oid})):e(i.a).modal("show")},handleUseCouponClick:function(){Object(r.c)("ProdPage_CouponList_ClaimButton_Clicked",{CouponCode:this.couponData.code,ProdID:this.prodInfo.prod_oid}),e("#option-sec").length>0&&Object(o.w)("#option-sec",{scrollOffset:e("header").outerHeight()})}},Object(s.b)("newProduct/coupon",["retainCoupon"]))}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ItemBlock.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e,s){n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array.find.js"),n("./node_modules/core-js/modules/es.array.find-index.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.values.js"),n("./node_modules/core-js/modules/es.array.sort.js"),n("./node_modules/core-js/modules/es.array.flat-map.js"),n("./node_modules/core-js/modules/es.array.unscopables.flat-map.js"),n("./node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.promise.finally.js"),n("./node_modules/core-js/modules/es.object.freeze.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var o=n("./node_modules/moment/moment.js-exposed"),i=n.n(o),r=n("./node_modules/lodash/lodash.js-exposed"),a=n.n(r),c=n("./resources/pc/js/helpers/common.js"),u=n("./resources/pc/js/helpers/localeCustomize.js"),l=n("./node_modules/vuex/dist/vuex.esm.js"),d=n("./resources/pc/js/components/product/newProductDetail/Calendar.vue"),m=n("./resources/pc/js/components/common/DropdownSelect.vue"),p=n("./resources/pc/js/components/common/OriginPrice.vue"),f=n("./resources/pc/js/components/point/PointBonusCheckoutBanner.vue"),h=n("./node_modules/@kkday/web-js-lib/dist/SkuCalculator.js"),_=n.n(h),g=n("./resources/share/js/libs/KkDispatcher.js"),v=n("./resources/pc/js/directives/tooltip.js"),y=n("./resources/pc/js/libs/GoogleTagManager/GtmEventUtils.js"),b=n("./resources/pc/js/libs/UserAction.js"),j=n("./resources/pc/js/store/modules/merchant.js"),k=n("./resources/pc/js/libs/transportation/AddOnProduct.js"),S=n("./resources/pc/js/mixins/loginModal/actions/login.js"),w=n("./resources/pc/js/mixins/transportation/addOnProduct.js"),P=n("./resources/pc/js/components/common/Button.vue"),x=n("./resources/pc/js/components/whlbSetting/WhlbSettingButton.vue");function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var I=Object.defineProperty,T=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,A=function(e,t,n){return t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},R=function(e,t){for(var n in t||(t={}))M.call(t,n)&&A(e,n,t[n]);if(T){var s,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}(T(t));try{for(o.s();!(s=o.n()).done;){n=s.value;L.call(t,n)&&A(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},N=function(e,t,n){return new Promise((function(s,o){var i=function(e){try{a(n.next(e))}catch(e){o(e)}},r=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?s(e.value):Promise.resolve(e.value).then(i,r)};a((n=n.apply(e,t)).next())}))},U="spec-date",B="spec-event";function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.unit,n=e.value;return t||n?"d"===t&&n?24*n:n:0}t.a={components:{WhlbSettingButton:x.a,Button:P.a,Calendar:d.a,DropdownSelect:m.a,OriginPrice:p.a,PointBonusCheckoutBanner:f.a},directives:{tooltip:v.a},mixins:[S.a,w.a],inject:["getWhlbProdElementStyle"],props:{pkgOid:{type:Number,required:!0},itemData:{type:Object,required:!0}},data:function(){return{amount:{},currentMonthObj:null,formattedSkus:[],formattedSpecs:{},isAddToCartLoading:!1,isGoToBookLoading:!1,isGoToRedeemLoading:!1,isShowError:!1,selectedDate:null,selectedFormattedSpec:{},selectionSpecStatus:null,shakeTimeout:null,skuCalculator:null,skusRemainQty:{},specStatus:null,statistics:null,timeCalculator:null,timeStatistics:null,timeStatus:null}},computed:R(R(R(R({eventTitle:function(){var e;return(null==(e=this.item)?void 0:e.event_title)||this.lang("product_index_event")},amountOptions:function(){var e=this,t=this.isMultiSku?this.amountOptionsMulti:this.amountOptionsSingle;return a.a.forEach(t,(function(t,n){var s=a.a.get(e.amount,n,0);t.formattedPrice="".concat(Object(u.a)(e.member.currency)," ").concat(Object(c.r)(t.lowestPrice,e.member.currency)),t.isPlusEnabled=t.isEnabled&&s+t.increment<=t.maxAmount,t.isMinusEnabled=t.isEnabled&&s-t.increment>=t.minAmount})),t},amountOptionsMulti:function(){var e=this,t={},n=this.getMinQty(),s=a.a.get(this.item,"unit_quantity_rule.total_rule.max_quantity");return a.a.forEach(this.multiChoiceSpec.spec_items,(function(o){var i=e.multiChoiceSpec.spec_oid,r=o.spec_item_oid,c=r,u=a.a.get(e.amount,c,0),l=t[c]={isEnabled:a.a.get(e.specStatus,[i,r,"selectable"],!1)&&!e.isRedeemProduct&&!e.isRedeemKkgift||e.isAccommodationType,isSufficient:!a.a.get(e.specStatus,[i,r,"insufficient"],!1),name:o.name,unit:e.lang("product_index_unit2_".concat(e.item.unit)),officialPrice:a.a.max(D(a.a.map(a.a.get(e.specStatus,[i,r,"cheapestSkusIdx"],[]),(function(t){return a.a.get(e.skus,[e.formattedSkus[t].skuOid,"official_price"],null)}))))*(e.dateSpan||1),lowestPrice:a.a.get(e.specStatus,[i,r,"lowestPrice"],null),highestPrice:a.a.get(e.specStatus,[i,r,"highestPrice"],null),rule:a.a.get(e.specItemsRule,r,null),maxAmount:0,minAmount:0,increment:1,disabledHintPlus:null,disabledHintMinus:null};if(l.isEnabled){if(e.isDateSelected&&e.isProdMultiDate)if(e.isPriceByDate&&2===e.priceType){var d=a.a.map(e.selectedDates,(function(t){return a.a.find(e.selectionSpecStatus,(function(n,s){return e.selectionArray[s].spec[U]===t}))}));l.lowestPrice=a.a.sum(a.a.map(d,(function(e){return a.a.get(e,[i,r,"lowestPrice"])}))),l.highestPrice=a.a.sum(a.a.map(d,(function(e){return a.a.get(e,[i,r,"highestPrice"])})))}else if(e.isPriceByDate&&1===e.priceType){var m=a.a.get(e.selectionSpecStatus,a.a.findIndex(e.selectionArray,(function(t){return t.spec[U]===a.a.head(e.selectedDates)})));l.lowestPrice=a.a.get(m,[i,r,"lowestPrice"])*e.dateSpan,l.highestPrice=a.a.get(m,[i,r,"highestPrice"])*e.dateSpan}else l.lowestPrice*=e.dateSpan,l.highestPrice*=e.dateSpan;if(l.maxAmount=s-(e.amountTotal-u),l.disabledHintPlus=e.printf(e.lang("product_index_hint_total_max"),[s,e.unitText]),1===e.inventoryType||3===e.inventoryType){var p=e.itemRemainQty-(e.amountTotal-u);p<l.maxAmount&&(l.maxAmount=p,l.disabledHintPlus=e.printf(e.lang("product_index_stock_remain_qty"),[e.itemRemainQty,e.unitText]))}else if(2===e.inventoryType){var f=a.a.get(e.specStatus,[i,r,"maxAmount"]);f<l.maxAmount&&(l.maxAmount=f,l.disabledHintPlus=e.printf(e.lang("product_index_hint_remain_qty"),[l.name,f,e.unitText]))}if(a.a.get(e.item,"unit_quantity_rule.ticket_rule.is_active")){var h=a.a.find(a.a.get(e.item,"unit_quantity_rule.ticket_rule.rulesets"),(function(e){return a.a.includes(e.spec_items,r)}));if(h){var _=e.getRulesetData(h),g=h.max_quantity-(_.currentSubTotal-u);g<l.maxAmount&&(l.maxAmount=g,l.disabledHintPlus=e.printf(e.lang("product_index_hint_rule_max"),[_.ruleNames.join("+"),h.max_quantity,e.unitText])),1===h.spec_items.length&&(h.min_quantity>l.minAmount&&(l.minAmount=h.min_quantity,l.disabledHintMinus=e.printf(e.lang("product_index_hint_rule_min"),[a.a.head(_.ruleNames),n>h.min_quantity?n:h.min_quantity,e.unitText])),h.is_multiple_limit&&h.min_quantity>0&&(l.increment=h.min_quantity))}}if(1===e.multiChoiceSpec.spec_items.length){var v=a.a.get(e.item,"unit_quantity_rule.total_rule.min_quantity"),y=n>v?n:v;y>l.minAmount&&y%l.increment==0&&(l.minAmount=v,l.disabledHintMinus=e.printf(e.lang("product_index_hint_total_min"),[y,e.unitText]))}}})),t},amountOptionsSingle:function(){var e=this,t=a.a.get(this.item,"unit_quantity_rule.total_rule.max_quantity"),n=a.a.get(this.item,"unit_quantity_rule.total_rule.min_quantity"),s=this.getMinQty(),o=s>n?s:n,i={isEnabled:!this.isRedeemProduct&&!this.isRedeemKkgift,isSufficient:!this.pkg.is_all_sold_out,name:this.lang("product_index_unit1_".concat(this.item.unit)),unit:this.lang("product_index_unit2_".concat(this.item.unit)),officialPrice:a.a.max(D(a.a.map(a.a.get(this.statistics,"cheapestSkusIdx",[]),(function(t){return a.a.get(e.skus,[e.formattedSkus[t].skuOid,"official_price"],null)}))))*(this.dateSpan||1),lowestPrice:a.a.get(this.statistics,"lowestPrice",null),highestPrice:a.a.get(this.statistics,"highestPrice",null),rule:null,maxAmount:t,minAmount:n,increment:a.a.get(this.item,"unit_quantity_rule.total_rule.is_multiple_limit")?a.a.max([n,1]):1,disabledHintPlus:this.printf(this.lang("product_index_hint_total_max"),[t,this.unitText]),disabledHintMinus:o>0?this.printf(this.lang("product_index_hint_total_min"),[o,this.unitText]):null};if(this.isDateSelected&&this.isProdMultiDate)if(this.isPriceByDate&&2===this.priceType){var r=a.a.map(this.selectedDates,(function(t){var n=a.a.find(e.selectionSpecStatus,(function(n,s){return e.selectionArray[s].spec[U]===t}));return a.a.get(n,[U,t])}));i.lowestPrice=a.a.sum(a.a.map(r,"lowestPrice")),i.highestPrice=a.a.sum(a.a.map(r,"highestPrice"))}else if(this.isPriceByDate&&1===this.priceType){var c=a.a.head(this.selectedDates),u=a.a.get(this.selectionSpecStatus,a.a.findIndex(this.selectionArray,(function(e){return e.spec[U]===c})));i.lowestPrice=a.a.get(u,[U,c,"lowestPrice"])*this.dateSpan,i.highestPrice=a.a.get(u,[U,c,"highestPrice"])*this.dateSpan}else i.lowestPrice*=this.dateSpan,i.highestPrice*=this.dateSpan;var l=null;switch(this.inventoryType){case 1:case 3:l=this.itemRemainQty;break;case 2:l=a.a.get(this.statistics,"maxAmount");break;default:l=null}return a.a.isNumber(l)&&l<i.maxAmount&&(i.maxAmount=l,i.disabledHintPlus=this.printf(this.lang("product_index_stock_remain_qty"),[l,this.unitText])),C({},"sku-single",i)},amountTotal:function(){return a.a.reduce(this.amount,(function(e,t){return e+t}),0)},checkoutData:function(){var e,t=this.supplier||{},n=t.logoUrl,s=t.supplierName,o={prodOid:this.productSetting.prod_oid,prodMid:this.productSetting.prod_mid,productVersion:this.product.version,pkgOid:this.pkgOid,itemOid:this.item.item_oid,isZeroPrice:!!(null==(e=this.item)?void 0:e.is_zero_price),goDate:this.isProdMultiDate?a.a.get(this.selectedDate,"startDate",null):this.selectedDate,backDate:this.isProdMultiDate?a.a.get(this.selectedDate,"endDate",null):null,event:this.selectedEvent,singleChoiceSpecs:this.selectedSingleChoiceSpecs,multiChoiceSpecAmount:this.isMultiSku?a.a.clone(this.amount):null,skus:this.determinedSkus,amountTotal:this.amountTotal,priceTotal:this.priceTotal,isMarketplace:!!s&&n&&this.product.is_marketplace,supplierName:s||"",supplierLogo:n?this.getLogoSrc(n):""};return o.id=[o.prodOid,o.packageOid,o.itemOid,o.goDate,o.backDate,o.event].concat(Object.values(o.singleChoiceSpecs||{})).filter((function(e){return!!e})).join("_"),o},dateSpan:function(){return this.isDateSelected?this.selectedDates.length:null},determinedSkus:function(){var e=this,t=a.a.get(this.statistics,"determinedAmount",null);return a.a.isEmpty(t)?[]:a.a.uniqBy(a.a.reduce(t,(function(t,n,s){if(!n)return t;var o=e.formattedSkus[s],i=e.skus[o.skuOid],r=e.isMultiSku?i.spec[e.multiChoiceSpec.spec_oid]:"sku-single";return t.push({skuOid:i.sku_oid,amount:n,price:e.amountOptions[r].lowestPrice,spec:i.spec}),t}),[]),"skuOid")},earliestSaleDate:function(){return a.a.get(this.pkg,["sale_time","earliest_sale_time","date"])},earliestSaleDateObj:function(){return i()(this.earliestSaleDate,this.dateFormat)},latestSaleDate:function(){return a.a.get(this.pkg,["sale_time","latest_sale_time","date"])},latestSaleDateObj:function(){return i()(this.latestSaleDate,this.dateFormat)},events:function(){return this.hasEvent?a.a.reduce(this.itemCalendar,(function(e,t){return a.a.union(e,a.a.get(t,"events",[]))}),[]).sort():null},eventOptions:function(){var e=this;return a.a.filter(a.a.map(this.events,(function(t){if(!e.checkIsEventValid(t)){var n=e.getEventStatusCode(t);return a.a.includes([0,4],n)?null:{name:"".concat(t," (").concat(e.getEventDisabledHint(t),")"),value:t,disabled:!0}}return{name:t,value:t,leadingIconClass:e.checkIsInventoryWarningShow(t)?"fa fa-exclamation-triangle text-success":""}})))},hasEvent:function(){return this.item.has_event},inventoryType:function(){if(this.item.inventory_setting.control_type===kkday.constants.getValue("PRODUCT_INVENTORY_NONE"))return 0;if(this.item.inventory_setting.control_type===kkday.constants.getValue("PRODUCT_INVENTORY_ON_ITEM")){if(this.item.inventory_setting.inventory_type===kkday.constants.getValue("PRODUCT_INVENTORY_BY_TOTAL"))return 1;if(this.item.inventory_setting.inventory_type===kkday.constants.getValue("PRODUCT_INVENTORY_BY_TIME"))return 3}else if(this.item.inventory_setting.control_type===kkday.constants.getValue("PRODUCT_INVENTORY_ON_SKU")){if(this.item.inventory_setting.inventory_type===kkday.constants.getValue("PRODUCT_INVENTORY_BY_TOTAL"))return 2;if(this.item.inventory_setting.inventory_type===kkday.constants.getValue("PRODUCT_INVENTORY_BY_TIME"))return 4}return null},isCalendarLoading:function(){return!!this.currentMonthObj&&a.a.get(this.itemData,["loadingMonth",this.currentMonthObj.year(),this.currentMonthObj.month()])},isPriceByDate:function(){return 0!==this.priceType||!a.a.isEmpty(this.itemCloseList)},isDateSelected:function(){return this.isProdMultiDate?a.a.get(this.selectedDate,"startDate")&&a.a.get(this.selectedDate,"endDate"):!a.a.isNil(this.selectedDate)},isMultiSku:function(){return this.item.last_spec_multi},isSpecSingle:function(){return a.a.get(this.item.specs,[0,"spec_oid"])===kkday.constants.getValue("PRODUCT_SPEC_SINGLE")},item:function(){return this.itemData.item},itemCalendar:function(){return this.itemData.calendar},itemCloseList:function(){return this.itemData.closeList},itemRemainQty:function(){var e=this;return 1===this.inventoryType?a.a.get(this.item,"remain_qty"):3===this.inventoryType?this.isDateSelected?a.a.min(a.a.map(this.selectedDates,(function(t){return a.a.get(e.timeStatus,[U,t,"maxAmount"],0)}))):this.timeStatistics.maxAmount:null},itemSkusPriceCalendar:function(){return this.itemData.skusPriceCalendar},maxCalendarDate:function(){return i()().add(1,"y").format(this.dateFormat)},minCalendarDate:function(){return this.earliestSaleDateObj.isBefore(i()())?this.earliestSaleDate:i()().format(this.dateFormat)},multiChoiceSpec:function(){return this.isMultiSku?a.a.last(this.item.specs):null},pkg:function(){return this.packages[this.pkgOid]},pointBonusData:function(){return this.getPointBonusUiElement(a.a.get(kkday.constants.getValue("POINTS_BONUS_UI_ELEMENTS"),"CHECKOUT_BANNER"))},priceTotal:function(){return a.a.reduce(this.determinedSkus,(function(e,t){return e+t.price*t.amount}),0)},priceType:function(){if(this.item.price_type===kkday.constants.getValue("PRODUCT_PRICE_TYPE_BY_DATE")){if(this.item.price_rule_type===kkday.constants.getValue("PRODUCT_PRICE_RULE_TYPE_MULTIPLY"))return 1;if(this.item.price_rule_type===kkday.constants.getValue("PRODUCT_PRICE_RULE_TYPE_ACCUMULATE"))return 2}return 0},selectionArray:function(){var e=this,t=[];return this.isMultiSku?(a.a.forEach(this.multiChoiceSpec.spec_items,(function(n){var s=a.a.clone(e.selectedFormattedSpec),o=+a.a.get(e.amount,n.spec_item_oid,0);o&&(s[e.multiChoiceSpec.spec_oid]=n.spec_item_oid,t.push({spec:s,amount:o}))})),t.length||t.push({spec:a.a.clone(this.selectedFormattedSpec),amount:0}),t=a.a.uniqBy(t,(function(e){return JSON.stringify(e.spec)}))):t.push({spec:a.a.clone(this.selectedFormattedSpec),amount:+this.amount["sku-single"]}),this.isPriceByDate&&(this.isDateSelected?this.isProdMultiDate?t=a.a.flatMap(t,(function(t){return a.a.map(e.selectedDates,(function(e){var n=a.a.cloneDeep(t);return n.spec[U]=e,n}))})):a.a.forEach(t,(function(t){t.spec[U]=e.selectedDate})):a.a.forEach(t,(function(e){e.spec[U]=null}))),t=a.a.filter(t,(function(e){return e.amount>0||a.a.some(e.spec,(function(e){return!a.a.isNil(e)}))})),t},selectedDates:function(){var e=[];if(!this.isDateSelected)return e;if(this.isProdMultiDate)for(var t=i()(this.selectedDate.startDate,this.dateFormat),n=i()(this.selectedDate.endDate,this.dateFormat);t.isSameOrBefore(n,"day");)e.push(t.format(this.dateFormat)),t.add(1,"d");else e.push(this.selectedDate);return this.isAccommodationType&&e.pop(),e},selectedEvent:{get:function(){return this.hasEvent?this.selectedFormattedSpec[B]:null},set:function(e){this.setSelectedEvent(e)}},selectedTimeArray:function(){if(!this.timeCalculator)return null;var e={amount:this.amountTotal,spec:{}};return this.hasEvent&&(e.spec[B]=this.selectedEvent),this.isDateSelected?this.isProdMultiDate?a.a.map(this.selectedDates,(function(t){return a.a.assign(C({},U,t),e)})):(e.spec[U]=this.selectedDate,[e]):(e.spec[U]=null,[e])},closeDates:function(){if(Object.size(this.itemCloseList)!==Object.size(this.skus))return[];var e={};a.a.forEach(this.itemCloseList,(function(t){a.a.forEach(t,(function(t,n){e[n]=t.length+(e[n]||0)}))}));var t=Object.size(this.skus)*(this.hasEvent?this.events.length:1);return Object.keys(e).filter((function(n){return e[n]===t}))},saleableDates:function(){return a.a.map(a.a.filter(this.itemCalendar,"is_saleable"),"date")},selectedSingleChoiceSpecs:function(){var e=this;return a.a.isEmpty(this.singleChoiceSpecs)?null:a.a.reduce(this.singleChoiceSpecs,(function(t,n){return t[n.spec_oid]=e.selectedFormattedSpec[n.spec_oid],t}),{})},singleChoiceSpecs:function(){return this.isMultiSku?this.item.specs.slice(0,this.item.specs.length-1):this.item.specs},singleChoiceDisplaySpecs:function(){return this.isSpecSingle?[]:this.singleChoiceSpecs},skus:function(){return a.a.keyBy(this.item.skus,"sku_oid")},soldOutDates:function(){var e=[];return a.a.forEach(this.itemCalendar,(function(t){t.is_sold_out&&e.push(t.date)})),e},specItemsRule:function(){var e=this,t={};return this.isMultiSku?(a.a.forEach(this.multiChoiceSpec.spec_items,(function(n){if(!a.a.isNil(n.rule)){var s=[];n.rule.age_rule&&(a.a.isNumber(n.rule.age_rule.min)&&a.a.isNumber(n.rule.age_rule.max)?s.push(e.printf(e.lang("common_age_between"),[n.rule.age_rule.min,n.rule.age_rule.max])):a.a.isNumber(n.rule.age_rule.min)?s.push(e.printf(e.lang("common_age_greater_than"),[n.rule.age_rule.min])):a.a.isNumber(n.rule.age_rule.max)&&s.push(e.printf(e.lang("common_age_less_than"),[n.rule.age_rule.max]))),n.rule.height_rule&&(a.a.isNumber(n.rule.height_rule.min)&&a.a.isNumber(n.rule.height_rule.max)?s.push(e.printf(e.lang("common_height_between"),[n.rule.height_rule.min,n.rule.height_rule.max])):a.a.isNumber(n.rule.height_rule.min)?s.push(e.printf(e.lang("common_height_greater_than"),[n.rule.height_rule.min])):a.a.isNumber(n.rule.height_rule.max)&&s.push(e.printf(e.lang("common_height_less_than"),[n.rule.height_rule.max]))),s.length&&(t[n.spec_item_oid]=s.join(" "+e.lang("common_or")+" "))}})),t):t},unitText:function(){return this.lang("common_unit_trailing_"+this.item.unit)},validation:function(){var e=this,t={};if(t.date={isValid:this.isDateSelected,errorMsg:this.isDateSelected?null:this.lang("product_index_go_date_option_title_"+a.a.get(this.product,"go_date_description_type"))},this.hasEvent){var n=!!this.selectedEvent;t.event={isValid:n,errorMsg:n?null:this.lang("product_index_hint_choose_event")}}a.a.forEach(this.singleChoiceDisplaySpecs,(function(n){var s=!a.a.isNil(e.selectedFormattedSpec[n.spec_oid]);t["spec-"+n.spec_oid]={isValid:s,errorMsg:s?null:e.printf(e.lang("product_index_hint_choose_spec"),[n.spec_title])}}));var s=null,o=a.a.get(this.item,"unit_quantity_rule.total_rule.max_quantity"),i=this.getMinQty(),r=a.a.get(this.item,"unit_quantity_rule.total_rule.min_quantity"),c=i>r?i:r;if(this.amountTotal>o)s=this.printf(this.lang("product_index_hint_total_max"),[o,this.unitText]);else if(this.amountTotal<c)s=this.printf(this.lang("product_index_hint_total_min"),[c,this.unitText]);else if(a.a.get(this.item,"unit_quantity_rule.total_rule.is_multiple_limit")&&r>0&&this.amountTotal%r!=0)s=this.printf(this.lang("product_index_hint_total_multiple"),r);else if(a.a.get(this.item,"unit_quantity_rule.ticket_rule.is_active")){var u=[];a.a.forEach(a.a.get(this.item,"unit_quantity_rule.ticket_rule.rulesets"),(function(t){var n=e.getRulesetData(t),s=n.ruleNames.join("+");n.currentSubTotal>t.max_quantity?u.push(e.printf(e.lang("product_index_hint_rule_max"),[s,t.max_quantity,e.unitText])):n.currentSubTotal<t.min_quantity?u.push(e.printf(e.lang("product_index_hint_rule_min"),[s,t.min_quantity,e.unitText])):t.is_multiple_limit&&t.min_quantity>0&&n.currentSubTotal%t.min_quantity!=0&&u.push(e.printf(e.lang("product_index_hint_rule_multiple"),[s,t.min_quantity]))})),u.length&&(s=u.join(", "))}return 1!==this.inventoryType&&3!==this.inventoryType||this.amountTotal>this.itemRemainQty&&(s=this.printf(this.lang("product_index_stock_remain_qty"),[this.itemRemainQty,this.unitText])),t.amount={isValid:a.a.isNil(s),errorMsg:s},a.a.forEach(this.amountOptions,(function(e,n){t[n]={isValid:!0,errorMsg:null}})),2!==this.inventoryType&&4!==this.inventoryType||a.a.forEach(this.determinedSkus,(function(n){var s=e.skus[n.skuOid],o=e.skusRemainQty[s.sku_oid],i=e.isMultiSku?s.spec[e.multiChoiceSpec.spec_oid]:"sku-single";o<e.amount[i]&&(t[i].isValid=!1,t[i].errorMsg=e.printf(e.lang("product_index_hint_remain_qty"),[e.amountOptions[i].name,o,e.unitText]))})),t.amount.isValid=t.amount.isValid&&a.a.every(this.amountOptions,(function(e,n){return t[n].isValid})),{isAllValid:a.a.every(t,"isValid"),checkList:t}},isRedeemProduct:function(){return!a.a.isEmpty(this.redeemInfo)},isShowEventAlmostSoldout:function(){return!a.a.isEmpty(this.selectedFormattedSpec[B])&&this.checkIsInventoryWarningShow(this.selectedFormattedSpec[B])},eventAlmostSoldOutText:function(){return this.printf(this.lang("product_index_event_is_almost_sold_out"),[this.getEventRemainQty(this.selectedFormattedSpec[B])])},calendarInitialDate:function(){return this.pkg.sale_time.earliest_sale_time.date},packageDateHint:function(){var e=[a.a.get(this.product,"go_date_setting.days.min"),a.a.get(this.product,"go_date_setting.days.max")];return this.isAccommodationType?this.printf(this.lang("product_index_hint_date_room_nights"),e):this.printf(this.lang("product_index_hint_date_span"),e)},calendarMode:function(){return this.isAccommodationType?"rangeExcludeLastDate":this.isProdMultiDate?"range":"single"},activeStartDate:function(){var e=a.a.get(this.urlParams,"active_start_date",null);return e&&i()(e,this.dateFormat,!0).isValid()?e:null},activeEndDate:function(){var e=a.a.get(this.urlParams,"active_end_date",null);return e&&i()(e,this.dateFormat,!0).isValid()?e:null},transAddOnAreaName:function(){return a.a.get(this.urlParams,"trans_add_area_name",null)}},Object(l.e)("newProduct/optionSection",["currentPkgOid","dateFormat","packages","product","productSetting","urlParams","redeemAbleDates"])),Object(l.e)("merchant",["supplier"])),Object(l.c)("newProduct/optionSection",["isProdMultiDate","urlPkgOid","isRedeemProductSetGoDates","dateMode","isAccommodationType"])),Object(l.c)({member:"common/member",mainProductImageUrl:"newProduct/mainProductImageUrl",redeemInfo:"newProduct/redeemInfo",prodSetting:"newProduct/prodSetting",langInfo:"system/langInfo",userActionUrl:"newProduct/userActionUrl",getPointBonusUiElement:"newProduct/optionSection/kkpointBonusStore/getUiElement",isLoadingPointBonus:"newProduct/optionSection/kkpointBonusStore/isLoadingPointBonus",extraOrderPoints:"newProduct/optionSection/kkpointBonusStore/extraOrderPoints",isRedeemKkgift:"common/isRedeemKkgift",isWhlbProd:"whlbProduct/isWhlbProd"})),watch:{checkoutData:function(){this.setCheckoutData(this.checkoutData)},"checkoutData.goDate":function(e){e&&this.recordUserSelectDateAction(this.checkoutData.prodMid,e)},currentPkgOid:function(){this.currentPkgOid===this.pkgOid&&(this.setCheckoutData(this.checkoutData),this.isShowError=!1)},selectedDate:function(){4===this.inventoryType&&(this.skusRemainQty={})},selectedEvent:function(){4===this.inventoryType&&(this.skusRemainQty={})},selectedSingleChoiceSpecs:function(){4===this.inventoryType&&(this.skusRemainQty={})},selectedTimeArray:function(){this.timeCalculator.setSelectionArray(this.selectedTimeArray)},selectionArray:function(){this.skuCalculator.setSelectionArray(this.selectionArray)}},beforeCreate:function(){this.$store.state.merchant||this.$store.registerModule("merchant",j.a)},created:function(){var e=Object(c.l)(this.initCalculators);e>1e3&&Object(c.a)({url:kkday.url.kkSiteUrl("kk/ajax_save_log/initCalculatorsSlow"),data:{pkgOid:this.pkgOid,productOid:this.productSetting.prod_oid,productMid:this.productSetting.prod_mid,executeTime:e}}),2===this.inventoryType&&(this.skusRemainQty=a.a.mapValues(this.skus,"remain_qty"))},mounted:function(){var e=this;this.resetSelection(),this.setUrlParamsSelection(),(this.isRedeemProduct||this.isRedeemKkgift)&&(this.setRedeemParamsSelection(),this.checkIsRedeemSpecTicketValid()||(alert(this.lang("common_redeem_fail"),"kkday-warning"),setTimeout((function(){location.href=kkday.url.kkSiteUrl("redeem")}),2e3))),window.app.$on("cart-update",(function(){e.updatePointBonusData()}))},methods:R(R({currencyFormat:u.a,addToCart:function(){var t=this;this.isAddToCartLoading||(this.isAddToCartLoading=!0,this.checkout().then((function(){return e("#addCartItem").blur(),t.recordUserAddCartAction(t.checkoutData.prodMid),Object(y.a)("new_product_item_add_to_cart",{goDate:t.checkoutData.goDate,endDate:t.checkoutData.backDate||t.checkoutData.goDate,prodPrice:t.checkoutData.priceTotal,currency:kkday.constants.getValue("CURRENCY"),amountTotal:t.checkoutData.amountTotal}),t.onAddCartItem(a.a.merge(t.checkoutData,{productName:t.product.name,packageName:t.pkg.name,imgUrl:t.mainProductImageUrl,unit:t.item.unit,specLang:Object.values(t.item.specs).reduce((function(e,t){return e.concat(t.spec_items.map((function(e){return"spec-ticket"!==t.spec_oid&&(e.spec_title=t.spec_title),e})))}),[]).reduce((function(e,t){return e[t.spec_item_oid]={value:t.spec_title?t.spec_title+": "+t.name:t.name},e}),{}),cities:t.product.cities,tags:t.product.tags,category:t.product.category,isTourismProduct:t.prodSetting.is_tourism_product,confirmHours:V(t.pkg.order_process_setting.confirm_time)}))}),(function(){})).finally((function(){t.isAddToCartLoading=!1})))},checkIsDateValid:function(e){return 1===a.a.get(this.getDateStatus(e),"code")},checkIsEventBeforeSaleTime:function(e,t){return e<this.pkg.sale_time.earliest_sale_time.date||e===this.pkg.sale_time.earliest_sale_time.date&&t<this.pkg.sale_time.earliest_sale_time.event},checkIsEventValid:function(e){return 1===this.getEventStatusCode(e)},checkIsSpecValid:function(e,t){return 1===this.getSpecStatusCode(e,t)},checkIsRedeemSpecTicketValid:function(){var e=this;if(a.a.last(this.item.specs).spec_oid!==kkday.constants.getValue("PRODUCT_SPEC_TICKET"))return!0;var t=a.a.find(this.redeemInfo.group.condition.packages,(function(t){return t.packageOid===e.currentPkgOid}));return a.a.every(t.ticketQtys,(function(t,n){return 0===t||a.a.some(e.item.skus,(function(e){return e.spec["spec-ticket"]===n}))}))},checkout:function(){var e=this;return this.isShowError=!1,new Promise((function(t,n){return N(e,null,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validation.isAllValid){e.next=4;break}return this.isShowError=!0,this.shakeErrorGroups(),e.abrupt("return",n());case 4:if(4===this.inventoryType){e.next=6;break}return e.abrupt("return",t());case 6:this.checkSkuInventory().then((function(){if(!s.validation.isAllValid)return s.isShowError=!0,s.shakeErrorGroups(),n();t()}),(function(){n()}));case 7:case"end":return e.stop()}}),e,this)})))}))},checkSkuInventory:function(){var e=this;return new Promise((function(t,n){return N(e,null,regeneratorRuntime.mark((function e(){var s,o,i,r,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,o=this.$watch("checkoutData",(function(){s=!0,o(),n()})),e.next=4,this.getSkusCalendar();case 4:if(i=e.sent,o(),!s){e.next=8;break}return e.abrupt("return",n());case 8:if(i){e.next=11;break}return console.error("get skusCalendar fail"),e.abrupt("return",n());case 11:this.skusRemainQty={},r=this.hasEvent?this.selectedEvent:"fullday",a.a.forEach(this.checkoutData.skus,(function(e){var t=a.a.min(a.a.map(c.selectedDates,(function(t){return a.a.get(i,[e.skuOid,t,"remain_qty",r],0)})));c.skusRemainQty[e.skuOid]=t})),t();case 15:case"end":return e.stop()}}),e,this)})))}))},getDateStatus:function(e){if(!i.a.isMoment(e))return null;var t=e.format(this.dateFormat);if(!a.a.includes(this.saleableDates,t))return{code:0};if(a.a.includes(this.closeDates,t))return{code:0};if(!a.a.isEmpty(this.specStatus[U])&&!this.checkIsSpecValid(U,t))return{code:0};if(this.selectedEvent&&this.checkIsEventBeforeSaleTime(t,this.selectedEvent))return{code:4};if(a.a.includes(this.soldOutDates,t))return{code:2};if(this.timeStatus){if(!a.a.get(this.timeStatus,[U,t,"selectable"]))return{code:0};if(a.a.get(this.timeStatus,[U,t,"insufficient"]))return{code:3}}var n,s,o=i()(this.activeStartDate,this.dateFormat,!0),r=i()(this.activeEndDate,this.dateFormat,!0);if(e.isBefore(o)||e.isAfter(r))return{code:0};if(this.isRedeemProduct||this.isRedeemKkgift)return this.isDateRedeemAble(t)?{code:1,price:""}:{code:0};var u=a.a.get(this.specStatus,[U,t]);u?(n=a.a.get(u,"lowestPricePrimary")||a.a.get(u,"lowestPrice"),s=a.a.get(u,"highestPricePrimary")||a.a.get(u,"highestPrice")):(n=a.a.get(this.statistics,"lowestPricePrimary")||a.a.get(this.statistics,"nonZeroLowestPrice")||a.a.get(this.statistics,"lowestPrice"),s=a.a.get(this.statistics,"highestPricePrimary")||a.a.get(this.statistics,"highestPrice"));var l=Object(c.s)(n,this.member.currency);return{code:1,price:s>n?this.printf(this.lang("common_price_from"),[l]):l}},getEventDisabledHint:function(e){switch(this.getEventStatusCode(e)){case 0:return this.lang("product_index_option_not_available");case 2:return this.lang("common_sold_out");case 3:return this.lang("product_index_insufficient");case 4:return this.lang("product_index_hint_over_sale_time");default:return null}},getEventStatusCode:function(e){return a.a.get(this.timeStatus,[B,e,"selectable"])&&this.checkIsSpecValid(B,e)?this.selectedDate&&this.checkIsEventBeforeSaleTime(this.selectedDate,e)?4:a.a.get(this.timeStatus,[B,e,"insufficient"])?3:1:0},getPriceInfo:function(e){var t,n=this.getDateStatus(e);if(!n)return null;switch(n.code){case 1:t="0"===n.price?"":n.price;break;case 2:case 3:case 0:case 4:default:t=""}return{text:t,class:"price"}},getRulesetData:function(e){var t=this,n={};return n.ruleNames=a.a.map(e.spec_items,(function(e){return a.a.get(a.a.find(t.multiChoiceSpec.spec_items,["spec_item_oid",e]),"name")})),n.currentSubTotal=a.a.sumBy(e.spec_items,(function(e){return t.amount[e]})),n},getSpecDisabledHint:function(e,t){switch(this.getSpecStatusCode(e,t)){case 0:return this.lang("product_index_option_not_available");case 2:return this.lang("common_sold_out");case 3:return this.lang("product_index_insufficient");default:return null}},getSpecStatusCode:function(e,t){return a.a.get(this.specStatus,[e,t,"selectable"])?a.a.get(this.specStatus,[e,t,"insufficient"])?3:1:0},goToBook:function(){return N(this,null,regeneratorRuntime.mark((function t(){var n,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isGoToBookLoading){t.next=2;break}return t.abrupt("return");case 2:return this.isGoToBookLoading=!0,t.prev=3,t.next=6,this.checkout().catch((function(){throw"data validation error"}));case 6:if(!this.transAddOnAreaName){t.next=14;break}return(n=a.a.assign(this.checkoutData,this.itemData)).transAddAreaName=this.transAddOnAreaName,n.productName=this.product.name,n.packageName=a.a.isEmpty(this.packages[this.pkgOid])?"":this.packages[this.pkgOid].name,n.officialPrice=a.a.reduce(this.amount,(function(e,t,n){return e+=s.amountOptions[n].officialPrice*t}),0),this.updateTransAddOn(n),t.abrupt("return");case 14:if(this.recordUserGotoBookAction(this.checkoutData.prodMid),Object(y.a)("new_product_item_direct_booked",{prodID:this.productSetting.prod_mid,goDate:this.checkoutData.goDate,endDate:this.checkoutData.backDate||this.checkoutData.goDate,prodPrice:this.checkoutData.priceTotal,currency:kkday.constants.getValue("CURRENCY"),amountTotal:this.checkoutData.amountTotal}),this.member.isLogin){t.next=21;break}return this.isGoToBookLoading=!1,window.directPurchaseLogin=this.afterLogin,e(this.loginModalSelector).modal("show"),t.abrupt("return");case 21:return t.next=23,this.afterLogin({isDirect:!0});case 23:t.next=30;break;case 25:if(t.prev=25,t.t0=t.catch(3),"data validation error"!==t.t0){t.next=29;break}return t.abrupt("return");case 29:console.error(t.t0);case 30:return t.prev=30,this.isGoToBookLoading=!1,t.finish(30);case 33:case"end":return t.stop()}}),t,this,[[3,25,30,33]])})))},afterLogin:function(){return N(this,arguments,regeneratorRuntime.mark((function e(){var t,n,s,o,i,r,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.isDirect,s=void 0!==n&&n,this.isGoToBookLoading=!0,e.prev=2,e.next=5,this.ajaxDirectPurchase();case 5:if(r=e.sent,a.a.get(r,"data.redirect")){e.next=8;break}throw new Error((null==(i=null==(o=null==r?void 0:r.data)?void 0:o.data)?void 0:i.msg)||"redirection failed");case 8:if(!s){e.next=13;break}return window.location=r.data.redirect,e.abrupt("return",!0);case 13:return e.abrupt("return",r.data.redirect);case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(2),this.isGoToBookLoading=!1,alert(e.t0,"kkday-warning"),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,this,[[2,16]])})))},ajaxDirectPurchase:function(){return N(this,null,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.send({url:kkday.url.kkSiteUrl("booking/ajax_direct_purchase"),method:"POST",data:{isCartBooking:!1,items:[a.a.assign(this.checkoutData,{isOpenDateProduct:!1,confirmHours:V(this.pkg.order_process_setting.confirm_time)})]}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})))},goToRedeem:function(){return N(this,null,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isGoToRedeemLoading){e.next=2;break}return e.abrupt("return");case 2:return this.isGoToRedeemLoading=!0,e.prev=3,e.next=6,this.checkout();case 6:return e.next=8,this.afterLoginRedeem({isDirect:!0});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:return e.prev=13,this.isGoToRedeemLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[3,10,13,16]])})))},afterLoginRedeem:function(){return N(this,arguments,regeneratorRuntime.mark((function e(){var t,n,s,o,i,r,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.isDirect,s=void 0!==n&&n,this.isGoToRedeemLoading=!0,e.prev=2,e.next=5,this.ajaxDirectRedeem();case 5:if(r=e.sent,a.a.get(r,"data.redirect")){e.next=8;break}throw new Error((null==(i=null==(o=null==r?void 0:r.data)?void 0:o.data)?void 0:i.msg)||"redirection failed");case 8:if(!s){e.next=13;break}return window.location=r.data.redirect,e.abrupt("return",!0);case 13:return e.abrupt("return",r.data.redirect);case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(2),this.isGoToRedeemLoading=!1,alert(e.t0,"kkday-warning"),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,this,[[2,16]])})))},ajaxDirectRedeem:function(){return N(this,null,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.send({url:kkday.url.kkSiteUrl("booking/ajax_redeem"),method:"POST",data:{items:[this.checkoutData],redeemToken:kkday.url.parseUrlParameters().rtk}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})))},initCalculators:function(){this.initSkuCalculator(),(this.hasEvent||3===this.inventoryType)&&this.initTimeCalculator()},initSkuCalculator:function(){var e=this,t=!1,n={},s=[];s=a.a.map(this.skus,(function(n){var s={skuOid:n.sku_oid,amount:null,price:null,spec:n.spec};return 0!==e.priceType||e.hasEvent||(s.price=a.a.get(n,"single_price.fullday",null)),2===e.inventoryType&&(s.amount=a.a.get(n,"remain_qty",null),t=!0),s})),this.isPriceByDate&&(n[U]=a.a.clone(this.saleableDates),s=a.a.flatMap(this.saleableDates,(function(t){return a.a.map(s,(function(n){var s=a.a.cloneDeep(n);return s.spec[U]=t,0===e.priceType||e.hasEvent||(s.price=a.a.get(e.itemSkusPriceCalendar,[n.skuOid,t,"price","fullday"])),s}))}))),this.hasEvent&&(n[B]=a.a.clone(this.events),s=a.a.filter(a.a.flatMap(this.events,(function(t){return a.a.map(s,(function(n){var s=a.a.cloneDeep(n);if(s.spec[B]=t,0===e.priceType)s.price=a.a.get(e.skus[n.skuOid],["single_price",t]);else{var o=e.itemCalendar[n.spec[U]];if(!o||!a.a.includes(o.events,t))return null;s.price=a.a.get(e.itemSkusPriceCalendar,[n.skuOid,o.date,"price",t])}return s}))})))),s=s.filter((function(t){var n=a.a.get(e.itemCloseList,[t.skuOid,t.spec[U]],null);return!!a.a.isEmpty(n)||!(!e.hasEvent||n.includes(t.spec[B]))})),a.a.forEach(this.item.specs,(function(e){n[e.spec_oid]=a.a.map(e.spec_items,(function(e){return e.spec_item_oid}))})),this.formattedSpecs=Object.freeze(n),this.formattedSkus=Object.freeze(s);var o=null;this.isMultiSku&&a.a.last(this.item.specs).spec_oid===kkday.constants.getValue("PRODUCT_SPEC_TICKET")&&(o=C({},kkday.constants.getValue("PRODUCT_SPEC_TICKET"),"adult"));var i=[];this.isMultiSku&&i.push(this.multiChoiceSpec.spec_oid),this.isProdMultiDate&&i.push(U),this.skuCalculator=new _.a({specs:this.formattedSpecs,skus:this.formattedSkus,primarySpecs:o,hasAmount:t,multiSpecs:i}),this.specStatus=this.skuCalculator.getSpecStatus(),this.statistics=this.skuCalculator.getStatistics(),this.selectionSpecStatus=this.skuCalculator.getSelectionSpecStatus()},initTimeCalculator:function(){var e=this,t={},n=[],s=3===this.inventoryType;t[U]=a.a.clone(this.saleableDates),this.hasEvent&&(t[B]=a.a.clone(this.events)),a.a.forEach(this.itemCalendar,(function(t){if(t.is_saleable&&!t.is_sold_out)if(e.hasEvent)a.a.forEach(t.events,(function(e){var o,i={price:0,spec:(o={},C(o,U,t.date),C(o,B,e),o)};s&&(i.amount=a.a.get(t,["remain_qty",e],0)),n.push(i)}));else if(s){var o={amount:a.a.get(t,["remain_qty","fullday"],0),price:0,spec:C({},U,t.date)};n.push(o)}})),this.timeCalculator=new _.a({specs:t,skus:n,hasAmount:s}),this.timeStatus=this.timeCalculator.getSpecStatus(),this.timeStatistics=this.timeCalculator.getStatistics()},onCalendarMonthChanged:function(e){var t=this,n=e.clone().add(1,"M");this.currentMonthObj=e,n.isBefore(this.earliestSaleDateObj,"month")||n.isAfter(this.latestSaleDateObj,"month")||a.a.get(this.itemData,["loadedMonth",n.year(),n.month()])||(this.getItemCalendarData({pkgOid:this.pkgOid,itemOid:this.item.item_oid,year:n.year(),month:n.month(),isAccommodationType:this.isAccommodationType}).then((function(e){e&&t.resetCalculators()})),this.isRedeemProduct&&this.isRedeemProductSetGoDates&&this.getRedeemableDates({startDate:n.startOf("month").format("YYYY-MM-DD"),endDate:n.endOf("month").format("YYYY-MM-DD")}))},onClickEvent:function(e){1===this.events.length&&this.selectedEvent===e||this.setSelectedEvent(this.selectedEvent===e?null:e)},getEventRemainQty:function(e){return a.a.get(this.timeStatus,[B,e,"maxAmount"])},onClickSpec:function(e,t){1===this.formattedSpecs[e].length&&this.selectedFormattedSpec[e]===t||this.setSelectedSpec(e,this.selectedFormattedSpec[e]===t?null:t)},resetCalculators:function(){this.initCalculators(),this.skuCalculator.setSelectionArray(this.selectionArray),this.timeCalculator&&this.timeCalculator.setSelectionArray(this.selectedTimeArray)},resetSelection:function(){var e=this;this.selectedFormattedSpec={},a.a.forEach(this.singleChoiceSpecs,(function(t){s.set(e.selectedFormattedSpec,t.spec_oid,null)})),this.hasEvent&&s.set(this.selectedFormattedSpec,[B],null),this.isSpecSingle&&(this.selectedFormattedSpec[kkday.constants.getValue("PRODUCT_SPEC_SINGLE")]=a.a.get(this.item.specs,[0,"spec_items",0,"spec_item_oid"]));var t=this.getMinQty(),n=a.a.keys(this.amountOptions).length;a.a.forEach(this.amountOptions,(function(o,i){var r=t>o.minAmount&&1===n&&t%o.increment==0?t:o.minAmount;s.set(e.amount,i,r<=o.maxAmount?r:0)})),this.isProdMultiDate?(this.selectedDate={},s.set(this.selectedDate,"startDate",null),s.set(this.selectedDate,"endDate",null)):this.selectedDate=null,this.setDefaultSelection(),this.isShowError=!1},setDefaultSelection:function(){var e=this;this.isProdMultiDate||1!==this.saleableDates.length||(this.selectedDate=a.a.head(this.saleableDates)),this.hasEvent&&1===this.events.length&&this.setSelectedEvent(a.a.head(this.events)),a.a.forEach(this.singleChoiceDisplaySpecs,(function(t){1===t.spec_items.length&&e.setSelectedSpec(t.spec_oid,a.a.get(a.a.head(t.spec_items),"spec_item_oid"))}))},setSelectedEvent:function(e){a.a.isNil(e)?this.selectedFormattedSpec[B]=null:this.checkIsEventValid(e)&&this.checkIsSpecValid(B,e)&&(this.selectedFormattedSpec[B]=e)},setSelectedSpec:function(e,t){a.a.isNil(t)?this.selectedFormattedSpec[e]=null:this.checkIsSpecValid(e,t)&&(this.selectedFormattedSpec[e]=t)},setUrlParamsDate:function(){var e=a.a.get(this.urlParams,"go_date"),t=a.a.get(this.urlParams,"back_date");this.isProdMultiDate&&e&&t&&(this.selectedDate={startDate:e,endDate:t}),!this.isProdMultiDate&&e&&(this.selectedDate=e)},setUrlParamsEvent:function(){var e=a.a.get(this.urlParams,"event");this.hasEvent&&e&&this.setSelectedEvent(e)},setUrlParamsSkus:function(){var e=this,t=a.a.reduce(this.skus,(function(t,n){var s=a.a.toNumber(a.a.get(e.urlParams,n.sku_oid));return s>0&&(t[n.sku_oid]=s),t}),{});if(!a.a.isEmpty(t)){var n=a.a.keys(t),s=a.a.head(n),o=this.skus[s];a.a.every(n,(function(t){var n=e.skus[t];return a.a.every(e.singleChoiceSpecs,(function(e){return o.spec[e.spec_oid]===n.spec[e.spec_oid]}))}))&&(a.a.forEach(this.singleChoiceDisplaySpecs,(function(t){e.setSelectedSpec(t.spec_oid,o.spec[t.spec_oid])})),a.a.forEach(t,(function(t,n){var s=e.isMultiSku?e.skus[n].spec[e.multiChoiceSpec.spec_oid]:"sku-single";t%e.amountOptions[s].increment==0&&(e.amount[s]=t)})))}},setUrlParamsQty:function(){var e=this;if(this.isMultiSku)a.a.forEach(this.amountOptions,(function(t,n){var s=a.a.toNumber(a.a.get(e.urlParams,n));s>0&&s%t.increment==0&&(e.amount[n]=s)}));else{var t=a.a.toNumber(a.a.get(this.urlParams,"qty"));t>0&&t%this.amountOptions["sku-single"].increment==0&&(this.amount["sku-single"]=t)}},setRedeemParamsSkus:function(){var e=this,t=a.a.find(this.redeemInfo.group.condition.packages,(function(t){return t.packageOid===e.currentPkgOid}));a.a.forEach(this.amountOptions,(function(n,s){a.a.last(e.item.specs).spec_oid===kkday.constants.getValue("PRODUCT_SPEC_TICKET")?a.a.some(e.item.skus,(function(e){return e.spec["spec-ticket"]===s}))&&(e.amount[s]=t.ticketQtys[s]):e.amount["sku-single"]=t.singleSpecQty}))},setUrlParamsSelection:function(){this.urlPkgOid&&this.pkgOid===this.urlPkgOid&&(this.setUrlParamsDate(),this.setUrlParamsEvent(),this.setUrlParamsSkus(),this.setUrlParamsQty())},setRedeemParamsSelection:function(){this.redeemInfo.oid&&"ON"===this.redeemInfo.status&&this.setRedeemParamsSkus()},shakeErrorGroups:function(){var t=this;if(!this.shakeTimeout){var n=a.a.filter(a.a.keys(this.validation.checkList),(function(e){return!t.validation.checkList[e].isValid}));if(!a.a.isEmpty(n)){var s=a.a.map(n,(function(e){var n=t.$refs["form-group-".concat(e)];return a.a.isArray(n)?a.a.head(n):n}));e(s).addClass("error-shake"),this.shakeTimeout=setTimeout((function(){e(s).removeClass("error-shake"),t.shakeTimeout=null}),1200);var o=a.a.head(s),i=e("header.fix").outerHeight()+20;o.getBoundingClientRect().top<i&&Object(c.w)(o,{scrollOffset:i,duration:200})}}},checkIsInventoryWarningShow:function(e){return this.pkg.event_customize_setting&&!a.a.isEmpty(this.timeStatus)&&1===this.getEventStatusCode(e)&&a.a.get(this.timeStatus,[B,e,"maxAmount"])<this.pkg.event_customize_setting.inventory_warning_limit},getElementRenderState:function(e){var t,n,s;switch(e){case"resetBtn":case"price":case"bookNowBtn":case"calendarPriceHint":return!this.isRedeemProduct&&!this.isRedeemKkgift;case"kkPoint":return!this.isRedeemProduct&&!this.isRedeemKkgift&&!(null==(t=this.item)?void 0:t.is_zero_price);case"addToCartBtn":return!(("zh-tw"===kkday.constants.getValue("LANG_UI")||"TWD"===kkday.constants.getValue("CURRENCY"))&&!this.prodSetting.is_tourism_product||this.isRedeemProduct||this.isRedeemKkgift||this.isWhlbProd||(null==(n=this.item)?void 0:n.is_zero_price)||this.transAddOnAreaName);case"redeemNowBtn":return(this.isRedeemProduct||this.isRedeemKkgift)&&!this.transAddOnAreaName;case"pointBonusCheckoutBanner":return this.pointBonusData&&!(null==(s=this.item)?void 0:s.is_zero_price);default:return!0}},recordUserSelectDateAction:function(e,t){a.a.get(this.prodSetting,"preview_token")||new b.a({url:this.userActionUrl,name:"check_date",request:{product_oid:e,check_date:t}}).record()},recordUserAddCartAction:function(e){a.a.get(this.prodSetting,"preview_token")||new b.a({url:this.userActionUrl,name:"add_cart",request:{product_oid:e}}).record()},recordUserGotoBookAction:function(e){a.a.get(this.prodSetting,"preview_token")||new b.a({url:this.userActionUrl,name:"goto_book",request:{product_oid:e}}).record()},isDateRedeemAble:function(e){return!a.a.isArray(this.redeemAbleDates)||a.a.includes(this.redeemAbleDates,e)},getLogoSrc:function(e){kkday.image.convertToWebp(kkday.image.get({path:e,width:"32",height:"32",crop:"fill"}))},getMinQty:function(){var e=Object(k.a)("min_qty");return a.a.isEmpty(e)?null:e[this.pkgOid]?a.a.toNumber(e[this.pkgOid]):0}},Object(l.b)("newProduct/optionSection",["getItemCalendarData","getSkusCalendar","setCheckoutData","updatePointBonusData","getRedeemableDates"])),Object(l.b)({onAddCartItem:"cart/onAddCartItem"}))}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"),n("./node_modules/vue/dist/vue.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ItemBlockV2.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e,s){n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array.find.js"),n("./node_modules/core-js/modules/es.array.find-index.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.values.js"),n("./node_modules/core-js/modules/es.array.sort.js"),n("./node_modules/core-js/modules/es.array.flat-map.js"),n("./node_modules/core-js/modules/es.array.unscopables.flat-map.js"),n("./node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.promise.finally.js"),n("./node_modules/core-js/modules/es.object.freeze.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var o=n("./node_modules/moment/moment.js-exposed"),i=n.n(o),r=n("./node_modules/lodash/lodash.js-exposed"),a=n.n(r),c=n("./resources/pc/js/helpers/common.js"),u=n("./node_modules/vuex/dist/vuex.esm.js"),l=n("./resources/pc/js/components/common/OriginPrice.vue"),d=n("./resources/pc/js/components/point/PointBonusCheckoutBanner.vue"),m=n("./resources/pc/js/components/common/Button.vue"),p=n("./resources/pc/js/components/whlbSetting/WhlbSettingButton.vue"),f=n("./node_modules/@kkday/web-js-lib/dist/SkuCalculator.js"),h=n.n(f),_=n("./resources/pc/js/helpers/product.js"),g=n("./resources/share/js/libs/KkDispatcher.js"),v=n("./resources/pc/js/directives/tooltip.js"),y=n("./resources/pc/js/libs/GoogleTagManager/GtmEventUtils.js"),b=n("./resources/pc/js/libs/UserAction.js"),j=n("./resources/pc/js/helpers/loginModal.js"),k=n("./resources/pc/js/helpers/localeCustomize.js");function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var C=Object.defineProperty,D=Object.defineProperties,O=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,M=function(e,t,n){return t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},L=function(e,t){for(var n in t||(t={}))I.call(t,n)&&M(e,n,t[n]);if(E){var s,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}(E(t));try{for(o.s();!(s=o.n()).done;){n=s.value;T.call(t,n)&&M(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},A=function(e,t,n){return new Promise((function(s,o){var i=function(e){try{a(n.next(e))}catch(e){o(e)}},r=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?s(e.value):Promise.resolve(e.value).then(i,r)};a((n=n.apply(e,t)).next())}))},R="spec-date",N="spec-event";t.a={components:{Button:m.a,WhlbSettingButton:p.a,OriginPrice:l.a,PointBonusCheckoutBanner:d.a},directives:{tooltip:v.a},inject:["getWhlbProdElementStyle"],props:{pkgOid:{type:Number,required:!0},itemData:{type:Object,required:!0}},data:function(){return{amount:{},currentMonthObj:null,formattedSkus:[],formattedSpecs:{},isAddToCartLoading:!1,isGoToBookLoading:!1,isGoToRedeemLoading:!1,isShowError:!1,selectedFormattedSpec:{},selectionSpecStatus:null,shakeTimeout:null,skuCalculator:null,skusRemainQty:{},specStatus:null,statistics:null,timeCalculator:null,timeStatistics:null,timeStatus:null}},computed:L(L(L({skuTopTitle:function(){return this.isOpenDateProduct?this.lang("product_index_select_options"):this.lang("product_index_select_date_options")},eventTitle:function(){var e;return(null==(e=this.item)?void 0:e.event_title)||this.lang("product_index_event")},amountOptions:function(){var e=this,t=this.isMultiSku?this.amountOptionsMulti:this.amountOptionsSingle;return a.a.forEach(t,(function(t,n){var s=a.a.get(e.amount,n,0);t.formattedPrice="".concat(Object(k.a)(e.member.currency)," ").concat(Object(c.r)(t.lowestPrice,e.member.currency)),t.isPlusEnabled=t.isEnabled&&s+t.increment<=t.maxAmount,t.isMinusEnabled=t.isEnabled&&s-t.increment>=t.minAmount})),t},amountOptionsMulti:function(){var e=this,t={},n=a.a.get(this.item,"unit_quantity_rule.total_rule.max_quantity");return a.a.forEach(this.multiChoiceSpec.spec_items,(function(s){var o=e.multiChoiceSpec.spec_oid,i=s.spec_item_oid,r=i,c=a.a.get(e.amount,r,0),u=t[r]={isEnabled:a.a.get(e.specStatus,[o,i,"selectable"],!1)&&!e.isRedeemProduct,isSufficient:!a.a.get(e.specStatus,[o,i,"insufficient"],!1),name:s.name,unit:e.lang("product_index_unit2_".concat(e.item.unit)),officialPrice:a.a.max(w(a.a.map(a.a.get(e.specStatus,[o,i,"cheapestSkusIdx"],[]),(function(t){return a.a.get(e.skus,[e.formattedSkus[t].skuOid,"official_price"],null)}))))*(e.dateSpan||1),lowestPrice:a.a.get(e.specStatus,[o,i,"lowestPrice"],null),highestPrice:a.a.get(e.specStatus,[o,i,"highestPrice"],null),rule:a.a.get(e.specItemsRule,i,null),maxAmount:0,minAmount:0,increment:1,disabledHintPlus:null,disabledHintMinus:null};if(u.isEnabled){if(e.isDateSelected&&e.isProdMultiDate)if(e.isPriceByDate&&2===e.priceType){var l=a.a.map(e.selectedDates,(function(t){return a.a.find(e.selectionSpecStatus,(function(n,s){return e.selectionArray[s].spec[R]===t}))}));u.lowestPrice=a.a.sum(a.a.map(l,(function(e){return a.a.get(e,[o,i,"lowestPrice"])}))),u.highestPrice=a.a.sum(a.a.map(l,(function(e){return a.a.get(e,[o,i,"highestPrice"])})))}else if(e.isPriceByDate&&1===e.priceType){var d=a.a.get(e.selectionSpecStatus,a.a.findIndex(e.selectionArray,(function(t){return t.spec[R]===a.a.head(e.selectedDates)})));u.lowestPrice=a.a.get(d,[o,i,"lowestPrice"])*e.dateSpan,u.highestPrice=a.a.get(d,[o,i,"highestPrice"])*e.dateSpan}else u.lowestPrice*=e.dateSpan,u.highestPrice*=e.dateSpan;if(u.maxAmount=n-(e.amountTotal-c),u.disabledHintPlus=e.printf(e.lang("product_index_hint_total_max"),[n,e.unitText]),1===e.inventoryType||3===e.inventoryType){var m=e.itemRemainQty-(e.amountTotal-c);m<u.maxAmount&&(u.maxAmount=m,u.disabledHintPlus=e.printf(e.lang("product_index_stock_remain_qty"),[e.itemRemainQty,e.unitText]))}else if(2===e.inventoryType){var p=a.a.get(e.specStatus,[o,i,"maxAmount"]);p<u.maxAmount&&(u.maxAmount=p,u.disabledHintPlus=e.printf(e.lang("product_index_hint_remain_qty"),[u.name,p,e.unitText]))}if(a.a.get(e.item,"unit_quantity_rule.ticket_rule.is_active")){var f=a.a.find(a.a.get(e.item,"unit_quantity_rule.ticket_rule.rulesets"),(function(e){return a.a.includes(e.spec_items,i)}));if(f){var h=e.getRulesetData(f),_=f.max_quantity-(h.currentSubTotal-c);_<u.maxAmount&&(u.maxAmount=_,u.disabledHintPlus=e.printf(e.lang("product_index_hint_rule_max"),[h.ruleNames.join("+"),f.max_quantity,e.unitText])),1===f.spec_items.length&&(f.min_quantity>u.minAmount&&(u.minAmount=f.min_quantity,u.disabledHintMinus=e.printf(e.lang("product_index_hint_rule_min"),[a.a.head(h.ruleNames),f.min_quantity,e.unitText])),f.is_multiple_limit&&f.min_quantity>0&&(u.increment=f.min_quantity))}}if(1===e.multiChoiceSpec.spec_items.length){var g=a.a.get(e.item,"unit_quantity_rule.total_rule.min_quantity");g>u.minAmount&&g%u.increment==0&&(u.minAmount=g,u.disabledHintMinus=e.printf(e.lang("product_index_hint_total_min"),[g,e.unitText]))}}})),t},amountOptionsSingle:function(){var e=this,t=a.a.get(this.item,"unit_quantity_rule.total_rule.max_quantity"),n=a.a.get(this.item,"unit_quantity_rule.total_rule.min_quantity"),s={isEnabled:!this.isRedeemProduct,isSufficient:!this.pkg.is_all_sold_out,name:this.lang("product_index_unit1_".concat(this.item.unit)),unit:this.lang("product_index_unit2_".concat(this.item.unit)),officialPrice:a.a.max(w(a.a.map(a.a.get(this.statistics,"cheapestSkusIdx",[]),(function(t){return a.a.get(e.skus,[e.formattedSkus[t].skuOid,"official_price"],null)}))))*(this.dateSpan||1),lowestPrice:a.a.get(this.statistics,"lowestPrice",null),highestPrice:a.a.get(this.statistics,"highestPrice",null),rule:null,maxAmount:t,minAmount:n,increment:a.a.get(this.item,"unit_quantity_rule.total_rule.is_multiple_limit")?a.a.max([n,1]):1,disabledHintPlus:this.printf(this.lang("product_index_hint_total_max"),[t,this.unitText]),disabledHintMinus:n>0?this.printf(this.lang("product_index_hint_total_min"),[n,this.unitText]):null};if(this.isDateSelected&&this.isProdMultiDate)if(this.isPriceByDate&&2===this.priceType){var o=a.a.map(this.selectedDates,(function(t){var n=a.a.find(e.selectionSpecStatus,(function(n,s){return e.selectionArray[s].spec[R]===t}));return a.a.get(n,[R,t])}));s.lowestPrice=a.a.sum(a.a.map(o,"lowestPrice")),s.highestPrice=a.a.sum(a.a.map(o,"highestPrice"))}else if(this.isPriceByDate&&1===this.priceType){var i=a.a.head(this.selectedDates),r=a.a.get(this.selectionSpecStatus,a.a.findIndex(this.selectionArray,(function(e){return e.spec[R]===i})));s.lowestPrice=a.a.get(r,[R,i,"lowestPrice"])*this.dateSpan,s.highestPrice=a.a.get(r,[R,i,"highestPrice"])*this.dateSpan}else s.lowestPrice*=this.dateSpan,s.highestPrice*=this.dateSpan;var c=null;switch(this.inventoryType){case 1:case 3:c=this.itemRemainQty;break;case 2:c=a.a.get(this.statistics,"maxAmount");break;default:c=null}return a.a.isNumber(c)&&c<s.maxAmount&&(s.maxAmount=c,s.disabledHintPlus=this.printf(this.lang("product_index_stock_remain_qty"),[c,this.unitText])),S({},"sku-single",s)},amountTotal:function(){return a.a.reduce(this.amount,(function(e,t){return e+t}),0)},checkoutData:function(){var e,t,n,s=(t=L(L({prodOid:this.productSetting.prod_oid,prodMid:this.productSetting.prod_mid,productVersion:this.product.version,pkgOid:this.pkgOid,itemOid:this.item.item_oid,isZeroPrice:!!(null==(e=this.item)?void 0:e.is_zero_price)},!this.isOpenDateProduct&&{goDate:this.isProdMultiDate?a.a.get(this.selectedDate,"startDate",null):this.selectedDate}),!this.isOpenDateProduct&&{backDate:this.isProdMultiDate?a.a.get(this.selectedDate,"endDate",null):null}),n={event:this.selectedEvent,singleChoiceSpecs:this.selectedSingleChoiceSpecs,multiChoiceSpecAmount:this.isMultiSku?a.a.clone(this.amount):null,skus:this.determinedSkus,amountTotal:this.amountTotal,priceTotal:this.priceTotal},D(t,O(n)));return s.id=[s.prodOid,s.packageOid,s.itemOid,s.goDate,s.backDate,s.event].concat(Object.values(s.singleChoiceSpecs||{})).filter((function(e){return!!e})).join("_"),s},dateSpan:function(){return this.isDateSelected?this.selectedDates.length:null},determinedSkus:function(){var e=this,t=a.a.get(this.statistics,"determinedAmount",null);return a.a.isEmpty(t)?[]:a.a.uniqBy(a.a.reduce(t,(function(t,n,s){if(!n)return t;var o=e.formattedSkus[s],i=e.skus[o.skuOid],r=e.isMultiSku?i.spec[e.multiChoiceSpec.spec_oid]:"sku-single";return t.push({skuOid:i.sku_oid,amount:n,price:e.amountOptions[r].lowestPrice,spec:i.spec}),t}),[]),"skuOid")},events:function(){return this.hasEvent?a.a.reduce(this.itemCalendar,(function(e,t){return a.a.union(e,a.a.get(t,"events",[]))}),[]).sort():null},hasEvent:function(){return this.item.has_event},inventoryType:function(){if(this.item.inventory_setting.control_type===kkday.constants.getValue("PRODUCT_INVENTORY_NONE"))return 0;if(this.item.inventory_setting.control_type===kkday.constants.getValue("PRODUCT_INVENTORY_ON_ITEM")){if(this.item.inventory_setting.inventory_type===kkday.constants.getValue("PRODUCT_INVENTORY_BY_TOTAL"))return 1;if(this.item.inventory_setting.inventory_type===kkday.constants.getValue("PRODUCT_INVENTORY_BY_TIME"))return 3}else if(this.item.inventory_setting.control_type===kkday.constants.getValue("PRODUCT_INVENTORY_ON_SKU")){if(this.item.inventory_setting.inventory_type===kkday.constants.getValue("PRODUCT_INVENTORY_BY_TOTAL"))return 2;if(this.item.inventory_setting.inventory_type===kkday.constants.getValue("PRODUCT_INVENTORY_BY_TIME"))return 4}return null},isOpenDateProduct:function(){var e,t;return Object(_.a)(null==(t=null==(e=this.product)?void 0:e.go_date_setting)?void 0:t.type,this.productSetting.prod_mid)},isPriceByDate:function(){return 0!==this.priceType||!a.a.isEmpty(this.itemCloseList)},isMultiSku:function(){return this.item.last_spec_multi},isSpecSingle:function(){return a.a.get(this.item.specs,[0,"spec_oid"])===kkday.constants.getValue("PRODUCT_SPEC_SINGLE")},item:function(){return this.itemData.item},itemCalendar:function(){return this.itemData.calendar},itemCloseList:function(){return this.itemData.closeList},itemRemainQty:function(){var e=this;return 1===this.inventoryType?a.a.get(this.item,"remain_qty"):3===this.inventoryType?this.isDateSelected?a.a.min(a.a.map(this.selectedDates,(function(t){return a.a.get(e.timeStatus,[R,t,"maxAmount"],0)}))):this.timeStatistics.maxAmount:null},itemSkusPriceCalendar:function(){return this.itemData.skusPriceCalendar},multiChoiceSpec:function(){return this.isMultiSku?a.a.last(this.item.specs):null},pkg:function(){return this.packages[this.pkgOid]},priceTotal:function(){return a.a.reduce(this.determinedSkus,(function(e,t){return e+t.price*t.amount}),0)},priceType:function(){if(this.item.price_type===kkday.constants.getValue("PRODUCT_PRICE_TYPE_BY_DATE")){if(this.item.price_rule_type===kkday.constants.getValue("PRODUCT_PRICE_RULE_TYPE_MULTIPLY"))return 1;if(this.item.price_rule_type===kkday.constants.getValue("PRODUCT_PRICE_RULE_TYPE_ACCUMULATE"))return 2}return 0},selectionArray:function(){var e=this,t=[];return this.isMultiSku?(a.a.forEach(this.multiChoiceSpec.spec_items,(function(n){var s=a.a.clone(e.selectedFormattedSpec),o=+a.a.get(e.amount,n.spec_item_oid,0);o&&(s[e.multiChoiceSpec.spec_oid]=n.spec_item_oid,t.push({spec:s,amount:o}))})),t.length||t.push({spec:a.a.clone(this.selectedFormattedSpec),amount:0}),t=a.a.uniqBy(t,(function(e){return JSON.stringify(e.spec)}))):t.push({spec:a.a.clone(this.selectedFormattedSpec),amount:+this.amount["sku-single"]}),this.isPriceByDate&&(this.isDateSelected?this.isProdMultiDate?t=a.a.flatMap(t,(function(t){return a.a.map(e.selectedDates,(function(e){var n=a.a.cloneDeep(t);return n.spec[R]=e,n}))})):a.a.forEach(t,(function(t){t.spec[R]=e.selectedDate})):a.a.forEach(t,(function(e){e.spec[R]=null}))),t=a.a.filter(t,(function(e){return e.amount>0||a.a.some(e.spec,(function(e){return!a.a.isNil(e)}))})),t},selectedDate:function(){return this.isProdMultiDate?this.productSelectedDate:a.a.get(this.productSelectedDate,"startDate",null)},selectedDates:function(){var e=[];if(!this.isDateSelected)return e;if(this.isProdMultiDate)for(var t=i()(this.selectedDate.startDate,this.dateFormat),n=i()(this.selectedDate.endDate,this.dateFormat);t.isSameOrBefore(n,"day");)e.push(t.format(this.dateFormat)),t.add(1,"d");else e.push(this.selectedDate);return e},selectedEvent:{get:function(){return this.hasEvent?this.selectedFormattedSpec[N]:null},set:function(e){this.setSelectedEvent(e)}},selectedTimeArray:function(){if(!this.timeCalculator)return null;var e={amount:this.amountTotal,spec:{}};return this.hasEvent&&(e.spec[N]=this.selectedEvent),this.isDateSelected?this.isProdMultiDate?a.a.map(this.selectedDates,(function(t){return a.a.assign(S({},R,t),e)})):(e.spec[R]=this.selectedDate,[e]):(e.spec[R]=null,[e])},closeDates:function(){if(Object.size(this.itemCloseList)!==Object.size(this.skus))return[];var e={};a.a.forEach(this.itemCloseList,(function(t){a.a.forEach(t,(function(t,n){e[n]=t.length+(e[n]||0)}))}));var t=Object.size(this.skus)*(this.hasEvent?this.events.length:1);return Object.keys(e).filter((function(n){return e[n]===t}))},saleableDates:function(){return a.a.map(a.a.filter(this.itemCalendar,"is_saleable"),"date")},selectedSingleChoiceSpecs:function(){var e=this;return a.a.isEmpty(this.singleChoiceSpecs)?null:a.a.reduce(this.singleChoiceSpecs,(function(t,n){return t[n.spec_oid]=e.selectedFormattedSpec[n.spec_oid],t}),{})},singleChoiceSpecs:function(){return this.isMultiSku?this.item.specs.slice(0,this.item.specs.length-1):this.item.specs},singleChoiceDisplaySpecs:function(){return this.isSpecSingle?[]:this.singleChoiceSpecs},skus:function(){return a.a.keyBy(this.item.skus,"sku_oid")},soldOutDates:function(){var e=[];return a.a.forEach(this.itemCalendar,(function(t){t.is_sold_out&&e.push(t.date)})),e},specItemsRule:function(){var e=this,t={};return this.isMultiSku?(a.a.forEach(this.multiChoiceSpec.spec_items,(function(n){if(!a.a.isNil(n.rule)){var s=[];n.rule.age_rule&&(a.a.isNumber(n.rule.age_rule.min)&&a.a.isNumber(n.rule.age_rule.max)?s.push(e.printf(e.lang("common_age_between"),[n.rule.age_rule.min,n.rule.age_rule.max])):a.a.isNumber(n.rule.age_rule.min)?s.push(e.printf(e.lang("common_age_greater_than"),[n.rule.age_rule.min])):a.a.isNumber(n.rule.age_rule.max)&&s.push(e.printf(e.lang("common_age_less_than"),[n.rule.age_rule.max]))),n.rule.height_rule&&(a.a.isNumber(n.rule.height_rule.min)&&a.a.isNumber(n.rule.height_rule.max)?s.push(e.printf(e.lang("common_height_between"),[n.rule.height_rule.min,n.rule.height_rule.max])):a.a.isNumber(n.rule.height_rule.min)?s.push(e.printf(e.lang("common_height_greater_than"),[n.rule.height_rule.min])):a.a.isNumber(n.rule.height_rule.max)&&s.push(e.printf(e.lang("common_height_less_than"),[n.rule.height_rule.max]))),s.length&&(t[n.spec_item_oid]=s.join(" "+e.lang("common_or")+" "))}})),t):t},unitText:function(){return this.lang("common_unit_trailing_"+this.item.unit)},validation:function(){var e=this,t={};if(this.hasEvent){var n=!!this.selectedEvent;t.event={isValid:n,errorMsg:n?null:this.lang("product_index_hint_choose_event")}}a.a.forEach(this.singleChoiceDisplaySpecs,(function(n){var s=!a.a.isNil(e.selectedFormattedSpec[n.spec_oid]);t["spec-"+n.spec_oid]={isValid:s,errorMsg:s?null:e.printf(e.lang("product_index_hint_choose_spec"),[n.spec_title])}}));var s=null,o=a.a.get(this.item,"unit_quantity_rule.total_rule.max_quantity"),i=a.a.get(this.item,"unit_quantity_rule.total_rule.min_quantity");if(this.amountTotal>o)s=this.printf(this.lang("product_index_hint_total_max"),[o,this.unitText]);else if(this.amountTotal<i)s=this.printf(this.lang("product_index_hint_total_min"),[i,this.unitText]);else if(a.a.get(this.item,"unit_quantity_rule.total_rule.is_multiple_limit")&&i>0&&this.amountTotal%i!=0)s=this.printf(this.lang("product_index_hint_total_multiple"),i);else if(a.a.get(this.item,"unit_quantity_rule.ticket_rule.is_active")){var r=[];a.a.forEach(a.a.get(this.item,"unit_quantity_rule.ticket_rule.rulesets"),(function(t){var n=e.getRulesetData(t),s=n.ruleNames.join("+");n.currentSubTotal>t.max_quantity?r.push(e.printf(e.lang("product_index_hint_rule_max"),[s,t.max_quantity,e.unitText])):n.currentSubTotal<t.min_quantity?r.push(e.printf(e.lang("product_index_hint_rule_min"),[s,t.min_quantity,e.unitText])):t.is_multiple_limit&&t.min_quantity>0&&n.currentSubTotal%t.min_quantity!=0&&r.push(e.printf(e.lang("product_index_hint_rule_multiple"),[s,t.min_quantity]))})),r.length&&(s=r.join(", "))}return 1!==this.inventoryType&&3!==this.inventoryType||this.amountTotal>this.itemRemainQty&&(s=this.printf(this.lang("product_index_stock_remain_qty"),[this.itemRemainQty,this.unitText])),t.amount={isValid:a.a.isNil(s),errorMsg:s},a.a.forEach(this.amountOptions,(function(e,n){t[n]={isValid:!0,errorMsg:null}})),2!==this.inventoryType&&4!==this.inventoryType||a.a.forEach(this.determinedSkus,(function(n){var s=e.skus[n.skuOid],o=e.skusRemainQty[s.sku_oid],i=e.isMultiSku?s.spec[e.multiChoiceSpec.spec_oid]:"sku-single";o<e.amount[i]&&(t[i].isValid=!1,t[i].errorMsg=e.printf(e.lang("product_index_hint_remain_qty"),[e.amountOptions[i].name,o,e.unitText]))})),t.amount.isValid=t.amount.isValid&&a.a.every(this.amountOptions,(function(e,n){return t[n].isValid})),{isAllValid:a.a.every(t,"isValid"),checkList:t}},isRedeemProduct:function(){return!a.a.isEmpty(this.redeemInfo)},isShowEventAlmostSoldout:function(){return!a.a.isEmpty(this.selectedFormattedSpec[N])&&this.checkIsInventoryWarningShow(this.selectedFormattedSpec[N])},eventAlmostSoldOutText:function(){return this.printf(this.lang("product_index_event_is_almost_sold_out"),[this.getEventRemainQty(this.selectedFormattedSpec[N])])},isHideAddToCart:function(){return("zh-tw"===kkday.constants.getValue("LANG_UI")||"TWD"===kkday.constants.getValue("CURRENCY"))&&!this.prodSetting.is_tourism_product},pointBonusData:function(){return this.getPointBonusUiElement(a.a.get(kkday.constants.getValue("POINTS_BONUS_UI_ELEMENTS"),"CHECKOUT_BANNER"))},checkoutItems:function(){return[a.a.assign(this.checkoutData,{isOpenDateProduct:this.isOpenDateProduct})]}},Object(u.e)("newProduct/optionSection",["currentPkgOid","dateFormat","packages","product","productSetting","urlParams","productSelectedDate"])),Object(u.c)("newProduct/optionSection",["isProdMultiDate","urlPkgOid","isDateSelected"])),Object(u.c)({member:"common/member",mainProductImageUrl:"newProduct/mainProductImageUrl",redeemInfo:"newProduct/redeemInfo",prodSetting:"newProduct/prodSetting",langInfo:"system/langInfo",userActionUrl:"newProduct/userActionUrl",getPointBonusUiElement:"newProduct/optionSection/kkpointBonusStore/getUiElement",isLoadingPointBonus:"newProduct/optionSection/kkpointBonusStore/isLoadingPointBonus",extraOrderPoints:"newProduct/optionSection/kkpointBonusStore/extraOrderPoints",isRedeemKkgift:"common/isRedeemKkgift",isWhlbProd:"whlbProduct/isWhlbProd"})),watch:{checkoutData:function(){this.setCheckoutData(this.checkoutData)},"checkoutData.goDate":function(e){e&&this.recordUserSelectDateAction(this.checkoutData.prodMid,e)},currentPkgOid:function(){this.currentPkgOid===this.pkgOid&&(this.setCheckoutData(this.checkoutData),this.isShowError=!1)},itemData:{handler:function(){this.currentPkgOid===this.pkgOid&&this.resetCalculators()},deep:!0},selectedDate:function(){4===this.inventoryType&&(this.skusRemainQty={})},selectedEvent:function(){4===this.inventoryType&&(this.skusRemainQty={})},selectedSingleChoiceSpecs:function(){4===this.inventoryType&&(this.skusRemainQty={})},selectedTimeArray:function(){this.timeCalculator.setSelectionArray(this.selectedTimeArray)},selectionArray:function(){this.skuCalculator.setSelectionArray(this.selectionArray)}},created:function(){var e=Object(c.l)(this.initCalculators);e>1e3&&Object(c.a)({url:kkday.url.kkSiteUrl("kk/ajax_save_log/initCalculatorsSlow"),data:{pkgOid:this.pkgOid,productOid:this.productSetting.prod_oid,productMid:this.productSetting.prod_mid,executeTime:e}}),2===this.inventoryType&&(this.skusRemainQty=a.a.mapValues(this.skus,"remain_qty"))},mounted:function(){this.resetSelection(),this.setUrlParamsSelection(),this.isRedeemProduct&&(this.setRedeemParamsSelection(),this.checkIsRedeemSpecTicketValid()||(alert(this.lang("common_redeem_fail"),"kkday-warning"),setTimeout((function(){location.href=kkday.url.kkSiteUrl("redeem")}),2e3)))},methods:L(L({addToCart:function(){var t=this;this.isAddToCartLoading||(this.isAddToCartLoading=!0,this.checkout().then((function(){return e("#addCartItem").blur(),t.recordUserAddCartAction(t.checkoutData.prodMid),Object(y.a)("new_product_item_add_to_cart",{goDate:t.checkoutData.goDate,endDate:t.checkoutData.backDate||t.checkoutData.goDate,prodPrice:t.checkoutData.priceTotal,currency:kkday.constants.getValue("CURRENCY"),amountTotal:t.checkoutData.amountTotal}),t.onAddCartItem(a.a.merge(t.checkoutData,{productName:t.product.name,packageName:t.pkg.name,imgUrl:t.mainProductImageUrl,unit:t.item.unit,specLang:Object.values(t.item.specs).reduce((function(e,t){return e.concat(t.spec_items.map((function(e){return"spec-ticket"!==t.spec_oid&&(e.spec_title=t.spec_title),e})))}),[]).reduce((function(e,t){return e[t.spec_item_oid]={value:t.spec_title?t.spec_title+": "+t.name:t.name},e}),{}),cities:t.product.cities,tags:t.product.tags,category:t.product.category,isTourismProduct:t.prodSetting.is_tourism_product,isOpenDateProduct:t.isOpenDateProduct}))}),(function(){})).finally((function(){t.isAddToCartLoading=!1})))},checkIsEventBeforeSaleTime:function(e,t){return e<this.pkg.sale_time.earliest_sale_time.date||e===this.pkg.sale_time.earliest_sale_time.date&&t<this.pkg.sale_time.earliest_sale_time.event},checkIsEventValid:function(e){return 1===this.getEventStatusCode(e)},checkIsSpecValid:function(e,t){return 1===this.getSpecStatusCode(e,t)},checkIsRedeemSpecTicketValid:function(){var e=this;if(a.a.last(this.item.specs).spec_oid!==kkday.constants.getValue("PRODUCT_SPEC_TICKET"))return!0;var t=a.a.find(this.redeemInfo.group.condition.packages,(function(t){return t.packageOid===e.currentPkgOid}));return a.a.every(t.ticketQtys,(function(t,n){return 0===t||a.a.some(e.item.skus,(function(e){return e.spec["spec-ticket"]===n}))}))},checkout:function(){var e=this;return this.isShowError=!1,new Promise((function(t,n){return A(e,null,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validation.isAllValid){e.next=4;break}return this.isShowError=!0,this.shakeErrorGroups(),e.abrupt("return",n());case 4:if(4===this.inventoryType){e.next=6;break}return e.abrupt("return",t());case 6:this.checkSkuInventory().then((function(){if(!s.validation.isAllValid)return s.isShowError=!0,s.shakeErrorGroups(),n();t()}),(function(){n()}));case 7:case"end":return e.stop()}}),e,this)})))}))},checkSkuInventory:function(){var e=this;new Promise((function(t,n){return A(e,null,regeneratorRuntime.mark((function e(){var s,o,i,r,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,o=this.$watch("checkoutData",(function(){s=!0,o(),n()})),e.next=4,this.getSkusCalendar();case 4:if(i=e.sent,o(),!s){e.next=8;break}return e.abrupt("return",n());case 8:if(i){e.next=11;break}return console.error("get skusCalendar fail"),e.abrupt("return",n());case 11:this.skusRemainQty={},r=this.hasEvent?this.selectedEvent:"fullday",a.a.forEach(this.checkoutData.skus,(function(e){var t=a.a.min(a.a.map(c.selectedDates,(function(t){return a.a.get(i,[e.skuOid,t,"remain_qty",r],0)})));c.skusRemainQty[e.skuOid]=t})),t();case 15:case"end":return e.stop()}}),e,this)})))}))},getEventDisabledHint:function(e){switch(this.getEventStatusCode(e)){case 0:return this.lang("product_index_option_not_available");case 2:return this.lang("common_sold_out");case 3:return this.lang("product_index_insufficient");case 4:return this.lang("product_index_hint_over_sale_time");default:return null}},getEventStatusCode:function(e){return a.a.get(this.timeStatus,[N,e,"selectable"])&&this.checkIsSpecValid(N,e)?this.selectedDate&&this.checkIsEventBeforeSaleTime(this.selectedDate,e)?4:a.a.get(this.timeStatus,[N,e,"insufficient"])?3:1:0},getRulesetData:function(e){var t=this,n={};return n.ruleNames=a.a.map(e.spec_items,(function(e){return a.a.get(a.a.find(t.multiChoiceSpec.spec_items,["spec_item_oid",e]),"name")})),n.currentSubTotal=a.a.sumBy(e.spec_items,(function(e){return t.amount[e]})),n},getSpecDisabledHint:function(e,t){switch(this.getSpecStatusCode(e,t)){case 0:return this.lang("product_index_option_not_available");case 2:return this.lang("common_sold_out");case 3:return this.lang("product_index_insufficient");default:return null}},getSpecStatusCode:function(e,t){return a.a.get(this.specStatus,[e,t,"selectable"])?a.a.get(this.specStatus,[e,t,"insufficient"])?3:1:0},goToBook:function(){return A(this,null,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isGoToBookLoading){t.next=2;break}return t.abrupt("return");case 2:return this.isGoToBookLoading=!0,t.prev=3,t.next=6,this.checkout().catch((function(){throw"data validation error"}));case 6:if(this.recordUserGotoBookAction(this.checkoutData.prodMid),Object(y.a)("new_product_item_direct_booked",{prodID:this.productSetting.prod_mid,goDate:this.checkoutData.goDate,endDate:this.checkoutData.backDate||this.checkoutData.goDate,prodPrice:this.checkoutData.priceTotal,currency:kkday.constants.getValue("CURRENCY"),amountTotal:this.checkoutData.amountTotal}),this.member.isLogin){t.next=13;break}return this.isGoToBookLoading=!1,window.directPurchaseLogin=this.afterLogin,e(j.a).modal("show"),t.abrupt("return");case 13:return t.next=15,this.afterLogin({isDirect:!0});case 15:t.next=22;break;case 17:if(t.prev=17,t.t0=t.catch(3),"data validation error"!==t.t0){t.next=21;break}return t.abrupt("return");case 21:console.error(t.t0);case 22:return t.prev=22,this.isGoToBookLoading=!1,t.finish(22);case 25:case"end":return t.stop()}}),t,this,[[3,17,22,25]])})))},afterLogin:function(){return A(this,arguments,regeneratorRuntime.mark((function e(){var t,n,s,o,i,r,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.isDirect,s=void 0!==n&&n,this.isGoToBookLoading=!0,e.prev=2,e.next=5,this.ajaxDirectPurchase();case 5:if(r=e.sent,a.a.get(r,"data.redirect")){e.next=8;break}throw new Error((null==(i=null==(o=null==r?void 0:r.data)?void 0:o.data)?void 0:i.msg)||"redirection failed");case 8:if(!s){e.next=13;break}return window.location=r.data.redirect,e.abrupt("return",!0);case 13:return e.abrupt("return",r.data.redirect);case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(2),this.isGoToBookLoading=!1,alert(e.t0,"kkday-warning"),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,this,[[2,16]])})))},ajaxDirectPurchase:function(){return A(this,null,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.send({url:kkday.url.kkSiteUrl("booking/ajax_direct_purchase"),method:"POST",data:{isCartBooking:!1,items:this.checkoutItems}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})))},goToRedeem:function(){return A(this,null,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isGoToRedeemLoading){e.next=2;break}return e.abrupt("return");case 2:return this.isGoToRedeemLoading=!0,e.prev=3,e.next=6,this.checkout();case 6:return e.next=8,this.afterLoginRedeem({isDirect:!0});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:return e.prev=13,this.isGoToRedeemLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[3,10,13,16]])})))},afterLoginRedeem:function(){return A(this,arguments,regeneratorRuntime.mark((function e(){var t,n,s,o,i,r,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=t.isDirect,s=void 0!==n&&n,this.isGoToRedeemLoading=!0,e.prev=2,e.next=5,this.ajaxRedeem();case 5:if(r=e.sent,a.a.get(r,"data.redirect")){e.next=8;break}throw new Error((null==(i=null==(o=null==r?void 0:r.data)?void 0:o.data)?void 0:i.msg)||"redirection failed");case 8:if(!s){e.next=13;break}return window.location=r.data.redirect,e.abrupt("return",!0);case 13:return e.abrupt("return",r.data.redirect);case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(2),this.isGoToRedeemLoading=!1,alert(e.t0,"kkday-warning"),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,this,[[2,16]])})))},ajaxRedeem:function(){return A(this,null,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.send({url:kkday.url.kkSiteUrl("booking/ajax_redeem"),method:"POST",data:{items:this.checkoutItems,redeemToken:kkday.url.parseUrlParameters().rtk}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})))},initCalculators:function(){this.initSkuCalculator(),(this.hasEvent||3===this.inventoryType)&&this.initTimeCalculator()},initSkuCalculator:function(){var e=this,t=!1,n={},s=[];s=a.a.map(this.skus,(function(n){var s={skuOid:n.sku_oid,amount:null,price:null,spec:n.spec};return 0!==e.priceType||e.hasEvent||(s.price=a.a.get(n,"single_price.fullday",null)),2===e.inventoryType&&(s.amount=a.a.get(n,"remain_qty",null),t=!0),s})),this.isPriceByDate&&(n[R]=a.a.clone(this.saleableDates),s=a.a.flatMap(this.saleableDates,(function(t){return a.a.map(s,(function(n){var s=a.a.cloneDeep(n);return s.spec[R]=t,0===e.priceType||e.hasEvent||(s.price=a.a.get(e.itemSkusPriceCalendar,[n.skuOid,t,"price","fullday"])),s}))}))),this.hasEvent&&(n[N]=a.a.clone(this.events),s=a.a.filter(a.a.flatMap(this.events,(function(t){return a.a.map(s,(function(n){var s=a.a.cloneDeep(n);if(s.spec[N]=t,0===e.priceType)s.price=a.a.get(e.skus[n.skuOid],["single_price",t]);else{var o=e.itemCalendar[n.spec[R]];if(!o||!a.a.includes(o.events,t))return null;s.price=a.a.get(e.itemSkusPriceCalendar,[n.skuOid,o.date,"price",t])}return s}))})))),s=s.filter((function(t){var n=a.a.get(e.itemCloseList,[t.skuOid,t.spec[R]],null);return!!a.a.isEmpty(n)||!(!e.hasEvent||n.includes(t.spec[N]))})),a.a.forEach(this.item.specs,(function(e){n[e.spec_oid]=a.a.map(e.spec_items,(function(e){return e.spec_item_oid}))})),this.formattedSpecs=Object.freeze(n),this.formattedSkus=Object.freeze(s);var o=null;this.isMultiSku&&a.a.last(this.item.specs).spec_oid===kkday.constants.getValue("PRODUCT_SPEC_TICKET")&&(o=S({},kkday.constants.getValue("PRODUCT_SPEC_TICKET"),"adult"));var i=[];this.isMultiSku&&i.push(this.multiChoiceSpec.spec_oid),this.isProdMultiDate&&i.push(R),this.skuCalculator=new h.a({specs:this.formattedSpecs,skus:this.formattedSkus,primarySpecs:o,hasAmount:t,multiSpecs:i}),this.specStatus=this.skuCalculator.getSpecStatus(),this.statistics=this.skuCalculator.getStatistics(),this.selectionSpecStatus=this.skuCalculator.getSelectionSpecStatus()},initTimeCalculator:function(){var e=this,t={},n=[],s=3===this.inventoryType;t[R]=a.a.clone(this.saleableDates),this.hasEvent&&(t[N]=a.a.clone(this.events)),a.a.forEach(this.itemCalendar,(function(t){if(t.is_saleable&&!t.is_sold_out)if(e.hasEvent)a.a.forEach(t.events,(function(e){var o,i={price:0,spec:(o={},S(o,R,t.date),S(o,N,e),o)};s&&(i.amount=a.a.get(t,["remain_qty",e],0)),n.push(i)}));else if(s){var o={amount:a.a.get(t,["remain_qty","fullday"],0),price:0,spec:S({},R,t.date)};n.push(o)}})),this.timeCalculator=new h.a({specs:t,skus:n,hasAmount:s}),this.timeStatus=this.timeCalculator.getSpecStatus(),this.timeStatistics=this.timeCalculator.getStatistics()},onClickEvent:function(e){1===this.events.length&&this.selectedEvent===e||this.setSelectedEvent(this.selectedEvent===e?null:e)},getEventRemainQty:function(e){return a.a.get(this.timeStatus,[N,e,"maxAmount"])},onClickSpec:function(e,t){1===this.formattedSpecs[e].length&&this.selectedFormattedSpec[e]===t||this.setSelectedSpec(e,this.selectedFormattedSpec[e]===t?null:t)},resetCalculators:function(){this.initCalculators(),this.skuCalculator.setSelectionArray(this.selectionArray),this.timeCalculator&&this.timeCalculator.setSelectionArray(this.selectedTimeArray)},resetSelection:function(){var e=this;this.selectedFormattedSpec={},a.a.forEach(this.singleChoiceSpecs,(function(t){s.set(e.selectedFormattedSpec,t.spec_oid,null)})),this.hasEvent&&s.set(this.selectedFormattedSpec,[N],null),this.isSpecSingle&&(this.selectedFormattedSpec[kkday.constants.getValue("PRODUCT_SPEC_SINGLE")]=a.a.get(this.item.specs,[0,"spec_items",0,"spec_item_oid"])),a.a.forEach(this.amountOptions,(function(t,n){s.set(e.amount,n,t.minAmount<=t.maxAmount?t.minAmount:0)})),this.setDefaultSelection(),this.isShowError=!1},setDefaultSelection:function(){var e=this;this.hasEvent&&1===this.events.length&&this.setSelectedEvent(a.a.head(this.events)),a.a.forEach(this.singleChoiceDisplaySpecs,(function(t){1===t.spec_items.length&&e.setSelectedSpec(t.spec_oid,a.a.get(a.a.head(t.spec_items),"spec_item_oid"))}))},setSelectedEvent:function(e){a.a.isNil(e)?this.selectedFormattedSpec[N]=null:this.checkIsEventValid(e)&&this.checkIsSpecValid(N,e)&&(this.selectedFormattedSpec[N]=e)},setSelectedSpec:function(e,t){a.a.isNil(t)?this.selectedFormattedSpec[e]=null:this.checkIsSpecValid(e,t)&&(this.selectedFormattedSpec[e]=t)},setUrlParamsDate:function(){var e=a.a.get(this.urlParams,"go_date"),t=a.a.get(this.urlParams,"back_date");this.isProdMultiDate&&e&&t&&this.setProductSelectedDate({startDate:e,endDate:t}),!this.isProdMultiDate&&e&&this.setProductSelectedDate({startDate:e,endDate:e})},setUrlParamsEvent:function(){var e=a.a.get(this.urlParams,"event");this.hasEvent&&e&&this.setSelectedEvent(e)},setUrlParamsSkus:function(){var e=this,t=a.a.reduce(this.skus,(function(t,n){var s=a.a.toNumber(a.a.get(e.urlParams,n.sku_oid));return s>0&&(t[n.sku_oid]=s),t}),{});if(!a.a.isEmpty(t)){var n=a.a.keys(t),s=a.a.head(n),o=this.skus[s];a.a.every(n,(function(t){var n=e.skus[t];return a.a.every(e.singleChoiceSpecs,(function(e){return o.spec[e.spec_oid]===n.spec[e.spec_oid]}))}))&&(a.a.forEach(this.singleChoiceDisplaySpecs,(function(t){e.setSelectedSpec(t.spec_oid,o.spec[t.spec_oid])})),a.a.forEach(t,(function(t,n){var s=e.isMultiSku?e.skus[n].spec[e.multiChoiceSpec.spec_oid]:"sku-single";t%e.amountOptions[s].increment==0&&(e.amount[s]=t)})))}},setUrlParamsQty:function(){var e=this;if(this.isMultiSku)a.a.forEach(this.amountOptions,(function(t,n){var s=a.a.toNumber(a.a.get(e.urlParams,n));s>0&&s%t.increment==0&&(e.amount[n]=s)}));else{var t=a.a.toNumber(a.a.get(this.urlParams,"qty"));t>0&&t%this.amountOptions["sku-single"].increment==0&&(this.amount["sku-single"]=t)}},setRedeemParamsSkus:function(){var e=this,t=a.a.find(this.redeemInfo.group.condition.packages,(function(t){return t.packageOid===e.currentPkgOid}));a.a.forEach(this.amountOptions,(function(n,s){a.a.last(e.item.specs).spec_oid===kkday.constants.getValue("PRODUCT_SPEC_TICKET")?a.a.some(e.item.skus,(function(e){return e.spec["spec-ticket"]===s}))&&(e.amount[s]=t.ticketQtys[s]):e.amount["sku-single"]=t.singleSpecQty}))},setUrlParamsSelection:function(){this.urlPkgOid&&this.pkgOid===this.urlPkgOid&&(this.setUrlParamsDate(),this.setUrlParamsEvent(),this.setUrlParamsSkus(),this.setUrlParamsQty())},setRedeemParamsSelection:function(){this.redeemInfo.oid&&"ON"===this.redeemInfo.status&&this.setRedeemParamsSkus()},shakeErrorGroups:function(){var t=this;if(!this.shakeTimeout){var n=a.a.filter(a.a.keys(this.validation.checkList),(function(e){return!t.validation.checkList[e].isValid}));if(!a.a.isEmpty(n)){var s=a.a.map(n,(function(e){var n=t.$refs["form-group-".concat(e)];return a.a.isArray(n)?a.a.head(n):n}));e(s).addClass("error-shake"),this.shakeTimeout=setTimeout((function(){e(s).removeClass("error-shake"),t.shakeTimeout=null}),1200);var o=a.a.head(s),i=e("header.fix").outerHeight()+20;o.getBoundingClientRect().top<i&&Object(c.w)(o,{scrollOffset:i,duration:200})}}},checkIsInventoryWarningShow:function(e){return this.pkg.event_customize_setting&&!a.a.isEmpty(this.timeStatus)&&1===this.getEventStatusCode(e)&&a.a.get(this.timeStatus,[N,e,"maxAmount"])<this.pkg.event_customize_setting.inventory_warning_limit},getElementRenderState:function(e){var t,n,s;switch(e){case"resetBtn":case"price":case"bookNowBtn":case"calendarPriceHint":return!this.isRedeemProduct;case"kkPoint":return!this.isRedeemProduct&&!(null==(t=this.item)?void 0:t.is_zero_price);case"addToCartBtn":return!(("zh-tw"===kkday.constants.getValue("LANG_UI")||"TWD"===kkday.constants.getValue("CURRENCY"))&&!this.prodSetting.is_tourism_product||this.isRedeemProduct||this.isWhlbProd||(null==(n=this.item)?void 0:n.is_zero_price));case"redeemNowBtn":return this.isRedeemProduct;case"pointBonusCheckoutBanner":return this.pointBonusData&&!(null==(s=this.item)?void 0:s.is_zero_price);default:return!0}},recordUserSelectDateAction:function(e,t){a.a.get(this.prodSetting,"preview_token")||new b.a({url:this.userActionUrl,name:"check_date",request:{product_oid:e,check_date:t}}).record()},recordUserAddCartAction:function(e){a.a.get(this.prodSetting,"preview_token")||new b.a({url:this.userActionUrl,name:"add_cart",request:{product_oid:e}}).record()},recordUserGotoBookAction:function(e){a.a.get(this.prodSetting,"preview_token")||new b.a({url:this.userActionUrl,name:"goto_book",request:{product_oid:e}}).record()}},Object(u.b)("newProduct/optionSection",["getSkusCalendar","setCheckoutData"])),Object(u.b)({onAddCartItem:"cart/onAddCartItem",setProductSelectedDate:"newProduct/optionSection/setProductSelectedDate"}))}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"),n("./node_modules/vue/dist/vue.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/OptionSection.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.set.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./node_modules/lodash/lodash.js-exposed"),i=n.n(o),r=n("./resources/pc/js/helpers/common.js"),a=n("./resources/pc/js/libs/transportation/AddOnProduct.js"),c=n("./resources/pc/js/components/product/newProductDetail/OptionItem.vue"),u=n("./resources/pc/js/components/product/newProductDetail/SelectDate.vue");function l(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var p,f,h=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,j=function(e,t,n){return t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},k=function(e,t){for(var n in t||(t={}))y.call(t,n)&&j(e,n,t[n]);if(v){var s,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}(v(t));try{for(o.s();!(s=o.n()).done;){n=s.value;b.call(t,n)&&j(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e};t.a={inject:["resetDescModulePosition","checkIsWhlbItemShow"],components:{OptionItem:c.a,SelectDate:u.a},data:function(){return{WHLB_PRODUCT_BLOCK:"packageInfo",isShownMore:!1,defaultVisibleNum:5,maxFakeItemNum:3,selectedDate:{availstartdate:"",availenddate:""},selectDateErrorMsg:""}},computed:k(k(k({isShow:function(){return!this.prodInfo.is_all_sold_out},packagesOid:function(){var e=this;return l(new Set([].concat(l(this.product.packages.filter((function(t){return e.saleablePkgOidList.includes(t)}))),l(this.product.packages))))},visiblePkgsOid:function(){if(!this.packages)return[];var e=Object(a.a)("enabled_package");if(e){var t=i.a.map(e,(function(e){return i.a.toNumber(e)}));return this.isShownMore?t:i.a.take(t,this.defaultVisibleNum)}return this.isShownMore?this.packagesOid:i.a.take(this.packagesOid,this.defaultVisibleNum)}},Object(s.e)("newProduct/optionSection",["currentPkgOid","isInitialized","packages","product","urlParams","productSelectedDate"])),Object(s.c)("newProduct/optionSection",["isSingleCalendarFlow","isOpenDateProduct","isProdMultiDate","saleablePkgOidList","latestSaleDate","earliestSaleDate","saleableDateList"])),Object(s.c)({prodSetting:"newProduct/prodSetting",prodInfo:"newProduct/prodInfo"})),watch:{currentPkgOid:function(t,n){var s=this;if(this.$nextTick((function(){s.resetDescModulePosition()})),this.isInitialized&&t){var o=i.a.indexOf(this.packagesOid,t),a=e("header").outerHeight();if(n)i.a.indexOf(this.packagesOid,n)<o&&Object(r.w)(this.$refs["option-item-".concat(n)][0].$el,{scrollOffset:a,duration:0});this.$nextTick((function(){Object(r.w)(s.$refs["option-item-".concat(t)][0].$el,{scrollOffset:a,duration:300})}))}},isInitialized:function(){var t=this,n=i.a.toNumber(i.a.get(this.urlParams,"scroll_to_pkg")),s=i.a.includes(this.packagesOid,n)?n:null;(this.currentPkgOid&&!i.a.includes(this.visiblePkgsOid,this.currentPkgOid)||s&&!i.a.includes(this.visiblePkgsOid,s))&&(this.isShownMore=!0),s&&this.$nextTick((function(){var n=i.a.indexOf(t.packagesOid,s),o=e("header").outerHeight();Object(r.w)(t.$refs.optionItem[n].$el,{scrollOffset:o,duration:0})}))},isShownMore:function(){this.resetDescModulePosition()},visiblePkgsOid:function(e){this.currentPkgOid&&!i.a.includes(e,this.currentPkgOid)&&(this.isShownMore=!0)}},beforeCreate:function(){this.$store.dispatch("newProduct/optionSection/init")},methods:(p=k({openCalendar:function(){this.$refs.productSelectDate.dateRangeInput.click()}},Object(s.b)({setProductSelectedDate:"newProduct/optionSection/setProductSelectedDate"})),f={updateSelectDateErrorMsg:function(e){this.selectDateErrorMsg=e}},_(p,g(f)))}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/OptionStickyBar.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.array.find.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./resources/pc/js/helpers/common.js"),i=n("./resources/share/js/helpers/punctuationMark.js"),r=n("./resources/pc/js/components/whlbSetting/WhlbSettingButton.vue");function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var u=Object.defineProperty,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=function(e,t,n){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},f=function(e,t){for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(l){var s,o=a(l(t));try{for(o.s();!(s=o.n()).done;){n=s.value;m.call(t,n)&&p(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e};t.a={name:"OptionStickyBar",components:{WhlbSettingButton:r.a},data:function(){return{isScrollToDescModuleArea:!1}},computed:f(f(f(f(f({pkg:function(){return _.get(this.packages,this.currentPkgOid,null)},isShow:function(){return this.currentPkgOid&&this.isScrollToDescModuleArea&&!this.footerIntersection},item:function(){if(!this.pkg)return null;var e=_.head(this.pkg.items);return this.itemsData[e].item},specsArray:function(){var e=this;return this.item?_.reduce(this.item.specs,(function(t,n,s){if(n.spec_oid===kkday.constants.getValue("PRODUCT_SPEC_SINGLE"))return t;if(e.item.last_spec_multi&&s+1===e.item.specs.length)return t;var o=_.get(e.checkoutData,["singleChoiceSpecs",n.spec_oid],null),i=o?_.find(n.spec_items,["spec_item_oid",o]):null;return t.push({specOid:n.spec_oid,specTitle:n.spec_title,specItemOid:o,specItemName:i?i.name:e.lang("common_unselected")}),t}),[]):[]},amountText:function(){var e=this;if(!this.item)return null;if(!this.item.last_spec_multi)return"".concat(this.checkoutData.amountTotal," ").concat(this.lang("common_unit_trailing_"+this.item.unit));if(!this.checkoutData.amountTotal)return this.lang("common_unselected");var t=_.last(this.item.specs);return _.reduce(t.spec_items,(function(t,n){var s=_.get(e.checkoutData,["multiChoiceSpecAmount",n.spec_item_oid],0);return s?(t.push("".concat(s," ").concat(n.name)),t):t}),[]).join(", ")},dateText:function(){return this.checkoutData.goDate?this.isProdMultiDate?"".concat(this.checkoutData.goDate," - ").concat(this.checkoutData.backDate):this.checkoutData.goDate:this.lang("common_unselected")},isRedeemProduct:function(){return!_.isEmpty(this.redeemInfo)}},Object(s.e)("common",["footerIntersection"])),Object(s.e)("newProduct/optionSection",["checkoutData","currentPkgOid","itemsData","packages"])),Object(s.c)("newProduct/optionSection",["isProdMultiDate"])),Object(s.c)("newProduct/optionSection/kkpointBonusStore",["isLoadingPointBonus","extraOrderPoints"])),Object(s.c)({member:"common/member",redeemInfo:"newProduct/redeemInfo",isRedeemKkgift:"common/isRedeemKkgift"})),mounted:function(){window.addEventListener("scroll",this.checkIsStickyBarShow,!1)},methods:{colon:i.a,checkIsStickyBarShow:_.throttle((function(){this.scrollTop=e(window).scrollTop();var t=e(".product-info-wrap").offset().top-2*e("#headerApp").outerHeight();this.isScrollToDescModuleArea=t-this.scrollTop<=0})),scrollToInfoSection:function(){var t=e("header").outerHeight();Object(o.w)("#optionItem".concat(this.currentPkgOid),{scrollOffset:t,duration:300})},getElementRenderState:function(e){switch(e){case"dropdownPrice":case"price":return!this.isRedeemProduct&&!this.isRedeemKkgift;default:return!0}}}}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ProductDescModuleNav.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js");var s=n("./node_modules/vue-affix/dist/vue-affix.min.js"),o=n("./resources/pc/js/mixins/newProduct/descriptionModuleMap.js"),i=n("./resources/pc/js/helpers/common.js");t.a={name:"ProductDescModuleNav",components:{Affix:s.Affix},mixins:[o.a],data:function(){return{scrollTop:0,currentSpyIndex:-1,startPoint:0,anchorOffset:0,spyTargets:[]}},computed:{navComponents:function(){return _.filter(this.componentDataArray,(function(e){return e.isRequire&&e.idName}))}},created:function(){window.addEventListener("scroll",this.handleScroll)},mounted:function(){var e=this;setTimeout((function(){e.initSpyState()}),1500),this.getAnchorOffset()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{initSpyState:function(){this.getSpyTargets(),this.handleScroll()},scrollToSection:function(e){Object(i.w)("#".concat(e),{offset:-1*this.anchorOffset})},getAnchorOffset:function(){e(".price-bar").hasClass("fixed-bar")?this.anchorOffset=e("#headerApp").outerHeight()+e(".price-bar").outerHeight():(e(".price-bar").addClass("fixed-bar"),this.anchorOffset=e("#headerApp").outerHeight()+e(".price-bar").outerHeight(),e(".price-bar").removeClass("fixed-bar"))},getSpyTargets:function(){var t=this,n=[];_.forEach(this.navComponents,(function(s){var o=e("#".concat(s.idName)).offset();o&&n.push(Math.floor(o.top)-t.anchorOffset)})),this.spyTargets=n},getCurrentSpyIndex:function(e){for(var t=0,n=0;n<this.spyTargets.length;n++){if(e<this.spyTargets[n])return t;t=n}return t},handleScroll:_.throttle((function(){this.scrollTop=e(window).scrollTop();var t=e("#".concat(this.navComponents[0].idName)).offset();this.startPoint=Math.floor(t.top)-this.anchorOffset,this.startPoint-this.scrollTop<=0&&(this.currentSpyIndex=this.getCurrentSpyIndex(this.scrollTop))}))}}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ProductInfo.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.find.js"),n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.split.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./resources/pc/js/helpers/common.js"),i=n("./resources/pc/js/components/product/newProductDetail/ProductLocation.vue"),r=n("./resources/pc/js/components/merchant/MerchantTag.vue"),a=n("./resources/pc/js/components/common/ProductStar.vue"),c=n("./resources/pc/js/helpers/product.js"),u=n("./resources/pc/js/config/product/exchangeType.js");function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var m=Object.defineProperty,p=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,g=function(e,t,n){return t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},v=function(e,t){for(var n in t||(t={}))f.call(t,n)&&g(e,n,t[n]);if(p){var s,o=l(p(t));try{for(o.s();!(s=o.n()).done;){n=s.value;h.call(t,n)&&g(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e};t.a={inject:["checkIsWhlbItemShow"],components:{ProductLocation:i.a,MerchantTag:r.a,ProductStar:a.a,ProductAnnouncement:function(){return n.e(4).then(n.bind(null,"./resources/pc/js/components/product/newProductDetail/ProductAnnouncement.vue"))}},props:{isStore:{type:Boolean,default:!1}},data:function(){return{isPlayHeartBreakAnimate:!1}},computed:v({isShowProductStar:function(){return this.prodInfo.statistics.rec_num>0&&this.checkIsWhlbItemShow({block:"productSpec",element:"rated"})},isShowProductOrderCount:function(){return""!==this.product.formattedOrderCount&&this.checkIsWhlbItemShow({block:"productSpec",element:"sold"})},isShowSecondHorizontalLine:function(){return this.isShowKktourPromoTag||this.disPlayScheduleTime||this.showGuideLang||this.isRedeemProduct||this.isRedeemKkgift||this.isShowUseValid||null!==this.prodInfo.refund_policy&&_.includes(["1","2","3"],this.prodInfo.refund_policy.policy_type)||this.isShowExchangeDesc},prodInfo:function(){return this.product.prodInfo},prodSetting:function(){return this.product.prodSetting},isInWishList:function(){return _.includes(this.member.wishProdIdList,_.parseInt(this.prodSetting.prod_mid))},isShowKktourPromoTag:function(){return"0001"===this.prodSetting.promo_tag},isFreePartialRefundExist:function(){return!_.isNil(this.prodInfo.refund_policy)&&_.some(this.prodInfo.refund_policy.partial_refund,(function(e){return 0===e.value}))},freePartialRefund:function(){return this.isFreePartialRefundExist?_.find(this.prodInfo.refund_policy.partial_refund,(function(e){return 0===e.value})):null},showGuideLang:function(){return!_.isEmpty(this.product.guideLangs)},displayGuideLangs:function(){return this.printf(this.lang("common_guide_can_speak"),[_.values(this.product.guideLangs).join("/")])},wishTrackingData:function(){return{InstantBook:this.prodInfo.immediately_deliver,ProdCityCode:_.reduce(this.prodInfo.cities,(function(e,t){return"".concat(e,",").concat(t.city_code)}),""),ProdID:this.prodSetting.prod_oid,ProdMainCate:this.prodInfo.category,ProdRatings:this.prodInfo.statistics.rec_avg_score,ProdReviews:"",ProdTagCode:_.split(this.prodInfo.tags,",")}},disPlayScheduleTime:function(){if(!_.get(this.prodInfo,"property.schedule_time.enable",!1))return"";var e=[{lang:this.lang("common_days"),unit:this.prodInfo.property.schedule_time.day},{lang:this.lang("common_hours"),unit:this.prodInfo.property.schedule_time.hour},{lang:this.lang("common_minute"),unit:this.prodInfo.property.schedule_time.minute}].filter((function(e){return!!e.unit})).map((function(e){return"".concat(e.unit," ").concat(e.lang," ")})).join(" ");return e?this.printf(this.lang("common_day"),[e]):""},isRedeemProduct:function(){return _.get(this.specialRule,"is_redeem_product",!1)},isOpenDateProduct:function(){var e,t,n;return Object(c.a)(null==(t=null==(e=this.prodInfo)?void 0:e.go_date_setting)?void 0:t.type,null==(n=this.prodSetting)?void 0:n.prod_mid)},displayUseValid:function(){var e,t,n,s,o=(null==(t=null==(e=this.prodInfo)?void 0:e.description_module)?void 0:t.PMDL_USE_VALID)||{};return _.includes(null==(n=null==o?void 0:o.content)?void 0:n.property_keys,"exchange")?((null==o?void 0:o.module_title)?o.module_title+"：":"")+(null==(s=null==o?void 0:o.content.properties.exchange)?void 0:s.desc):this.lang("product_index_use_valid_up_to_organizer")},isShowUseValid:function(){return this.isOpenDateProduct&&this.displayUseValid&&this.checkIsWhlbItemShow({block:"productSpec",element:"pmdlUseValid"})},isShowRefundPolicy:function(){return null!==this.prodInfo.refund_policy&&this.checkIsWhlbItemShow({block:"productSpec",element:"cancellationPolicy"})},isSwipeToRedeem:function(){return+this.prodInfo.exchange_type===u.a.SWIPE_TO_REDEEM},isShowExchangeDesc:function(){return!_.isEmpty(this.prodDescModules.PMDL_EXCHANGE)&&this.checkIsWhlbItemShow({block:"productSpec",element:"pmdlExchange"})}},Object(s.c)({product:"newProduct/product",prodLocation:"newProduct/prodLocation",prodDescModules:"newProduct/prodDescModules",productRelatedData:"newProduct/productRelatedData",productAnnouncement:"newProduct/productAnnouncement",member:"common/member",specialRule:"common/specialRule",isRedeemKkgift:"common/isRedeemKkgift",isWhlbProd:"whlbProduct/isWhlbProd"})),mounted:function(){window.dataLayer.push({is_wish_prod:this.isInWishList})},methods:v({addToWishList:function(){this.setWishProd({prodUrlOid:this.prodSetting.prod_mid,isWish:!0,wishTrackingData:this.wishTrackingData})},removeFromWishList:function(){var e=this,t=setTimeout((function(){e.isPlayHeartBreakAnimate=!1}),900);this.isPlayHeartBreakAnimate=!0,this.setWishProd({prodUrlOid:this.prodSetting.prod_mid,isWish:!1,wishTrackingData:this.wishTrackingData}).catch((function(){e.isPlayHeartBreakAnimate&&(clearTimeout(t),e.isPlayHeartBreakAnimate=!1)}))},scrollToComments:function(){e("#review-sec").length>0&&Object(o.w)("#review-sec",{scrollOffset:e(".price-bar").outerHeight()})}},Object(s.b)({setWishProd:"common/setWishProd"}))}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ProductInfoBoard.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./node_modules/moment/moment.js-exposed"),i=n.n(o),r=n("./resources/pc/js/helpers/common.js"),a=n("./resources/share/js/libs/mixpanel.js"),c=n("./resources/pc/js/components/common/OriginPrice.vue"),u=n("./resources/pc/js/components/product/newProductDetail/CouponSection.vue"),l=n("./resources/pc/js/components/product/newProductDetail/CouponList.vue"),d=n("./resources/pc/js/components/product/newProductDetail/FakeCouponElement.vue"),m=n("./resources/pc/js/components/whlbSetting/WhlbSettingButton.vue");function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var h=Object.defineProperty,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,b=function(e,t,n){return t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},j=function(e,t){for(var n in t||(t={}))v.call(t,n)&&b(e,n,t[n]);if(g){var s,o=p(g(t));try{for(o.s();!(s=o.n()).done;){n=s.value;y.call(t,n)&&b(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e};t.a={name:"ProductInfoBoard",inject:["checkIsWhlbItemShow"],components:{WhlbSettingButton:m.a,CouponSection:u.a,CouponList:l.a,OriginPrice:c.a,FakeCouponElement:d.a},props:{currency:{type:String,default:""},isDisplaySoldOut:{type:Boolean,default:!1}},data:function(){return{isScrollToDesModuleArea:!1,scrollTop:0}},computed:j(j(j(j({prodInfo:function(){return this.product.prodInfo},prodSetting:function(){return this.product.prodSetting},tempPriceBarStyleObj:function(){return{height:"".concat(this.$refs.priceBar.clientHeight,"px"),width:"".concat(this.$refs.priceBar.clientWidth,"px")}},isProdAllowDiscount:function(){return this.product.isAllowDiscount},isZeroPrice:function(){return this.prodInfo.sale_price.min_price<=0},isShowCouponList:function(){return!this.isZeroPrice&&(this.isCouponListLoading||!_.isEmpty(this.couponList))},isShowPriceInfo:function(){return this.getElementRenderState("price")&&this.checkIsWhlbItemShow({block:"productSpec",element:"minPriceInfo"})},isPriceBarFixed:function(){return this.isScrollToDesModuleArea&&!this.currentPkgOid},isShowPriceFromTxt:function(){return this.prodInfo.sale_price.min_price!==this.prodInfo.sale_price.max_price},isLimitedPeriodProduct:function(){return"PT03"===this.prodSetting.purchase_type},isRedeemProduct:function(){return!_.isEmpty(this.redeemInfo)},beginSaleDate:function(){var e=i()(this.prodSetting.purchase_date,"YYYYMMDD");return{year:e.format("YYYY"),month:e.format("MM"),date:e.format("DD"),isFuture:i.a.utc(this.prodSetting.purchase_date,"YYYYMMDD").isAfter(i.a.utc(),"day")}},limitedPeriodInfoText:function(){return this.beginSaleDate.year&&this.beginSaleDate.month?Object(r.u)(this.lang("product_index_expected_to_sale_date"),[this.beginSaleDate.year,this.beginSaleDate.month]):""},isButtonNotAlone:function(){return this.isLimitedPeriodProduct||this.isShowCouponList||this.checkIsWhlbItemShow({block:"productSpec",element:"minPriceInfo"})},itemSelectButtonText:function(){return this.isRedeemProduct||this.isRedeemKkgift?"".concat(this.lang("common_redeem")).concat(this.lang("product_index_package_new_product")):this.productStatusMessage||this.lang("product_index_continue_buying_or_booking")},isShowImmediatelyConfirm:function(){return this.prodInfo.immediately_confirm&&this.checkIsWhlbItemShow({block:"productSpec",element:"immediatelyConfirm"})},hintItems:function(){if(!this.getElementRenderState("kkPointAndMile"))return null;var e=[];return this.milesPartnerInfo.isActive&&e.push({iconUrl:this.milesPartnerInfo.milesPartnerIconUrl,linkUrl:this.milesPartnerInfo.milesPartnerUrl,linkText:this.milesPartnerInfo.milesPartnerName}),e.length?e:null}},Object(s.e)("common",["footerIntersection"])),Object(s.e)("newProduct/optionSection",["currentPkgOid"])),Object(s.e)("newProduct/coupon",["isCouponListLoading","couponList"])),Object(s.c)({product:"newProduct/product",productStatusMessage:"newProduct/productStatusMessage",productRelatedData:"newProduct/productRelatedData",redeemInfo:"newProduct/redeemInfo",milesPartnerInfo:"newProduct/milesPartnerInfo",isRedeemKkgift:"common/isRedeemKkgift"})),watch:{currentPkgOid:{handler:function(e){e?window.removeEventListener("scroll",this.checkIsPriceBarFixed,!1):window.addEventListener("scroll",this.checkIsPriceBarFixed,!1)},immediate:!0}},methods:j({checkIsPriceBarFixed:_.throttle((function(){this.scrollTop=e(window).scrollTop();var t=e(".product-info-wrap").offset().top-2*e("#headerApp").outerHeight();this.isScrollToDesModuleArea=t-this.scrollTop<=0})),scrollToComments:function(){e("#review-sec").length>0&&Object(r.w)("#review-sec",{scrollOffset:e("header").outerHeight()+e(".price-bar").outerHeight()})},scrollToOptionSection:function(){e("#option-sec").length>0&&Object(r.w)("#option-sec",{scrollOffset:e("header").outerHeight()})},getElementRenderState:function(e){switch(e){case"price":return!this.isRedeemProduct&&!this.isRedeemKkgift;case"kkPointAndMile":return!this.isRedeemProduct&&!this.isRedeemKkgift&&!this.isZeroPrice;case"discountTag":return!this.isRedeemProduct&&!this.isRedeemKkgift&&!this.isZeroPrice&&this.lang("common_www_event_discount_text",!1)&&this.isProdAllowDiscount;default:return!0}},handleCouponSectionMouseOver:function(){this.updateIsShowCouponList(!0),Object(a.c)("ProdPage_Coupon_Opened",{Trigger:"Hover",ProdID:this.prodInfo.prod_oid})}},Object(s.d)("newProduct/coupon",["updateIsShowCouponList"]))}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/SelectDate.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js");var s=n("./node_modules/moment/moment.js-exposed"),o=n.n(s);t.a={name:"SelectDate",props:{defaultDisplayName:{type:String,default:""},onDate:{type:[Date,Array],default:null},dataFormat:{type:String,default:"YYYY-MM-DD"},maxDate:{type:[Date,String],default:null},minDate:{type:[Date,String],default:null},selectedStartDate:{type:String,default:null},selectedEndDate:{type:String,default:null},isSingle:{type:Boolean,default:!1},minSpanDay:{type:Number,default:0},maxSpanDay:{type:Number,default:0}},data:function(){return{dateRangeInput:null}},computed:{calenderSetting:function(){var e={autoUpdateInput:!1,autoApply:!0,singleDatePicker:this.isSingle,showDropdowns:!0,locale:{format:this.showFormat}};return this.onDate&&(e.isInvalidDate=this.isInvalidDate),this.maxDate&&(e.maxDate=this.maxDate),this.minDate&&(e.minDate=this.minDate),this.selectedStartDate&&(e.startDate=this.selectedStartDate),!this.isSingle&&this.selectedEndDate&&(e.endDate=this.selectedEndDate),this.maxSpan&&(e.maxSpan=this.maxSpan),e},displayName:function(){return _.isEmpty(this.selectedStartDate)||_.isEmpty(this.selectedEndDate)?this.defaultDisplayName:this.isSingle?this.selectedStartDate:this.selectedStartDate+" - "+this.selectedEndDate},maxSpan:function(){return this.isSingle||this.maxSpanDay<=0?null:{days:this.maxSpanDay-1}}},watch:{onDate:function(){this.initialCalender()}},mounted:function(){this.initialCalender()},methods:{initialCalender:function(){this.dateRangeInput=this.$refs.datepickerInput,e(this.dateRangeInput).daterangepicker(this.calenderSetting),e(this.dateRangeInput).on("apply.daterangepicker",this.calenderCallBack)},isInvalidDate:function(e){return!_.includes(this.onDate,e.format(this.dataFormat))},calenderCallBack:function(e,t){var n=t.startDate.format(this.dataFormat),s=t.endDate.format(this.dataFormat),i=o()(s).diff(o()(n),"days")+1;!this.isSingle&&this.minSpanDay>0&&this.minSpanDay>i?this.$emit("update-message",this.printf(this.lang("common_calendar_error_below_min"),[this.minSpanDay])):(this.$emit("update-message",""),this.$emit("update-value",{startDate:n,endDate:s}))}}}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/views/NewProduct.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.replace.js"),n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.array.flat.js"),n("./node_modules/core-js/modules/es.array.unscopables.flat.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./public/assets/css/owl.theme.default.min.css"),n("./resources/pc/sass/product/custom.scss"),n("./resources/pc/sass/product/product_detail.scss"),n("./resources/pc/sass/product/amount_tool.scss"),n("./resources/pc/sass/product/date_range_picker.scss"),n("./resources/pc/sass/product/product_option.scss"),n("./node_modules/@splidejs/splide-extension-video/dist/css/splide-extension-video.min.css");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./resources/pc/js/libs/GoogleTagManager/GtmEventUtils.js"),i=n("./resources/pc/js/store/modules/newProduct.js"),r=n("./resources/pc/js/store/modules/newCart.js"),a=n("./resources/share/js/libs/InitStateProvider.js"),c=n("./node_modules/timeme.js/timeme.js"),u=n.n(c),l=n("./resources/pc/js/libs/UserAction.js"),d=n("./resources/pc/js/helpers/common.js"),m=n("./resources/pc/js/helpers/merchant.js"),p=n("./resources/pc/js/helpers/product.js"),f=n("./resources/pc/js/config/conversation.js"),h=n("./resources/pc/js/components/common/BreadCrumbs.vue"),g=n("./resources/pc/js/components/common/Freshchat.vue"),v=n("./resources/pc/js/components/common/ReloadModal.vue"),y=n("./resources/pc/js/components/product/newProductDetail/RecentReview.vue"),b=n("./resources/pc/js/components/product/newProductDetail/AlertInfo.vue"),j=n("./resources/pc/js/components/product/newProductDetail/ProductInfo.vue"),k=n("./resources/pc/js/components/product/newProductDetail/ProductInfoBoard.vue"),S=n("./resources/pc/js/components/product/newProductDetail/ProductDescModules.vue"),w=n("./resources/pc/js/components/product/newProductDetail/ProductDescModuleNav.vue"),P=n("./resources/pc/js/components/product/newProductDetail/ProductComment.vue"),x=n("./resources/pc/js/components/product/newProductDetail/OptionSection.vue"),C=n("./resources/pc/js/components/product/newProductDetail/OptionStickyBar.vue"),D=n("./resources/pc/js/components/point/PointBonusProductBanner.vue"),O=n("./resources/pc/js/components/store/EntryButton.vue"),E=n("./resources/pc/js/components/store/MessageWindow.vue"),I=n("./resources/pc/js/components/product/newProductDetail/StoreInfo.vue"),T=n("./resources/pc/js/components/product/newProductDetail/ProductBanner.vue"),M=n("./resources/pc/js/mixins/whlbProductMixin.vue");function L(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var N=Object.defineProperty,U=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,F=function(e,t,n){return t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},z=function(e,t){for(var n in t||(t={}))B.call(t,n)&&F(e,n,t[n]);if(U){var s,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=A(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}(U(t));try{for(o.s();!(s=o.n()).done;){n=s.value;V.call(t,n)&&F(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e};t.a={name:"Products",components:{Announcement:function(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,"./resources/pc/js/components/common/Announcement.vue"))},ConfirmModal:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"./resources/pc/js/components/common/ConfirmModal.vue"))},InfoModal:function(){return n.e(146).then(n.bind(null,"./resources/pc/js/components/common/InfoModal.vue"))},BreadCrumbs:h.a,ProductInfo:j.a,RecentReview:y.a,AlertInfo:b.a,ProductInfoBoard:k.a,ProductDescModules:S.a,ProductDescModuleNav:w.a,FreshchatButton:g.a,RecommendSection:function(){return n.e(108).then(n.bind(null,"./resources/pc/js/components/product/newProductDetail/RecommendSection.vue"))},ReloadModal:v.a,ProductComment:P.a,OptionSection:x.a,OptionStickyBar:C.a,PointBonusProductBanner:D.a,ProductInfoBanners:function(){return Promise.all([n.e(0),n.e(137)]).then(n.bind(null,"./resources/pc/js/components/product/newProductDetail/ProductInfoBanners.vue"))},EntryButton:O.a,MessageWindow:E.a,StoreInfo:I.a,ProductBanner:T.a},provide:function(){return{resetDescModulePosition:this.initDescModuleNav}},mixins:[M.a],data:function(){return{recCount:0,scollOffset:e("#headerApp").outerHeight()+e(".price-bar").outerHeight(),owlCarouselSetting:{margin:15,nav:!0,dots:!1,smartSpeed:200,slideBy:4,navText:['<i class="fa fa-angle-left fa-4x"></i>','<i class="fa fa-angle-right fa-4x"></i>'],responsive:{0:{autoWidth:!0,margin:10,nav:!1},767:{items:2},991:{items:3},1200:{items:4}}},observer:null}},jsonld:function(){var e,t,n,s,o,i,r,a,c,u=this,l=this.product,m=window.location.href,p=this.breadCrumbItems;return[(t=l,r={"@context":"http://schema.org/","@type":"Product",sku:t.prodSetting.prod_mid,name:t.prodInfo.name,url:m,image:t.banner.main,description:t.prodInfo.desc,brand:{"@type":"Thing",name:"KKday"},offers:{"@type":"Offer",priceCurrency:kkday.constants.getValue("CURRENCY"),price:t.prodInfo.sale_price.min_price,url:m,availability:l.prodInfo.is_all_sold_out?"http://schema.org/SoldOut":"http://schema.org/InStock",priceValidUntil:(s=3,o=new Date,i=new Date,i.setDate(o.getDate()+s),[i.getFullYear(),("0"+(i.getMonth()+1)).slice(-2),i.getDate()].join("-"))}},a=t.prodInfo.statistics.rec_avg_score,c=(null==(n=u.commentData)?void 0:n.comments)||[],a>=4&&(r.aggregateRating={"@type":"AggregateRating",ratingValue:a,reviewCount:t.prodInfo.statistics.rec_num,bestRating:5,worstRating:1},c.length>0&&(r.review=c.reduce((function(e,t){return e.push({"@type":"Review",reviewRating:{"@type":"Rating",ratingValue:t.recScore,bestRating:5,worstRating:1},author:{"@type":"Person",name:t.firstName},reviewBody:t.translatedRecDesc,datePublished:t.userRecDt.replace(/\//g,"-")}),e}),[]))),r)].concat(L(Object(d.p)(!_.isEmpty(p),{"@context":"http://schema.org/","@type":"BreadcrumbList",itemListElement:(e=p,_.map(e,(function(e,t){return _.isArray(null==e?void 0:e.list)&&(e=_.head(e.list)),"product"===e.type?{"@type":"ListItem",position:t+1,name:(null==e?void 0:e.name)||"",item:window.location.href}:{"@type":"ListItem",position:t+1,name:(null==e?void 0:e.name)||"",item:(null==e?void 0:e.url)||""}})))})))},computed:z(z({isAllowMarketplaceMessage:function(){return!this.isShowMemberTermsSignupModal&&this.isMarketplace},isAllowFreshchat:function(){return!this.isShowMemberTermsSignupModal&&!this.isMarketplace},commentInfo:function(){var e,t,n=this,s=(null==(t=null==(e=this.productRelatedData)?void 0:e.commentInfo)?void 0:t.comments)||[];return _.map(s,(function(e){return n.getOmittedComment(e)}))},latestComment:function(){var e,t=(null==(e=this.productRelatedData)?void 0:e.latestComment)||{};return this.getOmittedComment(t)},isMarketplace:function(){return this.product.prodInfo.is_marketplace},isOpenDateProduct:function(){var e,t,n,s,o,i=null==(n=null==(t=null==(e=this.product)?void 0:e.prodInfo)?void 0:t.go_date_setting)?void 0:n.type,r=null==(o=null==(s=this.product)?void 0:s.productSetting)?void 0:o.prod_mid;return Object(p.a)(i,r)},marketplaceTargetUsers:function(){return[{role:f.a,identity:this.product.prodInfo.marketplace_supplier_oid}]},marketplaceProductInfo:function(){var e,t=this.product,n=t.prodInfo,s=t.prodSetting,o=t.banner;return{product_name:n.name,product_mid:_.toString(s.prod_mid),product_image_url:null==(e=_.first(o.list))?void 0:e.content,product_url:kkday.url.kkSiteUrl("product/".concat(s.prod_mid))}},formattedLightboxPhotoList:function(){var e=this;return _.map(this.product.banner.list,(function(t,n){return{alt:t.alt||e.product.prodInfo.name,url:t.content,desc:t.imgDesc||"",isCcAuth:_.isEmpty(t.ccl)?"N":"Y",authName:t.ccl||"",videoUrl:e.product.videoUrl&&0===n?e.product.videoUrl:""}}))},productCountryNameEn:function(){return _.join(_.uniq(_.map(this.product.prodInfo.cities,(function(e){return e.countryNameEn}))),",")},isCrossCountryProduct:function(){return this.prodLocation.length>1},breadCrumbItems:function(){return this.isCrossCountryProduct?[{url:kkday.url.kkSiteUrl(""),name:this.lang("common_affiliate_index")},{list:this.product.breadCrumbTags.map((function(e){var t;return{name:(null==(t=e.languages[kkday.constants.getValue("LANG_UI")])?void 0:t.value)||"...",url:kkday.url.kkSiteUrl("product/productlist?page=1&cat="+e.code)}}))},{name:this.product.prodInfo.name}]:[{list:this.prodLocation.map((function(e){return{name:e.country.countryName,url:kkday.url.kkSiteUrl("product/productlist/"+e.country.countryCode)}}))},{list:this.prodLocation.map((function(e){return e.city.map((function(t){return{name:t.cityName,url:kkday.url.kkSiteUrl("product/productlist/"+e.country.countryCode+"?city="+t.cityCode)}}))})).flat(1)},{name:this.product.prodInfo.name}]},freshChatUserProperties:function(){return{ProductId:this.product.prodSetting.prod_oid,ProductMid:this.product.prodSetting.prod_mid,ProductCountry:this.productCountryNameEn,PromoTag:this.prodSetting.promo_tag===kkday.constants.getValue("SIGNATURE_GROUP_KKDAY")?kkday.constants.getValue("SIGNATURE_GROUP_KKDAY"):kkday.constants.getValue("SIGNATURE_GROUP_NON_KKDAY")}},countryWhiteList:function(){var e=_.keys(_.pickBy(this.productMarketingConfig,(function(e){return e.is_show})));return _.isEmpty(e)?["all close"]:e},isShowRecentReview:function(){return!_.isEmpty(this.productRelatedData.commentInfo.comments)&&this.checkIsWhlbItemShow({block:"productSpec",element:"review"})},isCommentShow:function(){return!_.isEmpty(this.productRelatedData.commentInfo.comments)&&this.checkIsWhlbItemShow({block:"review",element:"review"})},isProductRecommendShow:function(){return!(_.isEmpty(this.productRelatedData.recommendProducts)||this.isRedeemProduct||this.isRedeemKkgift||this.isWhlbProd)},isDisplaySoldOut:function(){return this.product.prodInfo.is_all_sold_out?this.product.prodInfo.is_all_sold_out:_.isNil(_.get(this.product.prodInfo,["sale_time","earliest_sale_time","date"]))},isRedeemProduct:function(){return!_.isEmpty(this.redeemInfo)},isShowOptionSection:function(){var e;return!this.isDisplaySoldOut&&this.prodSetting.is_sale||!!(null==(e=this.prodSetting)?void 0:e.preview_token)},isZeroPrice:function(){return this.product.prodInfo.sale_price.min_price<=0},isShowPointBonusProductBanner:function(){return this.pointBonusBannerData&&!this.isZeroPrice},isShowProductPromoBanners:function(){return!this.isWhlbProd||this.checkIsWhlbItemShow({block:"productSpec",element:"productPromoBanner"})}},Object(s.e)("newProduct",["pointBonusBannerData"])),Object(s.c)({product:"newProduct/product",prodSetting:"newProduct/prodSetting",prodDescModules:"newProduct/prodDescModules",productRelatedData:"newProduct/productRelatedData",productMarketingConfig:"newProduct/productMarketingConfig",prodLocation:"newProduct/prodLocation",reloadModalContent:"newProduct/reloadModalContent",isFetching:"newProduct/isFetching",member:"common/member",isShowMemberTermsSignupModal:"common/isShowMemberTermsSignupModal",redeemInfo:"newProduct/redeemInfo",productAnnouncement:"newProduct/productAnnouncement",specialRule:"common/specialRule",isNeedReplaceUrlUd1:"newProduct/isNeedReplaceUrlUd1",isRedeemKkgift:"common/isRedeemKkgift",isWhlbProd:"whlbProduct/isWhlbProd"})),watch:{isCommentShow:function(e){e&&this.initDescModuleNav()},isShowRecentReview:function(e){e&&this.initDescModuleNav()}},beforeCreate:function(){if(!this.$store.state.newProduct){var e=a.a.getInitState();this.$store.state.newProduct||(this.$store.registerModule("newProduct",i.a),this.$store.dispatch("newProduct/init",e.state)),this.$store.state.cart||(this.$store.registerModule("cart",r.a),this.$store.dispatch("cart/init",e.state))}},created:function(){var e;this.updateCountryWhiteList(this.countryWhiteList),!_.isEmpty(null==(e=this.$route.query)?void 0:e.trans_add_area_name)&&(this.updateCountryWhiteList([_.toUpper(kkday.constants.getValue("COUNTRY"))]),this.updateCurrencyWhiteList([kkday.constants.getValue("CURRENCY")]))},mounted:function(){this.isNeedReplaceUrlUd1&&kkday.url.removeUrlParameter("ud1"),this.recordUserActionView(),this.timeUserOnPage(),this.setLinksCustomBehavior(),this.initObserver()},beforeDestroy:function(){this.observer.disconnect()},methods:z({getMarketCtaLink:m.a,getOmittedComment:function(e){return this.isOpenDateProduct?_.omit(e,["begLstGoDt"]):e},initObserver:function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;this.observer=new t((function(t){e.initDescModuleNav()})),this.observer.observe(this.$el,{childList:!0,characterData:!0,subtree:!0})},recordUserActionView:function(){_.get(this.prodSetting,"preview_token")||new l.a({name:"view"}).record()},recordUserActionLeave:function(){_.get(this.prodSetting,"preview_token")||new l.a({name:"leave",request:{duration:u.a.getTimeOnCurrentPageInSeconds()}}).record()},timeUserOnPage:function(){var t=this;u.a.initialize({currentPageName:"product-detail",idleTimeoutInSeconds:10}),e(window).one("beforeunload",(function(){t.recordUserActionLeave()}))},initDescModuleNav:function(){var e=this;this.$nextTick((function(){e.$refs.descModuleNav.initSpyState()}))},setLinksCustomBehavior:function(){var e=document.getElementsByTagName("a"),t=this.$refs.contentWrap;_.forEach(e,(function(e){t.contains(e)&&e.addEventListener("click",(function(e){e.target.setAttribute("target","_blank"),e.target.setAttribute("rel","noopener")}))}))},showPhotoSlide:function(){e("#product-photo-modal").modal("show")},showMerchantDetail:function(){e("#merchant_detail_confirm_modal").modal("show")},onClickContent:function(e){Object(o.a)("ProdPage_Article_Clicked",{ArticleType:e})}},Object(s.d)({updateCountryWhiteList:"common/updateCountryWhiteList",updateCurrencyWhiteList:"common/updateCurrencyWhiteList"}))}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/Button.vue?vue&type=style&index=0&id=683d7678&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/OriginPrice.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/merchant/MerchantTag.vue?vue&type=style&index=0&id=9a44ceda&lang=scss&scoped=true&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponList.vue?vue&type=style&index=0&id=7cd6f4db&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponListCard.vue?vue&type=style&index=0&id=e6e83fa6&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponSection.vue?vue&type=style&index=0&id=5cf7fb50&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponTextIcon.vue?vue&type=style&index=0&id=18aff48a&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponTicket.vue?vue&type=style&index=0&id=69cd3b2f&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/FakeCouponElement.vue?vue&type=style&index=0&id=c5a30c90&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ProductNotice.vue?vue&type=style&index=0&id=43e31fd7&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/StoreInfo.vue?vue&type=style&index=0&id=5ba2b392&lang=scss&scoped=true&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/CloseButton.vue?vue&type=style&index=0&id=09dfb188&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/Divider.vue?vue&type=style&index=0&id=45b03622&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/EntryButton.vue?vue&type=style&index=0&id=7f294dae&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/MessageBubble.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/MessageFile.vue?vue&type=style&index=0&id=1c7f42e6&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/MessageImage.vue?vue&type=style&index=0&id=3846b1d9&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/PreviewTemplate.vue?vue&type=style&index=0&id=e72e8f2c&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/ResizeAutoTextarea.vue?vue&type=style&index=0&id=86a087a2&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/ScrollBottomButton.vue?vue&type=style&index=0&id=66781c68&scoped=true&lang=scss&":function(e,t,n){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/mixins/whlbProductMixin.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){},"./public/assets/css/bootstrap-modal-carousel.min.css":function(e,t,n){},"./public/assets/css/owl.theme.default.min.css":function(e,t,n){},"./resources/mobile/js/helpers/common.js":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.string.pad-start.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.split.js"),n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.regexp.constructor.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.string.replace.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.string.starts-with.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.string.search.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/moment/moment.js-exposed"),n("./node_modules/numeral/numeral.js"),n("./resources/share/js/libs/InitStateProvider.js");var s=n("./node_modules/detect-browser/es/index.js"),o=n("./resources/share/js/libs/KkDispatcher.js");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,s,o,i,r){try{var a=e[i](r),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(s,o)}var u=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,i,a,c,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url,i=void 0===n?"":n,a=t.data,c=void 0===a?{}:a,u=t.slackChannel,l=void 0===u?"":u,i){e.next=4;break}return console.warn("ajaxErrorLog: url required, ".concat(i," given.")),e.abrupt("return");case 4:return e.next=6,o.a.send({method:"POST",url:i,data:r({browser:Object(s.a)(),slackChannel:l},c)});case 6:return d=e.sent,e.abrupt("return",d.data);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(s,o){var i=e.apply(t,n);function r(e){c(i,s,o,r,a,"next",e)}function a(e){c(i,s,o,r,a,"throw",e)}r(void 0)}))});return function(e){return t.apply(this,arguments)}}(),l=function(e){var t=e.clientHeight,n=e.scrollHeight;return{expandHeight:n,collapseHeight:t,isExpandable:n>t}}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./resources/pc/js/api/ErrorHandler.js":function(e,t,n){"use strict";function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}n.d(t,"a",(function(){return o}));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"warn",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&alert((null==e?void 0:e.message)||e.msg||e),console.warn(e)}}],(n=null)&&s(t.prototype,n),o&&s(t,o),e}()},"./resources/pc/js/api/conversation.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js");var s=n("./resources/share/js/api/index.js");function o(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var i=function(e,t,n){return new Promise((function(s,o){var i=function(e){try{a(n.next(e))}catch(e){o(e)}},r=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?s(e.value):Promise.resolve(e.value).then(i,r)};a((n=n.apply(e,t)).next())}))},r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"sendRequest",value:function(e){return i(this,null,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(s.b)({fetchingPath:e.fetchingPath,conditions:e});case 3:return n=t.sent,t.abrupt("return",[null,n]);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",[t.t0]);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}},{key:"getConversationToken",value:function(){return this.sendRequest({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_get_conversation_token")),data:{},method:"POST",fetchingPath:"ajax_get_conversation_token"})}},{key:"getConversations",value:function(e){var t=e.startMainConversationSid,n=e.limit;return this.sendRequest({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_get_conversations")),data:{startMainConversationSid:t,limit:n},method:"POST",fetchingPath:"ajax_get_conversations"})}},{key:"getUnreadConversations",value:function(e){var t=e.startMainConversationSid,n=e.limit;return this.sendRequest({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_get_unread_conversations")),data:{startMainConversationSid:t,limit:n},method:"POST",fetchingPath:"ajax_get_unread_conversations"})}},{key:"createConversations",value:function(e){return i(this,null,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.sendRequest({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_create_conversations")),data:{targetUsers:e},method:"POST",fetchingPath:"ajax_create_conversations"}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"getConversationDetail",value:function(e){return this.sendRequest({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_get_conversation_detail")),data:{sid:e},method:"POST",fetchingPath:"ajax_get_conversation_detail"})}},{key:"getMessages",value:function(e){return this.sendRequest({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_get_messages")),data:e,method:"POST",fetchingPath:"ajax_get_messages"})}},{key:"startConversation",value:function(e){return this.sendRequest({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_start_conversation")),data:{sid:e},method:"POST",fetchingPath:"ajax_start_conversation"})}},{key:"readAllMessages",value:function(e){return this.sendRequest({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_read_all_messages")),data:{sid:e},method:"POST",fetchingPath:"ajax_read_all_messages"})}}])&&o(t.prototype,n),r&&o(t,r),e}()},"./resources/pc/js/components/common/BreadCrumbs.vue":function(e,t,n){"use strict";n("./resources/pc/sass/components/breadcrumb.scss");var s={props:{items:{type:Array,default:function(){return[]}}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cut-bread"},[n("ol",{staticClass:"breadcrumb"},[e._l(e.items,(function(t,s){return[s===e.items.length-1?n("li",{key:s,staticClass:"active"},[e._v("\n\t\t\t\t"+e._s(t.name)+"\n\t\t\t")]):n("li",{key:s},[t.list?e._l(t.list,(function(t,o){return n("a",{key:o,attrs:{href:t.url}},[s>0&&0!==o?n("span",{key:"gap-"+o},[e._v(", ")]):e._e(),e._v("\n\t\t\t\t\t\t"+e._s(t.name)+"\n\t\t\t\t\t")])})):[n("a",{attrs:{href:t.url}},[e._v(e._s(t.name))])]],2)]}))],2)])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/Button.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.split.js"),n("./node_modules/core-js/modules/es.array.join.js");var s=["default","primary","info","success","danger","warning","white","blue","grey","grey-light"],o=["xs","sm","md"],i={name:"Button",props:{theme:{type:String,default:null,validator:function(e){return _.includes(s,e)}},size:{type:String,default:null,validator:function(e){return _.includes(o,e)}},isGhost:{type:Boolean,default:!1},isBlock:{type:Boolean,default:!1},isLink:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},themeColor:{type:String,default:""}},methods:{getRGBAColor:function(e,t){var n;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3===(n=e.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),t?"rgba("+[n>>16&255,n>>8&255,255&n,t].join(",")+")":"rgba("+[n>>16&255,n>>8&255,255&n].join(",")+")"}}},r=(n("./resources/pc/js/components/common/Button.vue?vue&type=style&index=0&id=683d7678&scoped=true&lang=scss&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),a=Object(r.a)(i,(function(){var e,t=this,n=t.$createElement;return(t._self._c||n)("button",{staticClass:"jj-button",class:(e={"jj-button--custom":t.themeColor},e["jj-button--"+t.theme]=t.theme&&!t.themeColor,e["jj-button--"+t.size]=t.size,e["jj-button--ghost"]=t.isGhost,e["jj-button--block"]=t.isBlock,e["jj-button--link"]=t.isLink,e),style:{"--theme-color":t.themeColor,"--theme-background-color":t.getRGBAColor(t.themeColor,.15)},attrs:{type:"button",disabled:t.isDisabled}},[t._t("default")],2)}),[],!1,null,"683d7678",null);t.a=a.exports},"./resources/pc/js/components/common/Button.vue?vue&type=style&index=0&id=683d7678&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/Button.vue?vue&type=style&index=0&id=683d7678&scoped=true&lang=scss&")},"./resources/pc/js/components/common/DropdownSelect.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.find.js"),n("./node_modules/core-js/modules/es.object.to-string.js");var s={props:{value:{type:null,default:null},options:{type:Array,default:function(){return[]}},placeholder:{type:String,default:null},isDisabled:{type:Boolean,default:!1}},computed:{currentOption:function(){return _.isNil(this.value)?null:_.find(this.options,["value",this.value])}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("button",{staticClass:"form-control input-dropdown",attrs:{"data-toggle":"dropdown",disabled:e.isDisabled}},[e.currentOption?n("span",[e.currentOption.leadingIconClass?n("i",{class:e.currentOption.leadingIconClass,attrs:{"aria-hidden":"true"}}):e._e(),e._v("\n\t\t\t"+e._s(e.currentOption.name)+"\n\t\t")]):e.placeholder?n("span",[e._v(e._s(e.placeholder))]):e._t("placeholder")],2),e._v(" "),n("ul",{staticClass:"dropdown-menu input-dropdown-menu"},e._l(e.options,(function(t){return n("li",{key:t.value,class:{active:e.value===t.value,disabled:t.disabled}},[n("a",{on:{click:function(n){!t.disabled&&e.$emit("input",t.value)}}},[t.leadingIconClass?n("i",{class:t.leadingIconClass,attrs:{"aria-hidden":"true"}}):e._e(),e._v("\n\t\t\t\t"+e._s(t.name)+"\n\t\t\t")])])})),0)])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/Freshchat.vue":function(e,t,n){"use strict";var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/Freshchat.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"active",class:{snoozed:e.isFreshchatOffline},attrs:{id:"custom_fc_button"},on:{click:e.handleClick}},[n("div",{staticClass:"btn-chat"},[e.isLoading?n("div",{staticClass:"dot-load"},[n("span",{staticClass:"dot dot-1 bg-white"}),e._v(" "),n("span",{staticClass:"dot dot-2 bg-white"}),e._v(" "),n("span",{staticClass:"dot dot-3 bg-white"})]):[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_service_fill.svg"),width:"20"}}),e._v("\n\t\t\t"+e._s(e.lang("common_contact"))+"\n\t\t\t"),n("span",{class:{active:e.hasUnreadMessage},attrs:{id:"notify"}})]],2)]):e._e()}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/GoogleEmbedMap.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.concat.js");var s={name:"GoogleEmbedMap",props:{mapInformation:{type:Object,default:null}},data:function(){return{urlGoogleEmbedMapApi:kkday.constants.getValue("URL_GOOGLE_EMBED_MAP_API"),keyGoogleEmbedMap:kkday.constants.getValue("KEY_GOOGLE_MAP"),language:kkday.constants.getValue("LANG_UI")}},computed:{isShow:function(){return!!this.mapInformation},placeId:function(){return this.mapInformation.placeId||this.mapInformation.place_id},googleMapUrl:function(){var e=this.placeId?"place_id:".concat(this.placeId):"".concat(this.mapInformation.latitude,",").concat(this.mapInformation.longitude);return this.urlGoogleEmbedMapApi+"/place?key="+this.keyGoogleEmbedMap+"&q="+e+"&zoom="+(this.mapInformation.zoomLevel||this.mapInformation.zoomLv||this.mapInformation.zoom_lv||13)+"&language="+this.language}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"embed-responsive embed-responsive-16by9"},[this.isShow?t("iframe",{staticStyle:{border:"0"},attrs:{src:this.googleMapUrl,frameborder:"0",allowfullscreen:""}}):this._e()])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/KkSplide.vue":function(e,t,n){"use strict";n.r(t);n("./node_modules/@splidejs/splide/dist/css/themes/splide-default.min.css"),n("./resources/pc/sass/components/splide.scss");var s=n("./node_modules/@splidejs/vue-splide/src/js/index.js"),o={name:"KkSplide",components:{Splide:s.a,SplideSlide:s.b},props:{slideOptions:{type:Object,default:function(){return{}}},extensions:{type:Object,default:function(){return{}}},slideList:{type:Array,default:function(){return[]}}},data:function(){return{defaultOptions:{type:"loop",rewind:!0,cover:!0,padding:{right:200,left:200},gap:10,heightRatio:.5625,easing:"cubic-bezier(0,.01,.75,1)",speed:700,drag:!1,video:{loop:!0}}}},computed:{options:function(){return _.assign(this.defaultOptions,this.slideOptions)}},methods:{onSplideMove:function(){this.$emit("splide-move")},onLoad:function(e){var t;null==(t=null==e?void 0:e.onLoad)||t.call(e)}}},i=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),r=Object(i.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("splide",{attrs:{options:e.options,extensions:e.extensions,"has-slider-wrapper":!0},on:{"splide:move":e.onSplideMove}},[e._t("default"),e._v(" "),e._l(e.slideList,(function(t,s){return n("splide-slide",{key:s,attrs:{"data-splide-youtube":t.videoUrl}},[n("img",{attrs:{src:t.url,alt:t.alt},on:{load:function(n){return e.onLoad(t)}}})])}))],2)}),[],!1,null,null,null);t.default=r.exports},"./resources/pc/js/components/common/LightboxSlideshow.vue":function(e,t,n){"use strict";var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/LightboxSlideshow.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"modal",staticClass:"modal fade modal-fullscreen modal-lightbox",attrs:{id:e.modalId,tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",staticStyle:{"max-width":"none"}},[n("div",{staticClass:"modal-content",staticStyle:{"background-color":"rgba(0,0,0,0.6)"}},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[e._v("\n\t\t\t\t\t×\n\t\t\t\t")]),e._v(" "),e._t("header")],2),e._v(" "),n("div",{staticClass:"modal-body"},[n("div",{ref:"carousel",staticClass:"owl-theme fade"},[e.youtubeUrl?n("div",{staticClass:"item"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isPlayerReady,expression:"isPlayerReady"}],staticClass:"embed-responsive"},[e.initialized?n("YoutubePlayer",{ref:"player",attrs:{"video-id":e.getYoutubeVideoId(e.youtubeUrl)},on:{ready:e.onVideoReady,"update-state":e.updateVideoState}}):e._e()],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPlayerReady,expression:"!isPlayerReady"}],staticClass:"loading"},[n("i",{staticClass:"fa fa-circle-o-notch fa-spin"})])]):e._e(),e._v(" "),e._l(e.photoList,(function(t,s){return n("div",{key:s,staticClass:"item"},[n("img",{directives:[{name:"show",rawName:"v-show",value:e.isPhotoLoaded[t.url],expression:"isPhotoLoaded[photo.url]"}],staticClass:"owl-lazy",attrs:{"data-src":e.kkday.image.convertToWebp(e.kkday.image.get({path:t.url,width:"1920",height:"1080",crop:"fit"})),alt:t.alt||t.source_alt},on:{load:function(n){e.isPhotoLoaded[t.url]=!0}}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPhotoLoaded[t.url],expression:"!isPhotoLoaded[photo.url]"}],staticClass:"loading"},[n("i",{staticClass:"fa fa-circle-o-notch fa-spin"})]),e._v(" "),n("div",{staticClass:"photo-by"},[n("p",[t.desc?[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(t.desc)+"\n\t\t\t\t\t\t\t\t")]:e._e(),e._v(" "),"Y"===t.isCcAuth?[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.lang("common_photo_by"))+" "+e._s(t.authName)+"\n\t\t\t\t\t\t\t\t")]:e._e()],2)])])}))],2)])])])])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/LoadingDots.vue":function(e,t,n){"use strict";var s={props:{dotClass:{type:String,default:"bg-white"}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dot-load"},[t("span",{staticClass:"dot dot-1",class:this.dotClass}),this._v(" "),t("span",{staticClass:"dot dot-2",class:this.dotClass}),this._v(" "),t("span",{staticClass:"dot dot-3",class:this.dotClass})])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/Modal.vue":function(e,t,n){"use strict";var s={props:{title:{type:String,default:null},subtitle:{type:String,default:null},size:{type:String,default:null}},computed:{sizeClass:function(){switch(this.size){case"lg":return"modal-lg";case"md":return"modal-md";case"sm":return"modal-sm"}return this.size}},methods:{close:function(){this.$emit("close")}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal fade",attrs:{role:"dialog"}},[n("div",{staticClass:"modal-dialog",class:[e.sizeClass]},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"},on:{click:e.close}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")]),e._v(" "),n("span",{staticClass:"sr-only"},[e._v("Close")])]),e._v(" "),e.title?n("h4",{staticClass:"modal-title"},[e._v("\n\t\t\t\t\t"+e._s(e.title)+"\n\t\t\t\t")]):e._e(),e._v(" "),e.subtitle?n("div",{staticClass:"text-grey"},[e._v("\n\t\t\t\t\t"+e._s(e.subtitle)+"\n\t\t\t\t")]):e._e()]),e._v(" "),e.$slots.body?n("div",{staticClass:"modal-body"},[e._t("body")],2):e._e(),e._v(" "),e.$slots.footer?n("div",{staticClass:"modal-footer"},[e._t("footer")],2):e._e()])])])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/OriginPrice.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.array.concat.js");var s=n("./resources/pc/js/helpers/common.js"),o=n("./resources/pc/js/helpers/localeCustomize.js"),i={props:{tagName:{type:String,default:"span"},originPrice:{type:Number,required:!0},salePrice:{type:Number,required:!0},currency:{type:String,required:!0},size:{type:String,default:""}},computed:{isShow:function(){return this.originPrice>=1.03*this.salePrice},displayPrice:function(){return"".concat(Object(o.a)(this.currency)," ").concat(Object(s.r)(this.originPrice,this.currency))}}},r=(n("./resources/pc/js/components/common/OriginPrice.vue?vue&type=style&index=0&lang=scss&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),a=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n(e.tagName,{tag:"component",class:["origin-price",e.size&&"origin-price--"+e.size]},[e._v("\n\t"+e._s(e.displayPrice)+"\n")]):e._e()}),[],!1,null,null,null);t.a=a.exports},"./resources/pc/js/components/common/OriginPrice.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/OriginPrice.vue?vue&type=style&index=0&lang=scss&")},"./resources/pc/js/components/common/Pagination.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.number.constructor.js");var s={name:"Pagination",props:{currentPage:{type:[Number,String],default:1},totalPage:{type:[Number,String],default:0},pageAmount:{type:Number,default:7}},computed:{pageList:function(){return _.range(this.startPage,this.endPage+1)},startPage:function(){var e=Number(this.currentPage)+this.halfPageAmount<=this.totalPage?Number(this.currentPage)+this.halfPageAmount:this.totalPage;return e-this.pageAmount+1>=1?e-this.pageAmount+1:1},endPage:function(){var e=Number(this.currentPage)-this.halfPageAmount>1?Number(this.currentPage)-this.halfPageAmount:1;return e+this.pageAmount-1<=this.totalPage?e+this.pageAmount-1:this.totalPage},halfPageAmount:function(){return _.floor(this.pageAmount/2)}},methods:{showPage:function(e){this.currentPage!==e&&this.$emit("paging",e)}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.totalPage>1?n("ul",{staticClass:"pagination"},[e.startPage>1?n("li",{staticClass:"a-page"},[n("a",{on:{click:function(t){return t.preventDefault(),e.showPage(e.startPage-1)}}},[n("i",{staticClass:"fa fa-angle-left"})])]):e._e(),e._v(" "),e._l(e.pageList,(function(t,s){return n("li",{key:s,staticClass:"a-page",class:{active:t==e.currentPage},on:{click:function(n){return e.showPage(t)}}},[n("a",[e._v(e._s(t))])])})),e._v(" "),e.totalPage>e.endPage?n("li",{staticClass:"a-page"},[n("a",{on:{click:function(t){return t.preventDefault(),e.showPage(e.endPage+1)}}},[n("i",{staticClass:"fa fa-angle-right"})])]):e._e()],2):e._e()}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/ProductStar.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.number.constructor.js");var s={props:{showStar:{type:Boolean,default:!1},starPercentage:{type:Array,default:function(){return[]}},avgScore:{type:Number,default:null}},methods:{show_star_percentage:function(e){return"star-"+e}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showStar?n("div",{staticClass:"product-star"},[e.avgScore?n("b",{staticClass:"text-primary"},[e._v(e._s(e.$filters.avgScoreFormat(e.avgScore)))]):e._e(),e._v(" "),e._l(e.starPercentage,(function(t,s){return n("svg",{key:s,staticClass:"custom-kk-icon star",class:e.show_star_percentage(t)},[n("use",{attrs:{"xlink:href":"#ic_star"}})])})),e._v(" "),e._t("default")],2):e._e()}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/ReloadModal.vue":function(e,t,n){"use strict";var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/ReloadModal.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal fade",attrs:{id:"load_error_msg",tabindex:"-1",role:"dialog"}},[n("div",{staticClass:"modal-dialog modal-sm"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-body pd-20 text-center text-md"},[n("div",{staticClass:"modal-icon"},[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_load_error.svg")}})]),e._v("\n\t\t\t\t"+e._s(e.content.bodyContent)+"\n\t\t\t")]),e._v(" "),n("div",{staticClass:"modal-footer text-center"},[n("a",{staticClass:"btn btn-block btn-primary",attrs:{href:"#","data-dismiss":"modal"}},[e._v("\n\t\t\t\t\t"+e._s(e.lang("common_reload"))+" "),n("i",{staticClass:"fa fa-repeat"})])]),e._v("\n\t\t\t"+e._s(e.content.footerContent)+"\n\t\t")])])])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/Select2.vue":function(e,t,n){"use strict";var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/Select2.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("select",{staticClass:"form-control select2-item",attrs:{multiple:this.multiple}},[this.$attrs.placeholder?t("option",{attrs:{disabled:""},domProps:{value:null}},[this._v("\n\t\t"+this._s(this.$attrs.placeholder)+"\n\t")]):this._e()])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/common/YoutubePlayer.vue":function(e,t,n){"use strict";var s={props:{videoId:{type:String,default:""}},data:function(){return{divId:_.uniqueId("youtube-player-"),player:null,videoStateEnum:{UNSTARTED:-1,END:0,PLAYING:1,PAUSED:2,BUFFERING:3,VIDEOCUED:5},videoState:"UNSTARTED"}},watch:{videoState:function(e){switch(this.videoStateEnum[e]){case this.videoStateEnum.UNSTARTED:break;case this.videoStateEnum.END:this.stopVideo();break;case this.videoStateEnum.PLAYING:this.playVideo();break;case this.videoStateEnum.PAUSED:this.pauseVideo();break;case this.videoStateEnum.BUFFERING:case this.videoStateEnum.VIDEOCUED:}}},mounted:function(){var e=this;kkday.loadScript("https://www.youtube.com/iframe_api"),window.YTConfig={host:"https://www.youtube.com"},void 0!==window.YT?this.initPlayer():window.addEventListener("YouTubeIframeAPIReady",(function(){e.initPlayer()}))},methods:{initPlayer:function(){var e=this;this.player=new window.YT.Player(this.divId,{videoId:this.videoId,playerVars:{rel:0,origin:window.location.origin},events:{onReady:function(){e.player.cueVideoById(e.videoId),e.$emit("ready")},onStateChange:function(t){e.$emit("update-state",_.invert(e.videoStateEnum)[t.data])}}})},playVideo:function(){this.player.playVideo()},stopVideo:function(){this.player.stopVideo()},pauseVideo:function(){this.player.pauseVideo()}}};window.onYouTubeIframeAPIReady=function(){window.dispatchEvent(new Event("YouTubeIframeAPIReady"))};var o=s,i=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),r=Object(i.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:this.divId}})}),[],!1,null,null,null);t.a=r.exports},"./resources/pc/js/components/merchant/MerchantTag.vue":function(e,t,n){"use strict";var s={name:"MerchantTag",props:{size:{type:String,default:"md"}}},o=(n("./resources/pc/js/components/merchant/MerchantTag.vue?vue&type=style&index=0&id=9a44ceda&lang=scss&scoped=true&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(o.a)(s,(function(){var e=this.$createElement;return(this._self._c||e)("div",{class:["merchant-tag",this.size?"merchant-tag--"+this.size:""]},[this._v("\n\t"+this._s(this.lang("common_merchant_tag"))+"\n")])}),[],!1,null,"9a44ceda",null);t.a=i.exports},"./resources/pc/js/components/merchant/MerchantTag.vue?vue&type=style&index=0&id=9a44ceda&lang=scss&scoped=true&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/merchant/MerchantTag.vue?vue&type=style&index=0&id=9a44ceda&lang=scss&scoped=true&")},"./resources/pc/js/components/point/PointBonusCheckoutBanner.vue":function(e,t,n){"use strict";n("./resources/pc/sass/point_bonus.scss");var s={components:{LoadingDots:n("./resources/pc/js/components/common/LoadingDots.vue").a},props:{uiData:{type:Object,required:!0},isLoading:{type:Boolean,default:!1}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"point-bonus-checkout-banner",attrs:{"style-id":e.uiData.styleId}},[e.isLoading?n("LoadingDots",{attrs:{"dot-class":"bg-grey"}}):n("div",{staticClass:"point-bonus-checkout-banner__banner"},[e.uiData.iconUrl?n("img",{staticClass:"point-bonus-checkout-banner__icon",attrs:{src:e.uiData.iconUrl}}):e._e(),e._v(" "),n("div",{staticClass:"point-bonus-checkout-banner__text"},[e._v("\n\t\t\t"+e._s(e.uiData.text)+"\n\t\t")])])],1)}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/point/PointBonusProductBanner.vue":function(e,t,n){"use strict";var s=n("./node_modules/moment/moment.js-exposed"),o=n.n(s),i=(n("./resources/pc/sass/point_bonus.scss"),{components:{Modal:n("./resources/pc/js/components/common/Modal.vue").a},props:{uiData:{type:Object,required:!0}},computed:{remainDays:function(){return this.uiData.validTo?o()(this.uiData.validTo,"X").diff(o()(),"days")+1:null}}}),r=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),a=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"point-bonus-product-banner",attrs:{"style-id":e.uiData.styleId}},[n("div",{staticClass:"point-bonus-product-banner__banner"},[e.uiData.iconUrl?n("img",{staticClass:"point-bonus-product-banner__icon",attrs:{src:e.uiData.iconUrl}}):e._e(),e._v(" "),n("div",{staticClass:"point-bonus-product-banner__text"},[n("div",{staticClass:"point-bonus-product-banner__title"},[e._v("\n\t\t\t\t"+e._s(e.uiData.title)+"\n\t\t\t")]),e._v(" "),n("div",{staticClass:"point-bonus-product-banner__body"},[n("div",{staticClass:"point-bonus-product-banner__desc"},[e._v("\n\t\t\t\t\t"+e._s(e.uiData.body)+"\n\t\t\t\t")]),e._v(" "),e.remainDays>0&&e.remainDays<=7?n("div",{staticClass:"point-bonus-product-banner__remain-days"},[e._v("\n\t\t\t\t\t"+e._s(e.langTemplate("point_common_rule_remain_days",{remainDays:e.remainDays}))+"\n\t\t\t\t")]):e._e()])])]),e._v(" "),e.uiData.hint?[n("div",{staticClass:"point-bonus-product-banner__hint"},[e._v("\n\t\t\t"+e._s(e.lang("point_common_hint_best_rule"))),n("img",{staticClass:"point-bonus-product-banner__hint-icon",attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_information_grey.svg"),"data-toggle":"modal","data-target":"#modal-point-bonus-hint"}})]),e._v(" "),n("Modal",{attrs:{id:"modal-point-bonus-hint",title:e.uiData.hint.title,size:"sm"},scopedSlots:e._u([{key:"body",fn:function(){return[e._v("\n\t\t\t\t"+e._s(e.uiData.hint.body)+"\n\t\t\t")]},proxy:!0},{key:"footer",fn:function(){return[n("button",{staticClass:"btn btn-primary",attrs:{"data-dismiss":"modal"}},[e._v("\n\t\t\t\t\t"+e._s(e.lang("common_got_it"))+"\n\t\t\t\t")])]},proxy:!0}],null,!1,1089143986)})]:e._e()],2)}),[],!1,null,null,null);t.a=a.exports},"./resources/pc/js/components/product/newProductDetail/AlertInfo.vue":function(e,t,n){"use strict";var s=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),o=Object(s.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bg-grey-light text-center text-grey pd-10"},[t("i",{staticClass:"icons icon-info"}),this._v(" "),this._t("default")],2)}),[],!1,null,null,null);t.a=o.exports},"./resources/pc/js/components/product/newProductDetail/Calendar.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.object.to-string.js");var s=n("./node_modules/moment/moment.js-exposed"),o=n.n(s),i=n("./node_modules/lodash/lodash.js-exposed"),r=n.n(i),a=(n("./resources/pc/sass/components/product_calendar.scss"),n("./resources/pc/js/config/calendarSettings.js")),c=(n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.object.set-prototype-of.js"),n("./node_modules/core-js/modules/es.object.get-prototype-of.js"),n("./node_modules/core-js/modules/es.reflect.construct.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./resources/pc/js/helpers/common.js"));function u(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.checkingDate=null,this.hasClearArea=!1,this.isOnlyCanBeEndDateHoverable=!1,this.isOnlyCanBeEndDateSelectable=!1,this.isEndDatePriceDisable=!1}var t,n,s;return t=e,(n=[{key:"isSelecting",value:function(){}},{key:"isSelected",value:function(e,t){return!(!e||!t)}},{key:"isNeedToSetStartOnly",value:function(e,t){return!1}},{key:"getDateObj",value:function(){}},{key:"getEmitValue",value:function(){}},{key:"getClickedDateObj",value:function(){}},{key:"getDisplaySelectedDate",value:function(){}},{key:"displayDateSpanUnit",value:function(){}},{key:"getCheckingDate",value:function(){return this.checkingDate}},{key:"setCheckingDate",value:function(e){this.checkingDate=e}},{key:"hasNextCheckingDate",value:function(e){return this.checkingDate.isSameOrBefore(e,"day")}},{key:"setNextCheckingDate",value:function(){this.setCheckingDate(this.checkingDate.add(1,"day"))}},{key:"getDateSpan",value:function(e,t){return t.diff(e,"days")+1}},{key:"belowMinSpan",value:function(e){return Object(c.u)(Object(c.q)("common_calendar_error_below_min"),[e])}},{key:"aboveMaxSpan",value:function(e){return Object(c.u)(Object(c.q)("common_calendar_error_above_max"),[e])}},{key:"missingEndDate",value:function(){return Object(c.q)("common_calendar_error_missing_end_date")}}])&&u(t.prototype,n),s&&u(t,s),e}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(s,arguments,o)}else n=s.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,e);var t,n,s,i=h(r);function r(){return m(this,r),i.apply(this,arguments)}return t=r,(n=[{key:"getDateObj",value:function(e,t){if(_.isEmpty(e))throw"it is clearable";var n=o()(e,t,!0);return{startDateObj:n,endDateObj:n}}},{key:"isSelecting",value:function(e,t){return!1}},{key:"getEmitValue",value:function(e,t){return e.startDateObj.format(t)}},{key:"getDisplaySelectedDate",value:function(e){var t=e.startDateObj,n=e.langCode,s=e.displayDateFormat;return o()(t).locale(n).format(s)}},{key:"getClickedDateObj",value:function(e){var t=e.dateObj,n=e.startDateObj,s=e.endDateObj;if(this.isSelected(n,s)&&t.isSame(n,"day"))throw"it is clearable";return{startDateObj:t,endDateObj:t,hoveringDateObj:null}}},{key:"displayDateSpanUnit",value:function(e){return"".concat(e," ").concat(Object(c.q)("common_date_span_day"))}}])&&p(t.prototype,n),s&&p(t,s),r}(l);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(s,arguments,o)}else n=s.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(r,e);var t,n,s,i=S(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=i.call(this)).hasClearArea=!0,e}return t=r,(n=[{key:"getDateObj",value:function(e,t){var n=e.startDate,s=e.endDate;if(_.isEmpty(n)||_.isEmpty(s))throw"it is clearable";return{startDateObj:o()(n,t,!0),endDateObj:o()(s,t,!0)}}},{key:"isSelecting",value:function(e,t){return e&&!t}},{key:"getEmitValue",value:function(e,t){var n=e.startDateObj,s=e.endDateObj;return{startDate:n.format(t),endDate:s.format(t)}}},{key:"getDisplaySelectedDate",value:function(e){var t=e.startDateObj,n=e.endDateObj,s=e.langCode,i=e.displayDateFormat;return this.isSelecting(t,n)?"".concat(o()(t).locale(s).format(i)," - ").concat(Object(c.q)("common_calendar_end_date")):"".concat(o()(t).locale(s).format(i)," - ").concat(o()(n).locale(s).format(i))}},{key:"getClickedDateObj",value:function(e){var t=e.dateObj,n=e.startDateObj,s=e.endDateObj;return this.isSelected(n,s)||!n||t.isBefore(n,"day")?{startDateObj:t,endDateObj:null,hoveringDateObj:t}:{startDateObj:n,endDateObj:t,hoveringDateObj:null}}},{key:"displayDateSpanUnit",value:function(e){return"".concat(e," ").concat(e>1?Object(c.q)("common_date_span_days"):Object(c.q)("common_date_span_day"))}}])&&j(t.prototype,n),s&&j(t,s),r}(l);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(s,arguments,o)}else n=s.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,s,o=E(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).hasClearArea=!0,e.isOnlyCanBeEndDateHoverable=!0,e.isOnlyCanBeEndDateSelectable=!0,e.isEndDatePriceDisable=!0,e}return t=i,(n=[{key:"hasNextCheckingDate",value:function(e){return this.checkingDate.isBefore(e,"day")}},{key:"getDateSpan",value:function(e,t){return t.diff(e,"days")}},{key:"isNeedToSetStartOnly",value:function(e,t){return t.isSame(e,"day")}},{key:"displayDateSpanUnit",value:function(e){var t=e-1;return"".concat(t," ").concat(t>1?Object(c.q)("common_date_span_room_nights"):Object(c.q)("common_date_span_room_night"))}},{key:"belowMinSpan",value:function(e){return Object(c.u)(Object(c.q)("common_calendar_room_night_error_below_min"),[e])}},{key:"aboveMaxSpan",value:function(e){return Object(c.u)(Object(c.q)("common_calendar_room_night_error_above_max"),[e])}},{key:"missingEndDate",value:function(){return Object(c.q)("product_index_please_select_can_end_date")}}])&&D(t.prototype,n),s&&D(t,s),i}(x),L="BELOW_MIN",A="ABOVE_MAX",R="HAS_INVALID",N="ONLY_CAN_BE_END",U={inject:["getWhlbProdElementStyle"],props:{value:{type:[String,Object],default:null},dateFormat:{type:String,default:"YYYY/MM/DD"},initialDate:{type:String,default:null},minDate:{type:String,default:null},maxDate:{type:String,default:null},minSpan:{type:Number,default:null},maxSpan:{type:Number,default:null},checkIsValid:{type:Function,default:null},getInfo:{type:Function,default:null},langCode:{type:String,default:"en"},isLoading:{type:Boolean,default:!1},mode:{type:String,default:"single"}},data:function(){return{displayMoment:(this.initialDate?o()(this.initialDate,this.dateFormat):o()()).startOf("month"),startDateObj:null,endDateObj:null,hoveringDateObj:null,errorCode:null,infoCode:null}},computed:{calendarSetting:function(){return a.a[this.langCode]||a.a.en},daysName:function(){var e=this;return r.a.times(7).map((function(t){return o()().locale(e.langCode).day(e.calendarSetting.firstDayOfWeek+t).format("dd")}))},dateRows:function(){for(var e=[],t=this.displayMoment.clone(),n=this.calendarSetting.firstDayOfWeek,s=1,o=0;s<=this.displayMoment.daysInMonth();)t.date(s),e.length===o&&e.push([]),t.day()===n?(e[o].push(t.clone()),s++):e[o].push(null),n=(n+1)%7,7===e[o].length&&o++;return e},datesInfo:function(){var e=this;return r.a.isFunction(this.getInfo)?r.a.reduce(r.a.times(this.displayMoment.daysInMonth()),(function(t,n){var s=e.displayMoment.clone().date(n+1);return t[n+1]=e.getInfo(s),t}),{}):null},currentMonthText:function(){return o()(this.displayMoment).locale(this.langCode).format(this.calendarSetting.displayMonthFormat)},isSelecting:function(){return this.service.isSelecting(this.startDateObj,this.endDateObj)},isSelected:function(){return this.service.isSelected(this.startDateObj,this.endDateObj)},emitValue:function(){return this.isSelected?this.service.getEmitValue({startDateObj:this.startDateObj,endDateObj:this.endDateObj},this.dateFormat):null},displaySelectedDate:function(){return this.isSelected||this.isSelecting?this.service.getDisplaySelectedDate({startDateObj:this.startDateObj,endDateObj:this.endDateObj,langCode:this.langCode,displayDateFormat:this.calendarSetting.displayDateFormat}):null},dateSpan:function(){return this.isSelected?this.endDateObj.diff(this.startDateObj,"days")+1:null},displayDateSpanUnit:function(){return this.service.displayDateSpanUnit(this.dateSpan)},hint:function(){if(!this.isSelecting)switch(this.infoCode){case N:return{dateObj:this.hoveringDateObj,text:this.lang("common_only_can_be_end")};default:return null}switch(this.errorCode){case L:return{dateObj:this.hoveringDateObj,text:this.service.belowMinSpan(this.minSpan)};case A:return{dateObj:this.hoveringDateObj,text:this.service.aboveMaxSpan(this.maxSpan)};case R:return{dateObj:this.hoveringDateObj,text:this.lang("common_calendar_error_has_invalid")};default:return{dateObj:this.startDateObj,text:this.service.missingEndDate()}}},isOnMinMonth:function(){return!(!this.minDate||!this.displayMoment.isSameOrBefore(o()(this.minDate,this.dateFormat),"month"))},isOnMaxMonth:function(){return!(!this.maxDate||!this.displayMoment.isSameOrAfter(o()(this.maxDate,this.dateFormat),"month"))},service:function(){switch(this.mode){case"rangeExcludeLastDate":return new M;case"range":return new x;case"single":default:return new y}}},watch:{emitValue:function(){this.$emit("input",this.emitValue)},displayMoment:function(){this.$emit("month-changed",this.displayMoment)},value:function(e){if(!r.a.isEqual(e,this.emitValue)){try{var t=this.service.getDateObj(e,this.dateFormat),n=t.startDateObj,s=t.endDateObj;this.setSelectedDates(n,s)}catch(e){this.clear()}r.a.isEqual(e,this.emitValue)||this.$emit("input",this.emitValue)}},startDateObj:function(){this.isSelecting&&this.checkRangeValid(this.startDateObj,this.hoveringDateObj)},hoveringDateObj:function(){this.isSelecting&&this.checkRangeValid(this.startDateObj,this.hoveringDateObj)}},mounted:function(){var e=this;document.addEventListener("mousedown",(function(t){!e.$el.contains(t.target)&&e.isSelecting&&e.autoComplete()})),document.addEventListener("keydown",(function(t){27===t.keyCode&&e.isSelecting&&e.clear()}))},methods:{autoComplete:function(){this.isSelecting&&this.onDateClick(this.startDateObj.clone())},prevMonth:function(){this.isOnMinMonth||(this.displayMoment=this.displayMoment.subtract(1,"M").clone())},nextMonth:function(){this.isOnMaxMonth||(this.displayMoment=this.displayMoment.add(1,"M").clone())},onDateClick:function(e){try{var t=this.service.getClickedDateObj({dateObj:e,startDateObj:this.startDateObj,endDateObj:this.endDateObj}),n=t.startDateObj,s=t.endDateObj,o=t.hoveringDateObj;this.hoveringDateObj=o,this.setSelectedDates(n,s)}catch(e){this.hoveringDateObj=null,this.clear()}},onDateMouseEnter:function(e){this.service.isOnlyCanBeEndDateHoverable&&this.checkIsOnlyCanBeEndDate(e)&&(this.infoCode=N),this.hoveringDateObj=e},onDateMouseLeave:function(){this.infoCode=null,this.hoveringDateObj=null},setSelectedDates:function(e,t){(this.startDateObj=this.endDateObj=null,e&&e.isValid()&&this.checkSelectable(e))&&(t?t&&t.isValid()&&(this.service.isNeedToSetStartOnly(e,t)?this.startDateObj=e:this.checkRangeValid(e,t)&&(this.startDateObj=e,this.endDateObj=t)):this.startDateObj=e)},getPreviousDateObj:function(e){return e.clone().subtract(1,"d")},checkIsOnlyCanBeEndDate:function(e){return!!e&&(!this.checkSelectable(e)&&this.checkSelectable(this.getPreviousDateObj(e)))},checkSelectable:function(e){return!!e&&(!r.a.isFunction(this.checkIsValid)||!!this.checkIsValid(e))},checkRangeValid:function(e,t){if(this.errorCode=null,!e||!t)return!1;if(e.isAfter(t,"day"))return!1;for(this.service.setCheckingDate(e.clone());this.service.hasNextCheckingDate(t);){if(!this.checkSelectable(this.service.getCheckingDate()))return this.errorCode=R,!1;this.service.setNextCheckingDate()}var n=this.service.getDateSpan(e,t);return this.minSpan>0&&this.minSpan>n?(this.errorCode=L,!1):!(this.maxSpan>0&&this.maxSpan<n)||(this.errorCode=A,!1)},clear:function(){this.setSelectedDates(null,null)},getCellClass:function(e){if(!e)return[];var t=["cell-date"];return e.isSame(o()(),"day")&&t.push("today"),this.checkSelectable(e)?t.push("selectable"):this.service.isOnlyCanBeEndDateSelectable&&this.checkIsOnlyCanBeEndDate(e)?(t.push("selectable"),t.push("only-select-end")):t.push("disabled"),(e.isSame(this.startDateObj,"day")||e.isBetween(this.startDateObj,this.endDateObj,"day","[]"))&&t.push("selected"),e.isSame(this.startDateObj,"day")&&t.push("selected-start"),e.isSame(this.endDateObj,"day")&&(t.push("selected-end"),this.service.isEndDatePriceDisable&&t.push("cross-out-price")),this.isSelecting&&this.hoveringDateObj&&e.isBetween(this.startDateObj,this.hoveringDateObj,"day","[]")&&(t.push("selecting"),this.errorCode&&t.push("invalid")),t},getCustomizedCellStyle:function(e){return e?e.isSame(this.startDateObj,"day")||e.isSame(this.endDateObj,"day")?this.getWhlbProdElementStyle("date-point"):!this.errorCode&&this.isSelecting&&this.hoveringDateObj&&e.isBetween(this.startDateObj,this.hoveringDateObj,"day","[]")?this.getWhlbProdElementStyle("date-selecting"):e.isBetween(this.startDateObj,this.endDateObj,"day","[]")?this.getWhlbProdElementStyle("date-selected"):e.isSame(o()(),"day")?this.getWhlbProdElementStyle("date-today"):void 0:[]}}},B=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),V=Object(B.a)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"calendar"},[n("div",{staticClass:"header"},[n("div",{staticClass:"current-month"},[e._v("\n\t\t\t"+e._s(e.currentMonthText)+"\n\t\t")]),e._v(" "),n("div",{staticClass:"change-month prev-month",class:{disabled:e.isOnMinMonth},on:{click:e.prevMonth}},[n("i",{staticClass:"icons icon-arrow-left"})]),e._v(" "),n("div",{staticClass:"change-month next-month",class:{disabled:e.isOnMaxMonth},on:{click:e.nextMonth}},[n("i",{staticClass:"icons icon-arrow-right"})])]),e._v(" "),n("div",{staticClass:"table-wrapper"},[n("table",{staticClass:"date-table"},[n("thead",[n("tr",{staticClass:"row-day"},e._l(e.daysName,(function(t){return n("th",{key:t,staticClass:"cell-day"},[e._v("\n\t\t\t\t\t\t"+e._s(t)+"\n\t\t\t\t\t")])})),0)]),e._v(" "),n("tbody",e._l(e.dateRows,(function(t,s){return n("tr",{key:s,staticClass:"row-date"},e._l(t,(function(t,s){return n("td",{key:s,class:t&&e.getCellClass(t),style:e.getCustomizedCellStyle(t),on:{click:function(n){return e.onDateClick(t)},mouseenter:function(n){return e.onDateMouseEnter(t)},mouseleave:function(n){return e.onDateMouseLeave(t)}}},[t?[n("div",{staticClass:"date-num"},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.date())+"\n\t\t\t\t\t\t\t")]),e._v(" "),e.datesInfo?n("div",{class:e.datesInfo[t.date()].class},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.datesInfo[t.date()].text)+"\n\t\t\t\t\t\t\t")]):e._e(),e._v(" "),e.hint&&t.isSame(e.hint.dateObj,"day")?n("div",{staticClass:"tooltip top in"},[n("div",{staticClass:"tooltip-arrow"}),e._v(" "),n("div",{staticClass:"tooltip-inner"},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.hint.text)+"\n\t\t\t\t\t\t\t\t")])]):e._e()]:e._e()],2)})),0)})),0)]),e._v(" "),e.isLoading?[n("div",{staticClass:"loading-backdrop"}),e._v(" "),e._m(0)]:e._e()],2),e._v(" "),e.service.hasClearArea?[e.displaySelectedDate?n("div",{staticClass:"selected-date"},[e._v("\n\t\t\t"+e._s(e.displaySelectedDate)+"\n\t\t\t"),e.isSelected?[n("span",{staticClass:"gap"},[e._v("・")]),e._v("\n\t\t\t\t"+e._s(e.displayDateSpanUnit)+"\n\t\t\t")]:e._e(),e._v(" "),n("span",{staticClass:"clear-input",on:{click:e.clear}},[n("i",{staticClass:"fa fa-times-circle fa-lg"})])],2):e._e()]:e._e()],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loading"},[t("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-spin"})])}],!1,null,null,null);t.a=V.exports},"./resources/pc/js/components/product/newProductDetail/CommentDetail.vue":function(e,t,n){"use strict";n.r(t);n("./node_modules/core-js/modules/es.array.map.js"),n("./resources/pc/sass/components/review_list.scss");var s=n("./resources/pc/js/components/common/ProductStar.vue"),o=n("./resources/pc/js/components/common/LightboxSlideshow.vue"),i=(n("./resources/pc/sass/components/member_tier_label.scss"),{props:{tierCode:{type:String,required:!0}},computed:{tierName:function(){return _.get(kkday.constants.getValue("LOYALTY_TIER_CODE_NAME_MAP"),this.tierCode)}}}),r=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),a=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"member-tier-label",class:["member-tier-label--"+e.tierName]},[n("img",{staticClass:"member-tier-label__icon",attrs:{src:e.kkday.url.staticResourceUrl("assets/img/loyalty/icon_tier_"+e.tierName+".svg")}}),e._v(" "),n("span",[e._v("\n\t\t"+e._s(e.lang("rewards_common_tier_name_"+e.tierName))+"\n\t")])])}),[],!1,null,null,null).exports,c={components:{ProductStar:s.a,LightboxSlideshow:o.a,MemberTierLabel:a},filters:{lightboxPhotoListFormat:function(e){return _.map(e,(function(e){return{url:e.photoUrl}}))}},props:{comment:{type:Object,default:function(){return{}}},translateTarget:{type:String,default:"en"},isPreview:{type:Boolean,default:!1},isHeightFixed:{type:Boolean,default:!1},seperateLine:{type:Boolean,default:!0}},data:function(){return{isShowTranslation:!1,isExpand:this.isHeightFixed,isExpandable:!1}},computed:{isNeedTranslate:function(){return!this.isPreview&&(!_.isEmpty(this.comment.translatedRecDesc)&&!_.isEmpty(this.comment.detectedDescLangCode)&&this.comment.detectedDescLangCode!==this.translateTarget)},memberName:function(){return this.comment.firstName||this.lang("common_default_member_name")},memberPhotoUrl:function(){return kkday.image.convertToWebp(kkday.image.get({path:this.comment.photoUrl,width:"120"}))},translateBtnText:function(){return this.isShowTranslation?this.lang("product_index_show_original_content"):this.lang("product_index_show_translate_content")},expandBtnText:function(){return this.isExpand?this.lang("common_collapse"):this.lang("common_expand")},lightboxId:function(){return _.uniqueId("review-photo-modal-")}},mounted:function(){this.isNeedTranslate&&!this.isShowTranslation?this.toggleTranslation():this.checkExpandable()},methods:{checkExpandable:function(){var e=this.$refs.txtDiv,t=e.cloneNode(!0);t.style.position="absolute",t.style.visibility="hidden",t.style.width="".concat(e.clientWidth,"px"),e.parentNode.appendChild(t),t.classList.add("expand");var n=t.clientHeight;t.classList.remove("expand");var s=t.clientHeight;this.isExpandable=n>s&&!this.isHeightFixed,t.parentNode.removeChild(t)},toggleTranslation:function(){var e=this;this.isShowTranslation=!this.isShowTranslation,this.$nextTick((function(){e.checkExpandable()}))},toPhoto:function(e){this.$refs[this.lightboxId].toIndex(e)}}},u=Object(r.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"review-item",attrs:{"data-recommend-oid":e.comment.recOid}},[n("div",{staticClass:"editor"},[n("div",{staticClass:"editor-logo",style:{backgroundImage:"url("+e.memberPhotoUrl+")"}})]),e._v(" "),n("div",{staticClass:"review-detail"},[n("div",{staticClass:"review-info"},[n("div",{staticClass:"review-info-item"},[n("span",{staticClass:"member-name text-heavy"},[e._v(e._s(e.memberName))]),e._v(" "),e._.includes([e.kkday.constants.getValue("LOYALTY_TIER_CODE_PLATINUM"),e.kkday.constants.getValue("LOYALTY_TIER_CODE_DIAMOND")],e.comment.loyaltyTier)?n("MemberTierLabel",{attrs:{"tier-code":e.comment.loyaltyTier}}):e._e()],1),e._v(" "),n("div",{staticClass:"review-info-item"},[n("ProductStar",{attrs:{"show-star":!0,"star-percentage":e.comment.star_percentage}}),e._v(" "),e.comment.begLstGoDt||e.comment.travellerTypeLang?n("span",[e._v("\n\t\t\t\t\t"+e._s(e._.filter([e.comment.begLstGoDt,e.comment.travellerTypeLang]).join(" · "))+"\n\t\t\t\t")]):e._e()],1),e._v(" "),e.comment.packageName?n("div",{staticClass:"review-info-item"},[e._v("\n\t\t\t\t"+e._s(e.lang("product_index_comment_package_name"))+": "+e._s(e.comment.packageName)+"\n\t\t\t")]):e._e()]),e._v(" "),n("div",{staticClass:"review-content"},[n("div",{ref:"txtDiv",staticClass:"txt",class:{expand:e.isExpand}},[e.comment.recTitle?n("h4",[e._v("\n\t\t\t\t\t"+e._s(e.isShowTranslation?e.comment.translatedRecTitle:e.comment.recTitle)+"\n\t\t\t\t")]):e._e(),e._v(" "),n("p",[e._v(e._s(e.isShowTranslation?e.comment.translatedRecDesc:e.comment.recDesc))]),e._v(" "),e.isExpandable?n("a",{staticClass:"link-secondary readmore",on:{click:function(t){e.isExpand=!e.isExpand}}},[e._v("\n\t\t\t\t\t"+e._s(e.expandBtnText)+"\n\t\t\t\t\t"),n("i",{staticClass:"fa",class:{"fa-angle-down":!e.isExpand,"fa-angle-up":e.isExpand}})]):e._e()]),e._v(" "),e.comment.photoList.length>0?[n("ul",{staticClass:"photo-group"},[e._l(e.comment.photoList,(function(t,s){return n("li",{key:s,staticClass:"photo-item",attrs:{"data-target":"#review-"+e.comment.recOid+"-photo-modal","data-toggle":"modal"},on:{click:function(t){return e.toPhoto(s)}}},[n("div",{staticClass:"img-bg",style:{backgroundImage:"url("+e.kkday.image.convertToWebp(e.kkday.image.get({path:t.photoUrl,width:"140",height:"105",crop:"fill"}))+")"},attrs:{"data-target":"#"+e.lightboxId,"data-toggle":"modal"}})])})),e._v(" "),n("li",{staticClass:"clearfix"})],2),e._v(" "),n("LightboxSlideshow",{ref:e.lightboxId,attrs:{"modal-id":e.lightboxId,"photo-list":e._f("lightboxPhotoListFormat")(e.comment.photoList),"lazy-load-eager":1}},[n("div",{staticClass:"editor editor-inline",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"editor-logo",style:{backgroundImage:"url("+e.memberPhotoUrl+")"}}),e._v(" "),n("div",{staticClass:"title text-white"},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.memberName)+"\n\t\t\t\t\t\t")])])])]:e._e(),e._v(" "),e.isNeedTranslate?n("img",{directives:[{name:"show",rawName:"v-show",value:e.isShowTranslation,expression:"isShowTranslation"}],staticClass:"logo-google pull-right",attrs:{src:e.kkday.url.staticResourceUrl("assets/img/google_logo_grey.png")}}):e._e()],2),e._v(" "),e.isNeedTranslate?n("div",{staticClass:"review-footer"},[n("a",{staticClass:"link-secondary",on:{click:function(t){return t.preventDefault(),e.toggleTranslation.apply(null,arguments)}}},[e._v(e._s(e.translateBtnText))])]):e._e(),e._v(" "),e.seperateLine?n("hr"):e._e()])])}),[],!1,null,null,null);t.default=u.exports},"./resources/pc/js/components/product/newProductDetail/CommentLoading.vue":function(e,t,n){"use strict";var s=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),o=Object(s.a)({},(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"loading-card"},[n("li",{staticClass:"review-item"},[n("div",{staticClass:"editor"},[n("div",{staticClass:"editor-logo"})]),e._v(" "),n("div",{staticClass:"review-detail fake"},[n("div",{staticClass:"mask mask-1"}),e._v(" "),n("div",{staticClass:"mask mask-2"}),e._v(" "),n("div",{staticClass:"mask mask-3"}),e._v(" "),n("div",{staticClass:"mask mask-4"}),e._v(" "),n("div",{staticClass:"mask mask-5"}),e._v(" "),n("div",{staticClass:"mask mask-6"}),e._v(" "),n("div",{staticClass:"mask mask-7"}),e._v(" "),n("div",{staticClass:"mask mask-8"})]),e._v(" "),n("div",{staticClass:"clearfix"})])])}],!1,null,null,null);t.a=o.exports},"./resources/pc/js/components/product/newProductDetail/CouponList.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponListCard.vue?vue&type=script&lang=js&").a,i=(n("./resources/pc/js/components/product/newProductDetail/CouponListCard.vue?vue&type=style&index=0&id=e6e83fa6&scoped=true&lang=scss&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),r=Object(i.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutList",{staticClass:"coupon-list-card",attrs:{gap:"3",padding:"5"}},[n("LayoutFlexRow",{staticClass:"coupon-list-card__head",attrs:{gap:"5"},scopedSlots:e._u([{key:"remain",fn:function(){return[n("div",{staticClass:"coupon-list-card__amount"},[e._v("\n\t\t\t\t"+e._s(e.couponData.discountAmountText)+"\n\t\t\t")])]},proxy:!0},{key:"right",fn:function(){return[e.couponData.claimed?n("button",{staticClass:"btn btn-use btn-sm",on:{click:e.handleUseCouponClick}},[e._v("\n\t\t\t\t"+e._s(e.lang("product_index_use_coupon"))+"\n\t\t\t")]):n("button",{staticClass:"btn btn-primary btn-sm",class:{disabled:e.isCouponRetaining},on:{click:function(t){return e.handleClaimCouponClick(e.couponData.code)}}},[e._v("\n\t\t\t\t"+e._s(e.lang("product_index_claim_coupon"))+"\n\t\t\t\t"),n("i",{directives:[{name:"show",rawName:"v-show",value:e.isCouponRetaining,expression:"isCouponRetaining"}],staticClass:"fa fa-circle-o-notch fa-spin"})])]},proxy:!0}])}),e._v(" "),n("LayoutList",{attrs:{gap:"2"}},[n("div",{staticClass:"coupon-list-card__description"},[e._v("\n\t\t\t"+e._s(e.couponData.discountDescription)+"\n\t\t")]),e._v(" "),n("div",{staticClass:"coupon-list-card__title"},[e._v("\n\t\t\t"+e._s(e.couponData.title)+"\n\t\t")]),e._v(" "),n("div",{staticClass:"coupon-list-card__valid"},[e._.isEmpty(e.couponData.orderDateTimeCountdownText)?n("div",[e._v("\n\t\t\t\t"+e._s(e.couponData.orderDateTimeText)+"\n\t\t\t")]):n("div",{staticClass:"coupon-list-card__valid--critical"},[e._v("\n\t\t\t\t"+e._s(e.couponData.orderDateTimeCountdownText)+"\n\t\t\t")])])])],1)}),[],!1,null,"e6e83fa6",null).exports;function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var u=Object.defineProperty,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=function(e,t,n){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},f=function(e,t){for(var n in t||(t={}))d.call(t,n)&&p(e,n,t[n]);if(l){var s,o=a(l(t));try{for(o.s();!(s=o.n()).done;){n=s.value;m.call(t,n)&&p(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},h={name:"CouponList",components:{CouponListCard:r},computed:f(f({},Object(s.e)("newProduct/coupon",["couponList"])),Object(s.e)("newProduct",["prodInfo"])),created:function(){this.ajaxGetCouponList(this.prodInfo.prod_oid)},methods:f(f({},Object(s.d)("newProduct/coupon",["updateIsShowCouponList","updateIsAutoCloseCouponList"])),Object(s.b)("newProduct/coupon",["ajaxGetCouponList"]))},_=(n("./resources/pc/js/components/product/newProductDetail/CouponList.vue?vue&type=style&index=0&id=7cd6f4db&scoped=true&lang=scss&"),Object(i.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown-menu dropdown-menu-right"},[n("LayoutList",{staticClass:"coupon-list",attrs:{"padding-x":"5",gap:"4","horizontal-align":"left"},on:{mouseenter:function(t){return e.updateIsAutoCloseCouponList(!0)},mouseleave:function(t){return e.updateIsShowCouponList(!1)}}},e._l(e.couponList,(function(e,t){return n("CouponListCard",{key:t,attrs:{"coupon-data":e}})})),1)],1)}),[],!1,null,"7cd6f4db",null));t.a=_.exports},"./resources/pc/js/components/product/newProductDetail/CouponList.vue?vue&type=style&index=0&id=7cd6f4db&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponList.vue?vue&type=style&index=0&id=7cd6f4db&scoped=true&lang=scss&")},"./resources/pc/js/components/product/newProductDetail/CouponListCard.vue?vue&type=style&index=0&id=e6e83fa6&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponListCard.vue?vue&type=style&index=0&id=e6e83fa6&scoped=true&lang=scss&")},"./resources/pc/js/components/product/newProductDetail/CouponSection.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o={name:"CouponTicket"},i=(n("./resources/pc/js/components/product/newProductDetail/CouponTicket.vue?vue&type=style&index=0&id=69cd3b2f&scoped=true&lang=scss&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),r=Object(i.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"coupon-ticket"},[t("LayoutAlign",{staticClass:"coupon-ticket__container",attrs:{"horizontal-align":"center","vertical-align":"center","padding-left":"4","padding-right":"4"}},[t("div",{staticClass:"coupon-ticket__content"},[this._t("default")],2)])],1)}),[],!1,null,"69cd3b2f",null).exports,a=(n("./node_modules/core-js/modules/es.promise.js"),{name:"CouponTextIcon",components:{SVGUse:function(){return n.e(124).then(n.bind(null,"./resources/pc/js/components/common/SVGUse.vue"))}},props:{iconName:{type:String,default:""}}}),c=(n("./resources/pc/js/components/product/newProductDetail/CouponTextIcon.vue?vue&type=style&index=0&id=18aff48a&scoped=true&lang=scss&"),Object(i.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("LayoutListInline",{staticClass:"coupon-text-icon",attrs:{gap:"2"}},[t("div",{staticClass:"coupon-text-icon__text"},[this._t("default")],2),this._v(" "),t("SVGUse",{staticClass:"coupon-text-icon__icon",attrs:{name:"#v2_"+this.iconName,width:"8",height:"8"}})],1)}),[],!1,null,"18aff48a",null).exports);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var d=Object.defineProperty,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=function(e,t,n){return t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_={name:"CouponSection",components:{CouponTicket:r,CouponTextIcon:c},computed:function(e,t){for(var n in t||(t={}))p.call(t,n)&&h(e,n,t[n]);if(m){var s,o=u(m(t));try{for(o.s();!(s=o.n()).done;){n=s.value;f.call(t,n)&&h(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e}({firstTwoCoupons:function(){return this.couponList.slice(0,2)}},Object(s.e)("newProduct/coupon",["couponList"]))},g=(n("./resources/pc/js/components/product/newProductDetail/CouponSection.vue?vue&type=style&index=0&id=5cf7fb50&scoped=true&lang=scss&"),Object(i.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutFlexRow",{staticClass:"coupon-section",attrs:{gap:"6","vertical-align":"center"},scopedSlots:e._u([{key:"remain",fn:function(){return[n("div",{staticClass:"coupon-section__coupon-list"},[e._l(e.firstTwoCoupons,(function(t,s){return[n("CouponTicket",{key:s},[e._v("\n\t\t\t\t\t"+e._s(t.discountAmountText)+"\n\t\t\t\t")])]}))],2)]},proxy:!0},{key:"right",fn:function(){return[n("CouponTextIcon",{staticClass:"kk-u-content-fill-height",attrs:{"icon-name":"ic_arrow_down"}},[e._v("\n\t\t\t"+e._s(e.lang("product_index_coupon"))+"\n\t\t")])]},proxy:!0}])})}),[],!1,null,"5cf7fb50",null));t.a=g.exports},"./resources/pc/js/components/product/newProductDetail/CouponSection.vue?vue&type=style&index=0&id=5cf7fb50&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponSection.vue?vue&type=style&index=0&id=5cf7fb50&scoped=true&lang=scss&")},"./resources/pc/js/components/product/newProductDetail/CouponTextIcon.vue?vue&type=style&index=0&id=18aff48a&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponTextIcon.vue?vue&type=style&index=0&id=18aff48a&scoped=true&lang=scss&")},"./resources/pc/js/components/product/newProductDetail/CouponTicket.vue?vue&type=style&index=0&id=69cd3b2f&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/CouponTicket.vue?vue&type=style&index=0&id=69cd3b2f&scoped=true&lang=scss&")},"./resources/pc/js/components/product/newProductDetail/ExchangeValid.vue":function(e,t,n){"use strict";var s={name:"ExchangeValid",props:{moduleData:{type:Object,default:function(){return{}}},voucherExchangeData:{type:Array,default:function(){return[]}}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[e._.isEmpty(e.voucherExchangeData)?[e.moduleData.properties.exchange?n("li",[e._v("\n\t\t\t"+e._s(e.moduleData.properties.exchange.desc)+"\n\t\t")]):e._e(),e._v(" "),e.moduleData.properties.exchange_description?n("li",[e._v("\n\t\t\t"+e._s(e.moduleData.properties.exchange_description.desc)+"\n\t\t")]):e._e(),e._v(" "),e.moduleData.properties.expired?n("li",[e._v("\n\t\t\t"+e._s(e.moduleData.properties.expired.desc)+"\n\t\t")]):e._e()]:e._e(),e._v(" "),e._l(e.voucherExchangeData,(function(t){return n("li",{key:t.id},[e._v("\n\t\t"+e._s(t.title)+" : "+e._s(t.content)+"\n\t")])}))],2)}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/FakeCouponElement.vue":function(e,t,n){"use strict";var s={name:"FakeCouponElement"},o=(n("./resources/pc/js/components/product/newProductDetail/FakeCouponElement.vue?vue&type=style&index=0&id=c5a30c90&scoped=true&lang=scss&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(o.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fake-coupon-element"},[t("LayoutFlexRow",{staticClass:"fake-coupon-section",attrs:{gap:"6"},scopedSlots:this._u([{key:"remain",fn:function(){return[t("div",{staticClass:"fake fake-coupon-section__mask1"})]},proxy:!0},{key:"right",fn:function(){return[t("div",{staticClass:"fake fake-coupon-section__mask2"})]},proxy:!0}])})],1)}),[],!1,null,"c5a30c90",null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/FakeCouponElement.vue?vue&type=style&index=0&id=c5a30c90&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/FakeCouponElement.vue?vue&type=style&index=0&id=c5a30c90&scoped=true&lang=scss&")},"./resources/pc/js/components/product/newProductDetail/Fee.vue":function(e,t,n){"use strict";var s={name:"Fee",props:{moduleData:{type:Object,default:function(){return{}}}},data:function(){return{includeItem:this.moduleData.properties.include_item,notIncludeItem:this.moduleData.properties.not_include_item}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row"},[e.includeItem?n("div",{staticClass:"col-md-6"},[n("ul",{staticClass:"price-include"},e._l(e.includeItem.list,(function(t,s){return n("li",{key:s},[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_include.svg")}}),e._v(e._s(t.desc)+"\n\t\t\t")])})),0)]):e._e(),e._v(" "),e.notIncludeItem?n("div",{staticClass:"col-md-6"},[n("ul",{staticClass:"price-not"},e._l(e.notIncludeItem.list,(function(t,s){return n("li",{key:s},[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_notinclude.svg")}}),e._v(e._s(t.desc)+"\n\t\t\t")])})),0)]):e._e()])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/OptionItem.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ItemBlock.vue?vue&type=script&lang=js&").a,i=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),r=Object(i.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item"},[n("h4",[e.getElementRenderState("resetBtn")?n("div",{staticClass:"pull-right"},[n("a",{staticClass:"link-secondary",on:{click:e.resetSelection}},[n("i",{staticClass:"icons icon-reload"}),e._v(" "+e._s(e.lang("common_reset_options"))+"\n\t\t\t")])]):e._e(),e._v("\n\t\t"+e._s(e.lang("product_index_select_date_options"))+"\n\t")]),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{ref:"form-group-date",staticClass:"form-group"},[n("label",[e._v("\n\t\t\t\t\t"+e._s(e.lang("product_index_go_date_option_title_"+e._.get(e.product,"go_date_description_type")))+"\n\t\t\t\t\t"),e.isProdMultiDate?[e._v("\n\t\t\t\t\t\t"+e._s(e.packageDateHint)+"\n\t\t\t\t\t")]:e._e()],2),e._v(" "),e.isShowError&&!e.validation.checkList.date.isValid?n("span",{staticClass:"tip text-danger"},[e._v(e._s(e.validation.checkList.date.errorMsg))]):e._e(),e._v(" "),n("Calendar",{attrs:{"lang-code":e.langInfo.lang,"initial-date":e.calendarInitialDate,"check-is-valid":e.checkIsDateValid,"get-info":e.getPriceInfo,"min-date":e.minCalendarDate,"max-date":e.maxCalendarDate,"min-span":e.isProdMultiDate?e._.get(e.product,"go_date_setting.days.min"):null,"max-span":e.isProdMultiDate?e._.get(e.product,"go_date_setting.days.max"):null,"date-format":e.dateFormat,"is-loading":e.isCalendarLoading,mode:e.calendarMode},on:{"month-changed":e.onCalendarMonthChanged},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}}),e._v(" "),e.getElementRenderState("calendarPriceHint")?n("div",{staticClass:"tip text-grey"},[n("i",{staticClass:"icons icon-info"}),e._v(e._s(e.printf(e.lang("product_index_price_currency_hint"),[e.currencyFormat(e.member.currency)]))+"\n\t\t\t\t")]):e._e()],1)]),e._v(" "),n("div",{staticClass:"col-md-6"},[e.hasEvent?n("div",{ref:"form-group-event",staticClass:"form-group"},[n("label",[e._v(e._s(e.eventTitle))]),e._v(" "),e.isShowError&&!e.validation.checkList.event.isValid?n("span",{staticClass:"tip text-danger"},[e._v(e._s(e.validation.checkList.event.errorMsg))]):e._e(),e._v(" "),e.events.length>14?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("DropdownSelect",{attrs:{options:e.eventOptions},model:{value:e.selectedEvent,callback:function(t){e.selectedEvent=t},expression:"selectedEvent"}},[n("span",{attrs:{slot:"placeholder"},slot:"placeholder"},[n("i",{staticClass:"icons icon-clock"}),e._v(" "),n("span",[e._v(e._s(e.lang("common_select_set")))])])])],1)]):n("div",{staticClass:"btn-group",attrs:{"data-toggle":"buttons"}},e._l(e.events,(function(t){return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:e.getEventDisabledHint(t),expression:"getEventDisabledHint(eventTime)",arg:"top"}],key:t,staticClass:"btn",class:{selected:e.selectedEvent===t,disabled:!e.checkIsEventValid(t)},style:e.selectedEvent===t?e.getWhlbProdElementStyle("button-selected"):"",on:{click:function(n){return e.onClickEvent(t)}}},[e.checkIsInventoryWarningShow(t)?n("i",{staticClass:"fa fa-exclamation-triangle text-success",attrs:{"aria-hidden":"true"}}):e._e(),e._v("\n\t\t\t\t\t\t"+e._s(t)+"\n\t\t\t\t\t")])})),0),e._v(" "),e.isShowEventAlmostSoldout?n("div",{staticClass:"mt-10"},[n("i",{staticClass:"fa fa-exclamation-triangle text-success",attrs:{"aria-hidden":"true"}}),e._v("\n\t\t\t\t\t"+e._s(e.eventAlmostSoldOutText)+"\n\t\t\t\t")]):e._e()]):e._e(),e._v(" "),e._l(e.singleChoiceDisplaySpecs,(function(t){return n("div",{key:t.spec_oid,ref:"form-group-spec-"+t.spec_oid,refInFor:!0,staticClass:"form-group"},[n("label",[e._v(e._s(t.spec_title))]),e._v(" "),e.isShowError&&!e.validation.checkList["spec-"+t.spec_oid].isValid?n("span",{staticClass:"tip text-danger"},[e._v(e._s(e.validation.checkList["spec-"+t.spec_oid].errorMsg))]):e._e(),e._v(" "),n("div",{staticClass:"btn-group",attrs:{"data-toggle":"buttons"}},e._l(t.spec_items,(function(s){return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:e.getSpecDisabledHint(t.spec_oid,s.spec_item_oid),expression:"getSpecDisabledHint(spec.spec_oid, specItem.spec_item_oid)",arg:"top"}],key:s.spec_item_oid,staticClass:"btn",class:{selected:e.selectedFormattedSpec[t.spec_oid]===s.spec_item_oid,disabled:!e.checkIsSpecValid(t.spec_oid,s.spec_item_oid)},style:e.selectedFormattedSpec[t.spec_oid]===s.spec_item_oid?e.getWhlbProdElementStyle("button-selected"):"",on:{click:function(n){return e.onClickSpec(t.spec_oid,s.spec_item_oid)}}},[e._v("\n\t\t\t\t\t\t"+e._s(s.name)+"\n\t\t\t\t\t")])})),0)])})),e._v(" "),n("div",{ref:"form-group-amount",staticClass:"form-group"},[n("label",[e._v(e._s(e.lang("product_index_quantity_title")))]),e._v(" "),e.isShowError&&!e.validation.checkList.amount.isValid?n("span",{staticClass:"tip text-danger"},[e._v(e._s(e.validation.checkList.amount.errorMsg))]):e._e(),e._v(" "),e._l(e.amountOptions,(function(t,s){return n("div",{key:s,staticClass:"counter-item"},[n("div",{staticClass:"counter-row"},[n("div",{staticClass:"counter-name"},[e._v("\n\t\t\t\t\t\t\t"+e._s(t.name)+"\n\t\t\t\t\t\t\t"),t.rule?n("span",{staticClass:"text-grey-light text-xs"},[e._v("("+e._s(t.rule)+")")]):e._e()]),e._v(" "),n("div",{staticClass:"counter-price"},[t.isEnabled&&t.isSufficient?[+t.officialPrice?n("OriginPrice",{attrs:{currency:e.member.currency,"origin-price":t.officialPrice,"sale-price":t.lowestPrice}}):e._e(),e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.lowestPrice!==t.highestPrice?e.printf(e.lang("common_price_from"),[t.formattedPrice]):t.formattedPrice)+"/"+e._s(e.lang("product_index_unit2_"+e.item.unit))+"\n\t\t\t\t\t\t\t")]:t.isSufficient?[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.lang("product_index_option_not_available"))+"\n\t\t\t\t\t\t\t")]:[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.lang("product_index_insufficient"))+"\n\t\t\t\t\t\t\t")]],2),e._v(" "),n("div",{staticClass:"counter"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:t.isMinusEnabled?null:t.disabledHintMinus,expression:"option.isMinusEnabled ? null : option.disabledHintMinus",arg:"top"}],staticClass:"counter-btn",class:{disabled:!t.isMinusEnabled},style:e.getWhlbProdElementStyle("button-counter"),on:{click:function(n){t.isMinusEnabled&&(e.amount[s]-=t.increment)}}},[n("i",{staticClass:"icons icon-minus"})]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.amount[s],expression:"amount[optionOid]"}],staticClass:"counter-num",attrs:{type:"text",readonly:""},domProps:{value:e.amount[s]},on:{input:function(t){t.target.composing||e.$set(e.amount,s,t.target.value)}}}),e._v(" "),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:t.isPlusEnabled?null:t.disabledHintPlus,expression:"option.isPlusEnabled ? null : option.disabledHintPlus",arg:"top"}],staticClass:"counter-btn",class:{disabled:!t.isPlusEnabled},style:e.getWhlbProdElementStyle("button-counter"),on:{click:function(n){t.isPlusEnabled&&(e.amount[s]+=t.increment)}}},[n("i",{staticClass:"icons icon-plus"})])])]),e._v(" "),e.isShowError&&!e.validation.checkList[s].isValid?n("div",{staticClass:"tip text-danger text-right"},[e._v("\n\t\t\t\t\t\t"+e._s(e.validation.checkList[s].errorMsg)+"\n\t\t\t\t\t")]):e._e()])}))],2),e._v(" "),n("hr"),e._v(" "),e.getElementRenderState("pointBonusCheckoutBanner")?n("PointBonusCheckoutBanner",{attrs:{"ui-data":e.pointBonusData,"is-loading":e.isLoadingPointBonus}}):e._e(),e._v(" "),e.getElementRenderState("price")?n("div",[n("span",{staticClass:"text-grey pull-left"},[e._v(e._s(e.lang("common_total")))]),e._v(" "),n("span",{staticClass:"product-pricing text-lg text-primary pull-right"},[e._v(e._s(e._f("currencyFormat")(e.member.currency))+" "+e._s(e.priceFormat(e.priceTotal,e.member.currency)))]),e._v(" "),e.isProdMultiDate?n("div",{staticClass:"tip text-grey"},[n("i",{staticClass:"icons icon-info"}),e._v(e._s(e.item.price_rule_type===e.kkday.constants.getValue("PRODUCT_PRICE_RULE_TYPE_MULTIPLY")?e.lang("product_index_price_by_multiply"):e.lang("product_index_price_by_accumulate"))+"\n\t\t\t\t")]):e._e(),e._v(" "),n("div",{staticClass:"clearfix"})]):e._e(),e._v(" "),e.getElementRenderState("kkPoint")?n("div",[n("span",{staticClass:"text-grey pull-left"},[e._v("KKday Points")]),e._v(" "),n("div",{staticClass:"product-pricing text-md text-warning pull-right"},[n("img",{staticClass:"ic-point",attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_kkpoint.svg"),alt:""}}),e._v(" "),e.isLoadingPointBonus?n("i",{staticClass:"fa fa-circle-o-notch fa-spin text-grey-light"}):[e._v("\n\t\t\t\t\t\t"+e._s(e.extraOrderPoints)+"\n\t\t\t\t\t")]],2),e._v(" "),n("div",{staticClass:"clearfix"})]):e._e(),e._v(" "),e._.get(e.prodSetting,"preview_token")?e._e():n("div",{staticClass:"booking-cta"},[e.getElementRenderState("addToCartBtn")?n("Button",{staticClass:"booking-cta__button",attrs:{theme:"blue","is-disabled":e.isAddToCartLoading},nativeOn:{click:function(t){return e.addToCart.apply(null,arguments)}}},[e._v("\n\t\t\t\t\t"+e._s(e.lang("cart_index_add_into_cart"))+"\n\t\t\t\t\t"),e.isAddToCartLoading?n("i",{staticClass:"fa fa-circle-o-notch fa-spin"}):e._e()]):e._e(),e._v(" "),e.getElementRenderState("bookNowBtn")?n("WhlbSettingButton",{staticClass:"booking-cta__button",attrs:{theme:"primary","is-disabled":e.isGoToBookLoading},nativeOn:{click:function(t){return e.goToBook.apply(null,arguments)}}},[e._v("\n\t\t\t\t\t"+e._s(e.lang("common_booking"))+"\n\t\t\t\t\t"),e.isGoToBookLoading?n("i",{staticClass:"fa fa-circle-o-notch fa-spin"}):e._e()]):e._e(),e._v(" "),e.getElementRenderState("redeemNowBtn")?n("Button",{staticClass:"booking-cta__button",attrs:{theme:"primary","is-disabled":e.isGoToRedeemLoading},nativeOn:{click:function(t){return e.goToRedeem.apply(null,arguments)}}},[e._v("\n\t\t\t\t\t"+e._s(e.lang("common_redeem_now"))+"\n\t\t\t\t\t"),e.isGoToRedeemLoading?n("i",{staticClass:"fa fa-circle-o-notch fa-spin"}):e._e()]):e._e()],1)],2)])])}),[],!1,null,null,null).exports,a=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ItemBlockV2.vue?vue&type=script&lang=js&").a,c=Object(i.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"option_item__sku"},[n("div",{staticClass:"sku-top"},[n("h5",{staticClass:"sku-top__title"},[e._v("\n\t\t\t"+e._s(e.skuTopTitle)+"\n\t\t")]),e._v(" "),n("a",{staticClass:"sku-top__reset",on:{click:e.resetSelection}},[n("i",{staticClass:"icons icon-reload"}),e._v(" "+e._s(e.lang("common_reset_options"))+"\n\t\t")])]),e._v(" "),n("div",{staticClass:"sku-list"},[e.hasEvent?n("div",{ref:"form-group-event",staticClass:"form-group sku-item"},[n("h5",{staticClass:"sku-item__title"},[e._v("\n\t\t\t\t"+e._s(e.eventTitle)+"\n\t\t\t\t"),e.isShowError&&!e.validation.checkList.event.isValid?n("span",{staticClass:"tip text-danger"},[e._v(" "+e._s(e.validation.checkList.event.errorMsg))]):e._e()]),e._v(" "),n("div",{staticClass:"sku-item__option"},e._l(e.events,(function(t){return n("button",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:e.getEventDisabledHint(t),expression:"getEventDisabledHint(eventTime)",arg:"top"}],key:t,staticClass:"item",class:{active:e.selectedEvent===t,disabled:!e.checkIsEventValid(t)},style:e.selectedEvent===t?e.getWhlbProdElementStyle("button-border-selected"):e.getWhlbProdElementStyle("button-border-unselected"),on:{click:function(n){return e.onClickEvent(t)}}},[e._v("\n\t\t\t\t\t"+e._s(t)+"\n\t\t\t\t")])})),0)]):e._e(),e._v(" "),e._l(e.singleChoiceDisplaySpecs,(function(t){return n("div",{key:t.spec_oid,ref:"form-group-spec-"+t.spec_oid,refInFor:!0,staticClass:"form-group sku-item"},[n("h5",{staticClass:"sku-item__title"},[e._v("\n\t\t\t\t"+e._s(t.spec_title)+"\n\t\t\t\t"),e.isShowError&&!e.validation.checkList["spec-"+t.spec_oid].isValid?n("span",{staticClass:"tip text-danger"},[e._v(" "+e._s(e.validation.checkList["spec-"+t.spec_oid].errorMsg))]):e._e()]),e._v(" "),n("div",{staticClass:"sku-item__option"},e._l(t.spec_items,(function(s){return n("button",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:e.getSpecDisabledHint(t.spec_oid,s.spec_item_oid),expression:"getSpecDisabledHint(spec.spec_oid, specItem.spec_item_oid)",arg:"top"}],key:s.spec_item_oid,staticClass:"item",class:{active:e.selectedFormattedSpec[t.spec_oid]===s.spec_item_oid,disabled:!e.checkIsSpecValid(t.spec_oid,s.spec_item_oid)},style:e.selectedFormattedSpec[t.spec_oid]===s.spec_item_oid?e.getWhlbProdElementStyle("button-border-selected"):e.getWhlbProdElementStyle("button-border-unselected"),on:{click:function(n){return e.onClickSpec(t.spec_oid,s.spec_item_oid)}}},[e._v("\n\t\t\t\t\t"+e._s(s.name)+"\n\t\t\t\t")])})),0)])})),e._v(" "),n("div",{ref:"form-group-amount",staticClass:"form-group sku-item"},[n("h5",{staticClass:"sku-item__title"},[e._v("\n\t\t\t\t"+e._s(e.lang("product_index_quantity_title"))+"\n\t\t\t\t"),e.isShowError&&!e.validation.checkList.amount.isValid?n("span",{staticClass:"tip text-danger"},[e._v(e._s(e.validation.checkList.amount.errorMsg))]):e._e()]),e._v(" "),n("div",{staticClass:"amount-list"},e._l(e.amountOptions,(function(t,s){return n("div",{key:s,staticClass:"amount-item"},[n("div",{staticClass:"amount-title__name"},[e._v("\n\t\t\t\t\t\t"+e._s(t.name)+" "),t.rule?n("span",{staticClass:"amount-title__info"},[e._v("("+e._s(t.rule)+")")]):e._e()]),e._v(" "),n("div",{staticClass:"amount-price"},[t.isEnabled&&t.isSufficient?[+t.officialPrice?n("OriginPrice",{attrs:{currency:e.member.currency,"origin-price":t.officialPrice,"sale-price":t.lowestPrice}}):e._e(),e._v(" "),n("span",{staticClass:"amount-price__sale"},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.lowestPrice!==t.highestPrice?e.printf(e.lang("common_price_from"),[t.formattedPrice]):t.formattedPrice)+"/"+e._s(e.lang("product_index_unit2_"+e.item.unit))+"\n\t\t\t\t\t\t\t")])]:t.isSufficient?[e._v("\n\t\t\t\t\t\t\t"+e._s(e.lang("product_index_option_not_available"))+"\n\t\t\t\t\t\t")]:[e._v("\n\t\t\t\t\t\t\t"+e._s(e.lang("product_index_insufficient"))+"\n\t\t\t\t\t\t")]],2),e._v(" "),n("div",{staticClass:"amount-tool"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:t.isMinusEnabled?null:t.disabledHintMinus,expression:"option.isMinusEnabled ? null : option.disabledHintMinus",arg:"top"}],staticClass:"amount-btn",class:{disabled:!t.isMinusEnabled},style:e.getWhlbProdElementStyle("button-counter"),on:{click:function(n){t.isMinusEnabled&&(e.amount[s]-=t.increment)}}},[n("i",{staticClass:"icons icon-minus"})]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.amount[s],expression:"amount[optionOid]"}],staticClass:"amount-num",attrs:{type:"text",readonly:""},domProps:{value:e.amount[s]},on:{input:function(t){t.target.composing||e.$set(e.amount,s,t.target.value)}}}),e._v(" "),n("button",{directives:[{name:"tooltip",rawName:"v-tooltip:top",value:t.isPlusEnabled?null:t.disabledHintPlus,expression:"option.isPlusEnabled ? null : option.disabledHintPlus",arg:"top"}],staticClass:"amount-btn add",class:{disabled:!t.isPlusEnabled},style:e.getWhlbProdElementStyle("button-counter"),on:{click:function(n){t.isPlusEnabled&&(e.amount[s]+=t.increment)}}},[n("i",{staticClass:"icons icon-plus"})])]),e._v(" "),e.isShowError&&!e.validation.checkList[s].isValid?n("div",{staticClass:"tip text-danger text-right"},[e._v("\n\t\t\t\t\t\t"+e._s(e.validation.checkList[s].errorMsg)+"\n\t\t\t\t\t")]):e._e()])})),0)])],2),e._v(" "),n("div",{staticClass:"sku-bottom"},[n("div",{staticClass:"sku-bottom__info"},[e.getElementRenderState("pointBonusCheckoutBanner")?n("PointBonusCheckoutBanner",{attrs:{"ui-data":e.pointBonusData,"is-loading":e.isLoadingPointBonus}}):e._e(),e._v(" "),e.getElementRenderState("price")?n("div",{staticClass:"total-price"},[n("span",{staticClass:"total-price__title"},[e._v(e._s(e.lang("common_total")))]),e._v(" "),n("span",{staticClass:"total-price__price"},[e._v(e._s(e._f("currencyFormat")(e.kkday.constants.getValue("CURRENCY")))+" "+e._s(e.priceFormat(e.priceTotal,e.member.currency)))]),e._v(" "),e.isProdMultiDate?n("div",{staticClass:"total-price__info"},[n("i",{staticClass:"icons icon-info"}),e._v(e._s(e.item.price_rule_type===e.kkday.constants.getValue("PRODUCT_PRICE_RULE_TYPE_MULTIPLY")?e.lang("product_index_price_by_multiply"):e.lang("product_index_price_by_accumulate")))]):e._e()]):e._e(),e._v(" "),e.getElementRenderState("kkPoint")?n("div",[n("span",{staticClass:"text-grey",style:e.getWhlbProdElementStyle("item-point-text")},[e._v("KKday Points")]),e._v(" "),n("div",{staticClass:"product-pricing text-md text-warning pull-right"},[n("img",{staticClass:"ic-point",attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_kkpoint.svg"),alt:""}}),e._v(" "),e.isLoadingPointBonus?n("i",{staticClass:"fa fa-circle-o-notch fa-spin text-grey-light"}):[e._v("\n\t\t\t\t\t\t"+e._s(e.extraOrderPoints)+"\n\t\t\t\t\t")]],2),e._v(" "),n("div",{staticClass:"clearfix"})]):e._e()],1),e._v(" "),e._.get(e.prodSetting,"preview_token")?e._e():n("div",{staticClass:"booking-cta"},[e.getElementRenderState("addToCartBtn")?n("Button",{staticClass:"kk-btn-cta",attrs:{theme:"blue","is-disabled":e.isAddToCartLoading},nativeOn:{click:function(t){return e.addToCart.apply(null,arguments)}}},[e._v("\n\t\t\t\t"+e._s(e.lang("cart_index_add_into_cart"))+"\n\t\t\t\t"),e.isAddToCartLoading?n("i",{staticClass:"fa fa-circle-o-notch fa-spin"}):e._e()]):e._e(),e._v(" "),e.getElementRenderState("bookNowBtn")?n("WhlbSettingButton",{staticClass:"kk-btn-cta",attrs:{theme:"primary","is-disabled":e.isGoToBookLoading},nativeOn:{click:function(t){return e.goToBook.apply(null,arguments)}}},[e._v("\n\t\t\t\t"+e._s(e.lang("common_booking"))+"\n\t\t\t\t"),e.isGoToBookLoading?n("i",{staticClass:"fa fa-circle-o-notch fa-spin"}):e._e()]):e._e(),e._v(" "),e.getElementRenderState("redeemNowBtn")?n("Button",{staticClass:"kk-btn-cta",attrs:{theme:"primary","is-disabled":e.isGoToRedeemLoading},nativeOn:{click:function(t){return e.goToRedeem.apply(null,arguments)}}},[e._v("\n\t\t\t\t"+e._s(e.lang("common_redeem_now"))+"\n\t\t\t\t"),e.isGoToRedeemLoading?n("i",{staticClass:"fa fa-circle-o-notch fa-spin"}):e._e()]):e._e()],1)])])}),[],!1,null,null,null).exports,u={name:"PackageModuleContent",props:{title:{type:String,default:""},isFirstItem:{type:Boolean,default:!1}}},l=Object(i.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isFirstItem?e._e():n("hr"),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-2"},[n("h5",[e._v(e._s(e.title))])]),e._v(" "),n("div",{staticClass:"col-md-10"},[e._t("default")],2)])])}),[],!1,null,null,null).exports,d=n("./resources/pc/js/components/product/newProductDetail/Fee.vue"),m=n("./resources/pc/js/components/product/newProductDetail/UseValid.vue"),p=n("./resources/pc/js/components/product/newProductDetail/ExchangeValid.vue"),f=n("./resources/pc/js/components/product/newProductDetail/RefundPolicy.vue"),h=n("./resources/pc/js/components/product/newProductDetail/WifiSimSpecBoard.vue");function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var y=Object.defineProperty,b=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,S=function(e,t,n){return t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},w=function(e,t){for(var n in t||(t={}))j.call(t,n)&&S(e,n,t[n]);if(b){var s,o=g(b(t));try{for(o.s();!(s=o.n()).done;){n=s.value;k.call(t,n)&&S(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},P={components:{PackageModuleContent:l,Fee:d.a,UseValid:m.a,ExchangeValid:p.a,RefundPolicy:f.a,WifiSimSpecBoard:h.a},props:{pkg:{type:Object,required:!0},itemsData:{type:Object,default:function(){return{}}}},computed:w(w({aboutData:function(){return this.getPkgAboutData(this.pkg.pkg_oid)},confirmText:function(){return this.pkg.order_process_setting.confirm_time?"d"===this.pkg.order_process_setting.confirm_time.unit?this.printf(this.lang("common_double_confirm"),["".concat(this.pkg.order_process_setting.confirm_time.value)]):this.printf(this.lang("common_double_confirm_hour"),["".concat(this.pkg.order_process_setting.confirm_time.value)]):""},pkgItem:function(){return this.itemsData[_.head(this.pkg.items)]},deliveryText:function(){var e="MAIL"===this.pkgItem.item.voucher_type?"product":"voucher";if(!this.pkg.order_process_setting.deliver_time)return"";switch(this.pkg.order_process_setting.deliver_timing){case 0:return"d"===this.pkg.order_process_setting.deliver_time.unit?this.printf(this.lang("product_index_imm_confirm_send_".concat(e,"_after_booking_day")),["".concat(this.pkg.order_process_setting.deliver_time.value)]):this.printf(this.lang("product_index_imm_confirm_send_".concat(e,"_after_booking_hour")),["".concat(this.pkg.order_process_setting.deliver_time.value)]);case 1:return this.printf(this.lang("product_index_imm_confirm_send_".concat(e,"_before_godate")),["".concat(this.pkg.order_process_setting.deliver_time.value)])}return""},isRedeemProduct:function(){return!_.isEmpty(this.redeemInfo)}},Object(s.c)("newProduct/optionSection",["getPkgAboutData"])),Object(s.c)({redeemInfo:"newProduct/redeemInfo",isRedeemKkgift:"common/isRedeemKkgift"}))},x=Object(i.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"expand board"},[n("div",{staticClass:"option-info"},[n("PackageModuleContent",{attrs:{title:e.lang("product_index_package_detail"),"is-first-item":!0}},[n("div",{staticClass:"product-benefit"},[e.isRedeemProduct||e.isRedeemKkgift?n("div",{staticClass:"critical-info"},[n("i",{staticClass:"icons icon-close"}),n("span",[e._v(e._s(e.lang("common_can_not_cancel")))])]):e.aboutData.isShowFreeRefundPolicy?n("div",{staticClass:"critical-info"},[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_cancellation.svg"),alt:"cancel policy"}}),e._v(" "),"1"===e.pkg.refund_policy.policy_type?n("span",[e._v(e._s(e.lang("common_free_cancellation")))]):e._e(),e._v(" "),e.aboutData.isPartialRefund&&0===e.aboutData.maxRefundOption.value?n("span",[e._v(e._s(e.printf(e.lang("common_day_more_free_cancel"),[e.aboutData.maxRefundOption.day_min])))]):e._e()]):e._e(),e._v(" "),e.aboutData.isInstantConfirm?n("div",{staticClass:"critical-info"},[n("i",{staticClass:"fa fa-flash text-primary"}),n("span",[e._v(e._s(e.lang("common_imm_confirm")))])]):n("div",{staticClass:"critical-info"},[n("i",{staticClass:"icons icon-check"}),n("span",[e._v(e._s(e.confirmText))])]),e._v(" "),e.pkg.order_process_setting.deliver_time?n("div",{staticClass:"critical-info"},[e.aboutData.isInstantDeliver?[n("i",{staticClass:"icons icon-paper-plane"}),n("span",[e._v(e._s(e.lang("common_instant_deliver")))])]:[n("i",{staticClass:"icons icon-paper-plane"}),n("span",[e._v(e._s(e.deliveryText))])]],2):e._e()])]),e._v(" "),e.pkg.description_module.PMDL_WIFI?n("PackageModuleContent",{attrs:{title:e.pkg.description_module.PMDL_WIFI.module_title}},[n("WifiSimSpecBoard",{attrs:{"module-data":e.pkg.description_module.PMDL_WIFI.content}})],1):e._e(),e._v(" "),e.pkg.description_module.PMDL_SIM_CARD?n("PackageModuleContent",{attrs:{title:e.pkg.description_module.PMDL_SIM_CARD.module_title}},[n("WifiSimSpecBoard",{attrs:{"module-data":e.pkg.description_module.PMDL_SIM_CARD.content}})],1):e._e(),e._v(" "),e.pkg.description_module.PMDL_INC_NINC?n("PackageModuleContent",{attrs:{title:e.pkg.description_module.PMDL_INC_NINC.module_title}},[n("Fee",{attrs:{"module-data":e.pkg.description_module.PMDL_INC_NINC.content}})],1):e._e(),e._v(" "),e.pkg.description_module.PMDL_REFUND_POLICY?n("PackageModuleContent",{attrs:{title:e.pkg.description_module.PMDL_REFUND_POLICY.module_title}},[n("RefundPolicy",{attrs:{data:{moduleData:e.pkg.description_module.PMDL_REFUND_POLICY.content,refundPolicy:e.pkg.refund_policy}}})],1):e._e(),e._v(" "),e.pkg.description_module.PMDL_EXCHANGE_VALID?n("PackageModuleContent",{attrs:{title:e.pkg.description_module.PMDL_EXCHANGE_VALID.module_title}},[n("ExchangeValid",{attrs:{"module-data":e.pkg.description_module.PMDL_EXCHANGE_VALID.content}})],1):e._e(),e._v(" "),e.pkg.description_module.PMDL_USE_VALID?n("PackageModuleContent",{attrs:{title:e.pkg.description_module.PMDL_USE_VALID.module_title}},[n("UseValid",{attrs:{"module-data":e.pkg.description_module.PMDL_USE_VALID.content}})],1):e._e()],1)])}),[],!1,null,null,null).exports,C=(n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.array.filter.js"),{name:"WifiSimSpecBoardV2",props:{moduleData:{type:Object,default:function(){return{}}}},computed:{validProperties:function(){return _.filter(this.moduleData.properties,(function(e){return!_.isEmpty(e)}))}}}),D=Object(i.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"option-table"},e._l(e.validProperties,(function(t,s){return n("div",{key:s,staticClass:"option-table__row"},[n("div",{staticClass:"option-table__columns"},[e._v("\n\t\t\t"+e._s(t.title)+"\n\t\t")]),e._v(" "),"list"!==t.type?n("div",{staticClass:"option-table__columns"},[e._v("\n\t\t\t"+e._s(t.desc)+"\n\t\t")]):n("div",{staticClass:"option-table__columns"},e._l(t.list,(function(t,s){return n("p",{key:s},[e._v("\n\t\t\t\t"+e._s(t.desc)+"\n\t\t\t")])})),0)])})),0)}),[],!1,null,null,null).exports,O=n("./resources/pc/js/helpers/product.js");function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var T=Object.defineProperty,M=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,R=function(e,t,n){return t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},N=function(e,t){for(var n in t||(t={}))L.call(t,n)&&R(e,n,t[n]);if(M){var s,o=E(M(t));try{for(o.s();!(s=o.n()).done;){n=s.value;A.call(t,n)&&R(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},U={components:{UseValid:m.a,ExchangeValid:p.a,RefundPolicy:f.a,WifiSimSpecBoardV2:D,SVGUse:function(){return n.e(15).then(n.bind(null,"./resources/pc/js/components/common/SVGUse.vue"))}},props:{pkg:{type:Object,required:!0},itemsData:{type:Object,default:function(){return{}}}},computed:N(N(N({aboutData:function(){return this.getPkgAboutData(this.pkg.pkg_oid)},confirmText:function(){return this.pkg.order_process_setting.confirm_time?"d"===this.pkg.order_process_setting.confirm_time.unit?this.printf(this.lang("common_double_confirm"),["".concat(this.pkg.order_process_setting.confirm_time.value)]):this.printf(this.lang("common_double_confirm_hour"),["".concat(this.pkg.order_process_setting.confirm_time.value)]):""},wifiData:function(){return this.pkg.description_module.PMDL_WIFI},simCardData:function(){return this.pkg.description_module.PMDL_SIM_CARD},feeData:function(){return this.pkg.description_module.PMDL_INC_NINC},exchangeValid:function(){return this.pkg.description_module.PMDL_EXCHANGE_VALID},useValid:function(){return this.pkg.description_module.PMDL_USE_VALID},refundPolicy:function(){return this.pkg.description_module.PMDL_REFUND_POLICY},pkgItem:function(){return this.itemsData[_.head(this.pkg.items)]},deliveryText:function(){var e="MAIL"===this.pkgItem.item.voucher_type?"product":"voucher";if(!this.pkg.order_process_setting.deliver_time)return"";switch(this.pkg.order_process_setting.deliver_timing){case 0:return"d"===this.pkg.order_process_setting.deliver_time.unit?this.printf(this.lang("product_index_imm_confirm_send_".concat(e,"_after_booking_day")),["".concat(this.pkg.order_process_setting.deliver_time.value)]):this.printf(this.lang("product_index_imm_confirm_send_".concat(e,"_after_booking_hour")),["".concat(this.pkg.order_process_setting.deliver_time.value)]);case 1:return this.printf(this.lang("product_index_imm_confirm_send_".concat(e,"_before_godate")),["".concat(this.pkg.order_process_setting.deliver_time.value)])}return""},isRedeemProduct:function(){return!_.isEmpty(this.redeemInfo)},isOpenDateProduct:function(){var e,t;return Object(O.a)(null==(t=null==(e=this.product)?void 0:e.go_date_setting)?void 0:t.type,this.productSetting.prod_mid)},displayUseValid:function(){var e,t;return _.includes(null==(t=null==(e=this.useValid)?void 0:e.content)?void 0:t.property_keys,"exchange")?(this.useValid.module_title?this.useValid.module_title+"：":"")+this.useValid.content.properties.exchange.desc:null}},Object(s.e)("newProduct/optionSection",["product","productSetting"])),Object(s.c)("newProduct/optionSection",["getPkgAboutData"])),Object(s.c)({redeemInfo:"newProduct/redeemInfo"}))},B=Object(i.a)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"option_item__info"},[n("h5",[e._v(e._s(e.lang("product_index_package_detail")))]),e._v(" "),n("ul",{staticClass:"option-list"},[e.aboutData.isInstantConfirm?n("li",[n("SVGUse",{staticClass:"option-list__icon",attrs:{name:"#v2_ic_flash",width:"16",height:"16","is-primary":""}}),e._v(" "),n("span",{staticClass:"option-list__title"},[e._v(e._s(e.lang("common_imm_confirm")))])],1):n("li",[n("SVGUse",{staticClass:"option-list__icon",attrs:{name:"#v2_ic_paper_plane",width:"16",height:"16"}}),e._v(" "),n("span",{staticClass:"option-list__title"},[e._v(e._s(e.confirmText))])],1),e._v(" "),e.pkg.order_process_setting.deliver_time?n("li",[n("SVGUse",{staticClass:"option-list__icon",attrs:{name:"#v2_ic_paper_plane",width:"16",height:"16"}}),e._v(" "),e.aboutData.isInstantDeliver?n("span",[e._v(e._s(e.lang("common_instant_deliver")))]):n("span",[e._v(e._s(e.deliveryText))])],1):e._e(),e._v(" "),e.isRedeemProduct?n("li",{staticClass:"critical-info"},[n("SVGUse",{staticClass:"option-list__icon",attrs:{name:"#v2_ic_close",width:"16",height:"16"}}),e._v(" "),n("span",[e._v(e._s(e.lang("common_can_not_cancel")))])],1):e.aboutData.isShowFreeRefundPolicy?n("li",[n("SVGUse",{staticClass:"option-list__icon",attrs:{name:"#v2_ic_cancellation",width:"16",height:"16"}}),e._v(" "),"1"===e.pkg.refund_policy.policy_type?n("span",{staticClass:"option-list__title"},[e._v(e._s(e.lang("common_free_cancellation")))]):e._e(),e._v(" "),e.aboutData.isPartialRefund&&0===e.aboutData.maxRefundOption.value?n("span",{staticClass:"option-list__title"},[e._v(e._s(e.printf(e.lang("common_day_more_free_cancel"),[e.aboutData.maxRefundOption.day_min])))]):e._e()],1):e._e(),e._v(" "),e.isOpenDateProduct&&e.displayUseValid?n("li",[n("SVGUse",{staticClass:"option-list__icon",attrs:{name:"#v2_ic_calendar_fill",width:"16",height:"16"}}),e._v(" "),n("span",[e._v(e._s(e.displayUseValid))])],1):e._e()]),e._v(" "),e.wifiData?[n("hr",{staticClass:"option_item__hr"}),e._v(" "),n("h5",[e._v(e._s(e.wifiData.module_title))]),e._v(" "),n("WifiSimSpecBoardV2",{attrs:{"module-data":e.wifiData.content}})]:e._e(),e._v(" "),e.simCardData?[n("hr",{staticClass:"option_item__hr"}),e._v(" "),n("h5",[e._v(e._s(e.simCardData.module_title))]),e._v(" "),n("WifiSimSpecBoardV2",{attrs:{"module-data":e.simCardData.content}})]:e._e(),e._v(" "),e.feeData?[n("hr",{staticClass:"option_item__hr"}),e._v(" "),n("div",{staticClass:"option-fee"},[n("h5",[e._v(e._s(e.feeData.module_title))]),e._v(" "),n("div",{staticClass:"option-fee__list"},[e.feeData.content.properties.include_item?n("ul",{staticClass:"fee-list include"},e._l(e.feeData.content.properties.include_item.list,(function(t,s){return n("li",{key:s},[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_include.svg")}}),e._v(" "),n("span",{staticClass:"fee-list__title"},[e._v(e._s(t.desc))])])})),0):e._e(),e._v(" "),e.feeData.content.properties.not_include_item?n("ul",{staticClass:"fee-list uninclude"},e._l(e.feeData.content.properties.not_include_item.list,(function(t,s){return n("li",{key:s},[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_notinclude.svg")}}),e._v(" "),n("span",{staticClass:"fee-list__title"},[e._v(e._s(t.desc))])])})),0):e._e()])])]:e._e(),e._v(" "),e.useValid?[n("hr",{staticClass:"option_item__hr"}),e._v(" "),n("div",{staticClass:"option-expiration-date"},[n("h5",[e._v(e._s(e.useValid.module_title))]),e._v(" "),n("UseValid",{staticClass:"option-expiration-date__list",attrs:{"module-data":e.useValid.content}})],1)]:e._e(),e._v(" "),e.exchangeValid?[n("hr",{staticClass:"option_item__hr"}),e._v(" "),n("div",{staticClass:"option-use-date"},[n("h5",[e._v(e._s(e.exchangeValid.module_title))]),e._v(" "),n("ExchangeValid",{staticClass:"option-use-date__list",attrs:{"module-data":e.exchangeValid.content}})],1)]:e._e(),e._v(" "),e.refundPolicy?[n("hr",{staticClass:"option_item__hr"}),e._v(" "),n("div",{staticClass:"option-cancel-policy"},[n("h5",[e._v(e._s(e.refundPolicy.module_title))]),e._v(" "),n("RefundPolicy",{staticClass:"option-cancel-policy__list",attrs:{data:{moduleData:e.refundPolicy.content,refundPolicy:e.pkg.refund_policy}}})],1)]:e._e()],2)}),[],!1,null,null,null).exports,V=n("./resources/pc/js/components/product/newProductDetail/PackageDesc.vue"),F=n("./resources/pc/js/components/common/OriginPrice.vue"),z=n("./resources/share/js/helpers/punctuationMark.js"),q=n("./resources/pc/js/components/whlbSetting/WhlbSettingButton.vue");function W(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var G=Object.defineProperty,Y=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Q=function(e,t,n){return t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},X=function(e,t){for(var n in t||(t={}))H.call(t,n)&&Q(e,n,t[n]);if(Y){var s,o=W(Y(t));try{for(o.s();!(s=o.n()).done;){n=s.value;K.call(t,n)&&Q(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},Z={inject:["checkIsWhlbItemShow"],components:{WhlbSettingButton:q.a,PackageDesc:V.a,ItemBlock:r,ItemBlockV2:c,OriginPrice:F.a,PackageDescriptionModule:x,PackageDescriptionModuleV2:B},props:{pkg:{type:Object,required:!0},product:{type:Object,required:!0}},computed:X(X(X({aboutData:function(){return this.getPkgAboutData(this.pkg.pkg_oid)},isShowEarliestSaleDate:function(){return!this.isOpenDateProduct},isDisabled:function(){return this.isSoldOut||!this.isSaleable},isExpanded:function(){return this.pkg.pkg_oid===this.currentPkgOid},isLoading:function(){return this.pkg.pkg_oid===this.loadingPkgOid},isPackageLoaded:function(){return _.includes(this.loadedPkgsOid,this.pkg.pkg_oid)},isShowPriceFromTxt:function(){return this.pkg.sale_price.min_price!==this.pkg.sale_price.max_price},isRedeemProduct:function(){return!_.isEmpty(this.redeemInfo)},isSaleable:function(){return _.includes(this.saleablePkgOidList,this.pkg.pkg_oid)},isShowInstantOrderAndUse:function(){return this.aboutData.isInstantOrderAndUse&&this.checkIsWhlbItemShow({block:"packageInfo",element:"instantOrderAndUse"})},isShowCancelLabel:function(){return this.getElementRenderState("cancelLabel")&&this.checkIsWhlbItemShow({block:"packageInfo",element:"cancellationPolicy"})},isShowFreeCancel:function(){return"1"===this.pkg.refund_policy.policy_type},isShowConditionalFreeCancel:function(){return this.aboutData.isPartialRefund&&0===this.aboutData.maxRefundOption.value},isSoldOut:function(){return this.isPkgSoldOut(this.pkg.pkg_oid)},needShowCalendar:function(){return this.isSingleCalendarFlow&&_.isEmpty(this.productSelectedDate.startDate)&&!this.isOpenDateProduct},saleableTips:function(){return this.isSoldOut?this.lang("common_sold_out"):this.isSaleable?"":this.lang("common_unable_to_order_this_date")},isShowPackageDescriptionModule:function(){return this.checkIsWhlbItemShow({block:"packageInfo",element:"packageDescriptionModule"})}},Object(s.e)("newProduct/optionSection",["currentPkgOid","selectedPkgOid","itemsData","productSelectedDate"])),Object(s.c)("newProduct/optionSection",["getPkgAboutData","isMultiPackage","isPkgSoldOut","loadedPkgsOid","loadingPkgOid","isSingleCalendarFlow","isOpenDateProduct","saleablePkgOidList"])),Object(s.c)({member:"common/member",redeemInfo:"newProduct/redeemInfo",isRedeemKkgift:"common/isRedeemKkgift"})),methods:X({colon:z.a,getElementRenderState:function(e){switch(e){case"price":case"cancelLabel":return!this.isRedeemProduct&&!this.isRedeemKkgift;default:return!0}},togglePackageItem:function(e){this.needShowCalendar?this.$emit("open-calendar"):this.togglePackage(e)}},Object(s.b)("newProduct/optionSection",["togglePackage"]))},J=Object(i.a)(Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"option-item",class:{selected:e.isExpanded,disabled:e.isDisabled}},[n("div",{staticClass:"option-head"},[n("div",{staticClass:"option-content"},[n("h3",[n("span",[e._v(e._s(e.pkg.name))]),e._v(" "),e.isShowInstantOrderAndUse?n("span",{staticClass:"label label-warning"},[e._v(e._s(e.lang("common_instant_order_and_use")))]):e._e(),e._v(" "),e.isShowCancelLabel?[e.isShowFreeCancel?n("span",{staticClass:"label label-danger"},[e._v(e._s(e.lang("common_free_cancellation")))]):e._e(),e._v(" "),e.isShowConditionalFreeCancel?n("span",{staticClass:"label label-danger"},[e._v(e._s(e.printf(e.lang("common_day_more_free_cancel"),[e.aboutData.maxRefundOption.day_min])))]):e._e()]:e._e()],2),e._v(" "),n("PackageDesc",{attrs:{"module-data":e.pkg.description_module.PMDL_PACKAGE_DESC}})],1),e._v(" "),n("div",{staticClass:"option-action"},[e.isDisabled?n("b",{staticClass:"text-md"},[e._v(e._s(e.saleableTips))]):[e.getElementRenderState("price")?n("div",{staticClass:"product-pricing"},[n("h4",[e.isShowPriceFromTxt&&!e._.isEmpty(e.lang("common_price_prefix",!1))?n("span",{staticClass:"text-grey"},[e._v(e._s(e.lang("common_price_prefix")))]):e._e(),e._v("\n\t\t\t\t\t\t"+e._s(e._f("currencyFormat")(e.member.currency))+" "+e._s(e.priceFormat(e.pkg.sale_price.min_price,e.member.currency))+"\n\t\t\t\t\t\t"),e.isShowPriceFromTxt&&!e._.isEmpty(e.lang("common_price_suffix",!1))?n("span",{staticClass:"text-grey"},[e._v(e._s(e.lang("common_price_suffix")))]):e._e()]),e._v(" "),e.pkg.sale_price.official_price?n("OriginPrice",{attrs:{currency:e.member.currency,"origin-price":e.pkg.sale_price.official_price,"sale-price":e.pkg.sale_price.min_price,"tag-name":"div"}}):e._e()],1):e._e(),e._v(" "),e.isMultiPackage?n("WhlbSettingButton",{staticClass:"select-option",attrs:{theme:"success","is-disabled":e.isLoading,"is-ghost":!0},nativeOn:{click:function(t){return e.togglePackageItem(e.pkg.pkg_oid)}}},[e.isExpanded?[e._v("\n\t\t\t\t\t\t"+e._s(e.lang("common_deselect"))+"\n\t\t\t\t\t")]:[e._v("\n\t\t\t\t\t\t"+e._s(e.lang("product_index_select"))+"\n\t\t\t\t\t\t"),e.isLoading?n("i",{staticClass:"fa fa-circle-o-notch fa-spin"}):e._e()]],2):e._e(),e._v(" "),e.isShowEarliestSaleDate?n("div",{staticClass:"tip text-blue"},[e._v("\n\t\t\t\t\t"+e._s(e.lang("product_index_earliest_sale_date"))+e._s(e.colon())+e._s(e._.get(e.pkg,"sale_time.earliest_sale_time.date"))+"\n\t\t\t\t")]):e._e()]],2)]),e._v(" "),e.isPackageLoaded?n("div",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded,expression:"isExpanded"}],staticClass:"option-booking"},[e.isSingleCalendarFlow?n("div",{staticClass:"option_item__detail"},[e.isShowPackageDescriptionModule?n("PackageDescriptionModuleV2",{attrs:{pkg:e.pkg,"items-data":e.itemsData}}):e._e(),e._v(" "),e._l(e.pkg.items,(function(t){return n("ItemBlockV2",{key:"item-"+t,attrs:{"pkg-oid":e.pkg.pkg_oid,"item-data":e.itemsData[t]}})}))],2):[e.isShowPackageDescriptionModule?n("PackageDescriptionModule",{attrs:{pkg:e.pkg,"items-data":e.itemsData}}):e._e(),e._v(" "),e._l(e.pkg.items,(function(t){return n("ItemBlock",{key:"item-"+t,attrs:{"pkg-oid":e.pkg.pkg_oid,"item-data":e.itemsData[t]}})}))]],2):e._e()])}),[],!1,null,null,null);t.a=J.exports},"./resources/pc/js/components/product/newProductDetail/OptionSection.vue":function(e,t,n){"use strict";var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/OptionSection.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"new-product option-section",attrs:{id:"option-sec"}},[n("div",{staticClass:"container"},[e.checkIsWhlbItemShow({block:e.WHLB_PRODUCT_BLOCK,element:"optionSectionTitle"})?n("h3",{staticClass:"info-title"},[e._v("\n\t\t\t"+e._s(e.lang("product_index_select_product_package"))+"\n\t\t")]):e._e(),e._v(" "),e.isInitialized?[e.isSingleCalendarFlow&&!e.isOpenDateProduct?[n("SelectDate",{ref:"productSelectDate",attrs:{"is-single":!e.isProdMultiDate,"default-display-name":e.lang("product_index_select_date_options"),"min-date":e.kkday.moment(e.earliestSaleDate).format("YYYY-MM-DD"),"max-date":e.kkday.moment(e.latestSaleDate).format("YYYY-MM-DD"),"on-date":e.saleableDateList,"selected-start-date":e.productSelectedDate.startDate,"selected-end-date":e.productSelectedDate.endDate,"min-span-day":e._.get(e.product,"go_date_setting.days.min"),"max-span-day":e._.get(e.product,"go_date_setting.days.max")},on:{"update-message":e.updateSelectDateErrorMsg,"update-value":e.setProductSelectedDate}}),e._v(" "),e.selectDateErrorMsg?n("span",{staticClass:"tip text-danger"},[e._v(e._s(e.selectDateErrorMsg))]):e._e()]:e._e(),e._v(" "),e._l(e.visiblePkgsOid,(function(t){return n("OptionItem",{key:"option"+t,ref:"option-item-"+t,refInFor:!0,attrs:{id:"optionItem"+t,pkg:e.packages[t],product:e.product},on:{"open-calendar":e.openCalendar}})})),e._v(" "),!e.isShownMore&&e.packagesOid.length>e.defaultVisibleNum?n("a",{staticClass:"btn btn-default btn-block more-option",on:{click:function(t){e.isShownMore=!0}}},[e._v("\n\t\t\t\t"+e._s(e.lang("product_index_more_option"))+"\n\t\t\t\t"),n("i",{staticClass:"fa fa-angle-down fa-lg"})]):e._e()]:e._e(),e._v(" "),e.isInitialized?e._e():n("ul",{staticClass:"loading-card"},e._l(e._.min([e.packagesOid.length,e.maxFakeItemNum]),(function(t){return n("li",{key:t,staticClass:"option-item fake"},[n("div",{staticClass:"mask list-top-mask"}),e._v(" "),n("div",{staticClass:"mask list-bottom-mask"}),e._v(" "),n("div",{staticClass:"mask list-left-mask"}),e._v(" "),n("div",{staticClass:"mask list-right-mask"}),e._v(" "),n("div",{staticClass:"mask list-middle-mask"}),e._v(" "),n("div",{staticClass:"mask list-right-mask-1"}),e._v(" "),n("div",{staticClass:"mask list-right-mask-2"})])})),0)],2)]):e._e()}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/OptionStickyBar.vue":function(e,t,n){"use strict";var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/OptionStickyBar.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"booking-bar fixed-bar"},[n("div",{staticClass:"container"},[n("div",{staticClass:"dropdown"},[n("a",{staticClass:"text-heavy",attrs:{"data-toggle":"dropdown"}},[n("span",{staticClass:"text-grey"},[e._v(e._s(e.lang("product_index_chosen_item"))+e._s(e.colon()))]),e._v(" "),n("b",[e._v(e._s(e.pkg.name))]),e._v(" "),n("i",{staticClass:"fa fa-angle-down fa-lg"})]),e._v(" "),n("div",{staticClass:"dropdown-menu pd-20"},[n("div",{staticClass:"price-detail"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-7"},[n("div",{staticClass:"fill-group"},[n("label",[e._v(e._s(e.lang("common_date")))]),e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.dateText)+"\n\t\t\t\t\t\t\t")])]),e._v(" "),e.item.has_event?n("div",{staticClass:"col-md-5"},[n("div",{staticClass:"fill-group"},[n("label",[e._v(e._s(e.lang("product_index_event")))]),e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.checkoutData.event||e.lang("common_unselected"))+"\n\t\t\t\t\t\t\t")])]):e._e()]),e._v(" "),e._l(e.specsArray,(function(t){return n("div",{key:t.specOid,staticClass:"fill-group"},[n("label",[e._v(e._s(t.specTitle))]),e._v("\n\t\t\t\t\t\t"+e._s(t.specItemName)+"\n\t\t\t\t\t")])})),e._v(" "),n("div",{staticClass:"fill-group"},[n("label",[e._v(e._s(e.lang("common_quantity")))]),e._v(" "),n("span",[e._v(e._s(e.amountText))])]),e._v(" "),n("hr"),e._v(" "),e.getElementRenderState("dropdownPrice")?n("div",{staticClass:"mt-10"},[n("div",{staticClass:"pull-left"},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.lang("common_total"))+"\n\t\t\t\t\t\t")]),e._v(" "),n("div",{staticClass:"pull-right text-right"},[n("div",{staticClass:"product-pricing text-lg text-primary"},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e._f("currencyFormat")(e.member.currency))+" "+e._s(e.priceFormat(e.checkoutData.priceTotal,e.member.currency))+"\n\t\t\t\t\t\t\t")]),e._v(" "),n("div",[n("span",{staticClass:"text-grey"},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(e.lang("point_common_hint_reward_after_back"))+"\n\t\t\t\t\t\t\t\t")]),e._v(" "),n("img",{staticClass:"ic-point",attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_kkpoint.svg")}}),e._v(" "),e.isLoadingPointBonus?n("i",{staticClass:"fa fa-circle-o-notch fa-spin text-grey-light"}):n("span",{staticClass:"product-pricing text-warning"},[e._v(e._s(e.extraOrderPoints))])])]),e._v(" "),n("div",{staticClass:"clearfix"})]):e._e()],2)]),e._v(" "),n("span",{staticClass:"dropdown-arrow"})]),e._v(" "),e.checkoutData.priceTotal>0&&e.getElementRenderState("price")?n("div",{staticClass:"product-pricing"},[n("span",{staticClass:"text-grey"},[e._v(e._s(e.lang("common_total")))]),e._v(" "),n("span",{staticClass:"text-primary text-lg"},[e._v(e._s(e._f("currencyFormat")(e.member.currency))+" "+e._s(e.priceFormat(e.checkoutData.priceTotal,e.member.currency)))])]):e._e(),e._v(" "),n("WhlbSettingButton",{staticClass:"fixed-bar__block-button",attrs:{theme:"primary","is-block":!0},nativeOn:{click:function(t){return e.scrollToInfoSection.apply(null,arguments)}}},[e._v("\n\t\t\t"+e._s(e.lang("product_index_continue_buying_or_booking"))+"\n\t\t")])],1)]):e._e()}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/PackageDesc.vue":function(e,t,n){"use strict";var s={name:"PackageDesc",props:{moduleData:{type:Object,default:function(){return{}}}},computed:{contentList:function(){return _.get(this.moduleData,["content","list"],[])}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.contentList?n("ul",e._l(e.contentList,(function(t,s){return n("li",{key:s},[n("div",{staticClass:"break-word",domProps:{innerHTML:e._s(t.desc)}})])})),0):e._e()}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductBanner.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/@splidejs/splide-extension-video/dist/js/splide-extension-video.esm.js"),o=n.n(s),i=n("./resources/pc/js/components/common/KkSplide.vue");function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var c=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=function(e,t,n){return t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},h={components:{KkSplide:i.default},props:{bannerList:{type:Array,default:function(){return[]}}},data:function(){return{isLoading:!0,splideExtension:{Video:o.a}}},computed:{slideList:function(){var e=this;return this.bannerList.map((function(t){return function(e,t){return u(e,l(t))}(function(e,t){for(var n in t||(t={}))m.call(t,n)&&f(e,n,t[n]);if(d){var s,o=r(d(t));try{for(o.s();!(s=o.n()).done;){n=s.value;p.call(t,n)&&f(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e}({},t),{onLoad:e.onLoad})}))}},methods:{onLoad:function(){this.isLoading&&(this.isLoading=!1)}}},_=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),g=Object(_.a)(h,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"product-banner"},[this.isLoading?t("div",{staticClass:"product-banner__fake"},[t("div",{staticClass:"product-banner__fake--mask1"}),this._v(" "),t("div",{staticClass:"product-banner__fake--mask2"}),this._v(" "),t("div",{staticClass:"product-banner__fake--mask3"})]):this._e(),this._v(" "),t("KkSplide",{attrs:{extensions:this.splideExtension,"slide-list":this.slideList}})],1)}),[],!1,null,null,null);t.a=g.exports},"./resources/pc/js/components/product/newProductDetail/ProductComment.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.split.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./resources/pc/js/helpers/common.js"),i=n("./resources/pc/js/libs/GoogleTagManager/GtmEventUtils.js"),r=n("./resources/pc/js/components/product/newProductDetail/CommentLoading.vue"),a=n("./resources/pc/js/components/product/newProductDetail/CommentDetail.vue"),c=n("./resources/pc/js/components/common/ProductStar.vue"),u=n("./resources/pc/js/components/common/Pagination.vue"),l=n("./resources/pc/js/components/common/DropdownSelect.vue");function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var p=Object.defineProperty,f=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=function(e,t,n){return t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},y=function(e,t){for(var n in t||(t={}))h.call(t,n)&&v(e,n,t[n]);if(f){var s,o=d(f(t));try{for(o.s();!(s=o.n()).done;){n=s.value;g.call(t,n)&&v(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},b={name:"ProductComment",components:{CommentLoading:r.a,CommentDetail:a.default,ProductStar:c.a,Pagination:u.a,DropdownSelect:l.a},props:{commentInfo:{type:Array,default:function(){return[]}},countRec:{type:Number,default:0},pageSize:{type:Number,default:10},prodMid:{type:Number,default:0},avgScore:{type:Number,default:0},starPercentage:{type:Array,default:function(){return[]}},isFetching:{type:Boolean,default:!1},prodInfoTags:{type:Array,default:function(){return[]}}},data:function(){return{currentPage:1,pageTagAmount:10,reviewOptions:[{name:this.lang("product_index_highest_to_lowest"),value:"SCORE_DESC",leadingIconClass:""},{name:this.lang("product_index_lowest_to_highest"),value:"SCORE_ASC",leadingIconClass:""},{name:this.lang("product_index_sort_by_date"),value:"DATE_DESC",leadingIconClass:""}],selectedSort:"SCORE_DESC"}},computed:{totalPage:function(){return _.ceil(this.countRec/this.pageSize)}},watch:{selectedSort:function(e,t){e!==t&&(this.showComments(1),Object(i.a)("CommentSorting_Changed",{ProdID:this.prodMid,ProdTagCode:_.split(this.prodInfoTags.tags,","),SortingCode:this.selectedSort}))}},methods:y(y({showComments:function(e){var t=this;if(!this.isFetching){var n=this.currentPage;this.currentPage=e,Object(o.w)('[data-spy="'.concat(this.$el.dataset.spy,'"]'),{offset:10,scrollOffset:this.scrollOffset}),this.fetchingStart(),this.getPageComments({prodRefNo:this.prodMid,sortBy:this.selectedSort,currentPage:this.currentPage,pageSize:this.pageSize}).then((function(e){_.isEmpty(e)||(t.updateCommentInfo(e),t.fetchingEnd())})).catch((function(){t.currentPage=n}))}}},Object(s.d)({updateCommentInfo:"newProduct/updateCommentInfo",fetchingStart:"newProduct/fetchingStart",fetchingEnd:"newProduct/fetchingEnd"})),Object(s.b)({getPageComments:"newProduct/getPageComments"}))},j=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),k=Object(j.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"info-section review-section",attrs:{id:"review-sec","data-spy":"review"}},[n("h3",{staticClass:"info-title"},[e._v("\n\t\t"+e._s(e.lang("common_comments"))+"\n\t")]),e._v(" "),n("div",{staticClass:"review-section__top"},[n("div",{staticClass:"review-score"},[n("div",{staticClass:"review-badge"},[e._v("\n\t\t\t\t"+e._s(e.$filters.avgScoreFormat(e.avgScore))+"\n\t\t\t")]),e._v(" "),n("ProductStar",{attrs:{"show-star":!e._.isEmpty(e.commentInfo),"star-percentage":e.starPercentage}},[n("div",{staticClass:"review-num"},[e._v("\n\t\t\t\t\t"+e._s(e.countRec)+" "+e._s(e.lang("product_index_commented"))+"\n\t\t\t\t")])])],1),e._v(" "),n("DropdownSelect",{staticClass:"review-section__select",attrs:{options:e.reviewOptions,"is-disabled":e.isFetching},scopedSlots:e._u([{key:"placeholder",fn:function(){return[n("span",[e._v(e._s(e.lang("common_select_set")))])]},proxy:!0}]),model:{value:e.selectedSort,callback:function(t){e.selectedSort=t},expression:"selectedSort"}})],1),e._v(" "),n("div",{staticClass:"review-list-header"}),e._v(" "),e.isFetching?n("CommentLoading"):e._l(e.commentInfo,(function(t){return n("CommentDetail",{key:t.recOid,attrs:{comment:t,"translate-target":e.kkday.constants.getValue("LANG_UI")}})})),e._v(" "),n("Pagination",{attrs:{"current-page":e.currentPage,"total-page":e.totalPage,"page-amount":e.pageTagAmount},on:{paging:e.showComments}})],2)}),[],!1,null,null,null);t.a=k.exports},"./resources/pc/js/components/product/newProductDetail/ProductDescModuleNav.vue":function(e,t,n){"use strict";var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ProductDescModuleNav.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Affix",{attrs:{id:"product-desc-module-scroll-spy",offset:{top:105,bottom:48},"scroll-affix":!1,"relative-element-selector":"#productDetailApp .product-info-wrap"}},[n("ul",{staticClass:"nav"},e._l(e.navComponents,(function(t,s){return n("li",{key:t.componentId,class:{active:e.currentSpyIndex===s}},[n("a",{on:{click:function(n){return e.scrollToSection(t.idName)}}},[e._v("\n\t\t\t\t"+e._s(t.title)+"\n\t\t\t")])])})),0)])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductDescModules.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.to-string.js");var s=n("./resources/pc/js/mixins/newProduct/descriptionModuleMap.js"),o={name:"ModuleContent"},i=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),r=Object(i.a)(o,(function(e,t){var n=t._c;return n("div",{staticClass:"info-section",attrs:{id:t.props.id}},[n("h3",{staticClass:"info-title"},[t._v("\n\t\t"+t._s(t.props.title)+"\n\t")]),t._v(" "),t._t("default")],2)}),[],!0,null,null,null).exports,a=n("./resources/pc/js/components/product/newProductDetail/ProductSchedule.vue"),c=n("./resources/pc/js/components/product/newProductDetail/ProductExchangeLocation.vue"),u=n("./resources/pc/js/components/product/newProductDetail/ProductUsage.vue"),l=n("./resources/pc/js/components/product/newProductDetail/ProductVenueLocation.vue"),d=n("./resources/pc/js/components/product/newProductDetail/ProductExperienceLocation.vue"),m=n("./resources/pc/js/components/product/newProductDetail/RefundPolicy.vue"),p=n("./resources/pc/js/components/product/newProductDetail/ProductIntroduction.vue"),f=n("./resources/pc/js/components/product/newProductDetail/ProductGraphic.vue"),h=n("./resources/pc/js/components/product/newProductDetail/ProductSuggestRoute.vue"),g=n("./resources/pc/js/components/product/newProductDetail/WifiSimSpecBoard.vue"),v={name:"SubTitleBlock"},y=Object(i.a)(v,(function(e,t){var n=t._c;return n("div",[n("h4",{staticClass:"info-subtitle"},[t._v("\n\t\t"+t._s(t.props.title)+"\n\t")]),t._v(" "),t._t("default")],2)}),[],!0,null,null,null).exports,b={name:"ProductIntroGroup",components:{ProductIntroduction:p.a,ProductGraphic:f.a,ProductSuggestRoute:h.a,WifiSimSpecBoard:g.a,SubTitleBlock:y},props:{groupData:{type:Object,default:function(){return{}}}}},j=Object(i.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.groupData.productIntroduction||e.groupData.graphic?n("ProductIntroduction",{attrs:{"module-data":e._.get(e.groupData.productIntroduction,"content",{})}},[e.groupData.graphic?n("ProductGraphic",{attrs:{"module-data":e.groupData.graphic.content}}):e._e()],1):e._e(),e._v(" "),e.groupData.suggestRoute?n("SubTitleBlock",{attrs:{title:e.groupData.suggestRoute.module_title}},[n("ProductSuggestRoute",{attrs:{"module-data":e.groupData.suggestRoute.content}})],1):e._e(),e._v(" "),e.groupData.wifi?n("SubTitleBlock",{attrs:{title:e.groupData.wifi.module_title}},[n("WifiSimSpecBoard",{attrs:{"module-data":e.groupData.wifi.content}})],1):e._e(),e._v(" "),e.groupData.sim?n("SubTitleBlock",{attrs:{title:e.groupData.sim.module_title}},[n("WifiSimSpecBoard",{attrs:{"module-data":e.groupData.sim.content}})],1):e._e()],1)}),[],!1,null,null,null).exports,k={name:"ProductPurchaseNotice",props:{moduleData:{type:Object,default:function(){return{}}}}},S=Object(i.a)(k,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{domProps:{innerHTML:this._s(this.moduleData.desc)}})])}),[],!1,null,null,null).exports,w=n("./resources/pc/js/components/product/newProductDetail/ProductNationality.vue"),P=n("./resources/pc/js/components/product/newProductDetail/Fee.vue"),x=n("./resources/pc/js/components/product/newProductDetail/ProductExtraFee.vue"),C=n("./resources/pc/js/components/product/newProductDetail/ProductNotice.vue"),D={name:"ProductPurchaseGroup",components:{ProductPurchaseNotice:S,ProductNationality:w.a,Fee:P.a,ProductExtraFee:x.a,ProductNotice:C.a,SubTitleBlock:y},props:{groupData:{type:Object,default:function(){return{}}}}},O=Object(i.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.groupData.purchaseNotice?n("ProductPurchaseNotice",{attrs:{"module-data":e.groupData.purchaseNotice.content}}):e._e(),e._v(" "),e.groupData.nationality?n("SubTitleBlock",{attrs:{title:e.groupData.nationality.module_title}},[n("ProductNationality",{attrs:{"module-data":e.groupData.nationality.content}})],1):e._e(),e._v(" "),e.groupData.fee?n("SubTitleBlock",{attrs:{title:e.groupData.fee.module_title}},[n("Fee",{attrs:{"module-data":e.groupData.fee.content}})],1):e._e(),e._v(" "),e.groupData.extraFee?n("SubTitleBlock",{attrs:{title:e.groupData.extraFee.content.title}},[n("ProductExtraFee",{attrs:{"module-data":e.groupData.extraFee.content}})],1):e._e(),e._v(" "),e.groupData.notice?n("ProductNotice",{attrs:{"module-data":e.groupData.notice}}):e._e()],1)}),[],!1,null,null,null).exports,E=n("./resources/pc/js/components/product/newProductDetail/ProductExchangeWay.vue"),I=n("./resources/pc/js/components/product/newProductDetail/UseValid.vue"),T=n("./resources/pc/js/components/product/newProductDetail/ExchangeValid.vue"),M={name:"ProductUsageGroup",components:{ProductUsage:u.a,ProductExchangeWay:E.a,UseValid:I.a,ExchangeValid:T.a,SubTitleBlock:y},props:{groupData:{type:Object,default:function(){return{}}}}},L={name:"ProductDescModules",components:{ModuleContent:r,ProductIntroGroup:j,ProductPurchaseGroup:O,ProductUsageGroup:Object(i.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.groupData.usage?n("ProductUsage",{attrs:{"module-data":e.groupData.usage.content}}):e._e(),e._v(" "),e.groupData.exchangeWay?n("SubTitleBlock",{attrs:{title:e.groupData.exchangeWay.module_title}},[n("ProductExchangeWay",{attrs:{"module-data":e.groupData.exchangeWay.content}})],1):e._e(),e._v(" "),e.groupData.exchangeValidDate?n("SubTitleBlock",{attrs:{title:e.groupData.exchangeValidDate.module_title}},[n("ExchangeValid",{attrs:{"module-data":e.groupData.exchangeValidDate.content}})],1):e._e(),e._v(" "),e.groupData.useValidDate?n("SubTitleBlock",{attrs:{title:e.groupData.useValidDate.module_title}},[n("UseValid",{attrs:{"module-data":e.groupData.useValidDate.content}})],1):e._e()],1)}),[],!1,null,null,null).exports,ProductSchedule:a.a,ProductExchangeLocation:c.a,ProductUsage:u.a,ProductVenueLocation:l.a,ProductExperienceLocation:d.a,RefundPolicy:m.a},mixins:[s.a],computed:{requiredComponentArray:function(){return _.filter(this.componentDataArray,(function(e){return e.isRequire}))}}},A=Object(i.a)(L,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",this._l(this.requiredComponentArray,(function(e){return t("ModuleContent",{key:e.componentId,attrs:{id:e.idName,title:e.title}},[t(e.componentId,{tag:"component",attrs:{data:e.data,"group-data":e.groupData}})],1)})),1)}),[],!1,null,null,null);t.a=A.exports},"./resources/pc/js/components/product/newProductDetail/ProductExchangeLocation.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js");var s=n("./resources/pc/js/components/common/GoogleEmbedMap.vue"),o=n("./resources/pc/js/components/common/LightboxSlideshow.vue"),i=n("./resources/share/js/helpers/punctuationMark.js"),r={inject:["resetDescModulePosition"],name:"ExchangeCollapseBoard",components:{GoogleEmbedMap:s.a,LightboxSlideshow:o.a},props:{location:{type:Object,default:function(){return{}}},index:{type:Number,default:0}},data:function(){return{isExpand:!1}},computed:{isAirport:function(){return _.includes(this.location.location_info.property_keys,"airport_name")},hasGeoInfo:function(){return _.includes(this.location.location_info.property_keys,"latlng")},boardTitle:function(){return this.isAirport?"".concat(this.location.location_info.properties.airport_name.desc," ").concat(this.location.location_info.properties.terminal.desc):this.location.location_info.properties.store_name.desc},boardDesc:function(){return this.isAirport?_.get(this.location.station_list.info.station_desc,"desc",""):"".concat(this.location.location_info.properties.latlng.title).concat(this.colon()).concat(this.location.location_info.properties.latlng.desc)}},methods:{colon:i.a,isPhotoNeeded:function(e){return e.photo&&!_.isEmpty(e.photo.media)},isVideoNeeded:function(e){return e.video&&!_.isEmpty(e.video.media)},toPhoto:function(e,t){this.$refs["station-photo-modal-".concat(e)].toIndex(t)},toVideo:function(e,t){this.$refs["station-video-modal-".concat(e)].toIndex(t)},toggleBoard:function(){this.isExpand=!this.isExpand,this.resetDescModulePosition&&this.resetDescModulePosition()}}},a=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),c={inject:["resetDescModulePosition"],name:"ProductExchangeLocation",components:{ExchangeCollapseBoard:Object(a.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board board-collapsable map-board",class:{active:e.isExpand}},[n("div",{staticClass:"board-title",attrs:{"data-toggle":"collapse"},on:{click:e.toggleBoard}},[n("div",{staticClass:"label label-gray"},[e._v("\n\t\t\t"+e._s(e.location.station_list.info.provide_service.desc)+"\n\t\t")]),e._v(" "),n("h4",{staticClass:"break-word"},[e._v("\n\t\t\t"+e._s(e.boardTitle)+"\n\t\t")]),e._v(" "),n("div",{staticClass:"text-grey break-word"},[e._v("\n\t\t\t"+e._s(e.boardDesc)+"\n\t\t")]),e._v(" "),n("i",{staticClass:"fa fa-angle-down expand-icon"})]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"con"},[e.hasGeoInfo?n("div",{staticClass:"pd-info-img"},[n("GoogleEmbedMap",{attrs:{"map-information":e.location.location_info.properties.latlng}})],1):e._e(),e._v(" "),n("ul",{staticClass:"photo-group"},[e.location.station_list.info.photo?e._l(e.location.station_list.info.photo.media,(function(t,s){return n("li",{key:"photo-"+s,staticClass:"photo-item",on:{click:function(t){return e.toPhoto(e.index,s)}}},[n("div",{staticClass:"img-bg",style:{backgroundImage:"url("+e.kkday.image.convertToWebp(e.kkday.image.get({path:t.url,width:"140",height:"105",crop:"fill"}))+")"},attrs:{"data-target":"#station-photo-modal-"+e.index,"data-toggle":"modal"}})])})):e._e(),e._v(" "),e.location.station_list.info.video?e._l(e.location.station_list.info.video.media,(function(t,s){return n("li",{key:"video-"+s,staticClass:"photo-item",on:{click:function(t){return e.toVideo(e.index,s)}}},[n("div",{staticClass:"img-bg",style:{backgroundImage:"url("+t.cover+")"},attrs:{"data-target":"#station-video-modal-"+e.index,"data-toggle":"modal"}},[n("img",{staticClass:"play-icon",attrs:{src:e.kkday.url.staticResourceUrl("assets/img/btn_play.svg")}})])])})):e._e(),e._v(" "),n("li",{staticClass:"clearfix"})],2),e._v(" "),e.location.station_list.info.arrival_desc?[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("b",[e._v(e._s(e.location.station_list.table_key_langs.arrival_desc))])]),e._v(" "),n("div",{staticClass:"col-md-9"},[n("div",{staticClass:"pre-line"},[e._v("\n\t\t\t\t\t\t"+e._s(e.location.station_list.info.arrival_desc.desc)+"\n\t\t\t\t\t")])])]),e._v(" "),n("hr",{directives:[{name:"show",rawName:"v-show",value:e.location.station_list.info.active_tel_desc||e.location.station_list.info.active_time,expression:"location.station_list.info.active_tel_desc || location.station_list.info.active_time"}]})]:e._e(),e._v(" "),e.location.station_list.info.active_time||e.location.station_list.info.active_time_desc?[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("b",[e._v(e._s(e.location.station_list.table_key_langs.active_time))])]),e._v(" "),n("div",{staticClass:"col-md-9"},[e.location.station_list.info.active_time?n("div",e._l(e.location.station_list.info.active_time.list,(function(t,s){return n("p",{key:s},[e._v("\n\t\t\t\t\t\t\t"+e._s(t.week_title.desc)+"\n\t\t\t\t\t\t\t"),t.start_time?[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.start_time.desc)+" - "+e._s(t.end_time.desc)+"\n\t\t\t\t\t\t\t")]:[n("span",{staticClass:"text-danger"},[e._v(e._s(t.close_desc.desc))])]],2)})),0):e._e(),e._v(" "),e.location.station_list.info.active_time_desc?n("div",{domProps:{innerHTML:e._s(e.location.station_list.info.active_time_desc.desc)}}):e._e()])]),e._v(" "),n("hr",{directives:[{name:"show",rawName:"v-show",value:e.location.station_list.info.active_tel_desc,expression:"location.station_list.info.active_tel_desc"}]})]:e._e(),e._v(" "),e.location.station_list.info.active_tel_desc?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("b",[e._v(e._s(e.location.station_list.table_key_langs.active_tel_desc))])]),e._v(" "),n("div",{staticClass:"col-md-9"},[e._v("\n\t\t\t\t"+e._s(e.location.station_list.info.active_tel_desc.desc)+"\n\t\t\t")])]):e._e()],2),e._v(" "),e.isPhotoNeeded(e.location.station_list.info)?n("LightboxSlideshow",{ref:"station-photo-modal-"+e.index,attrs:{"modal-id":"station-photo-modal-"+e.index,"photo-list":e.location.station_list.info.photo.media,"lazy-load-eager":1}}):e._e(),e._v(" "),e.isVideoNeeded(e.location.station_list.info)?n("LightboxSlideshow",{ref:"station-video-modal-"+e.index,attrs:{"modal-id":"station-video-modal-"+e.index,"youtube-url":e.location.station_list.info.video.media[0].url,"lazy-load-eager":1}}):e._e()],1)}),[],!1,null,null,null).exports,Select2:n("./resources/pc/js/components/common/Select2.vue").a},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{collectInfo:this.data.properties.collect_info,returnInfo:this.data.properties.return_info,locations:this.data.properties.locations,cityCode:"all"}},computed:{cityList:function(){return _.uniqWith(this.locations.list,(function(e,t){return e.city_info.properties.city.global_code[0].value===t.city_info.properties.city.global_code[0].value}))},formattedCityList:function(){return _.assign({all:"".concat(this.lang("common_all_country")).concat(this.lang("common_city"))},_.reduce(this.cityList,(function(e,t){return e["".concat(t.city_info.properties.city.global_code[0].value)]=t.city_info.properties.city.desc,e}),{}))},locationList:function(){var e=this;return"all"===this.cityCode?this.locations.list:_.filter(this.locations.list,(function(t){return t.city_info.properties.city.global_code[0].value===e.cityCode}))}}},u=Object(a.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.collectInfo?[n("h4",{staticClass:"info-subtitle"},[e._v("\n\t\t\t"+e._s(e.collectInfo.title)+"\n\t\t")]),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.collectInfo.desc)}})]:e._e(),e._v(" "),e.returnInfo?[n("h4",{staticClass:"info-subtitle"},[e._v("\n\t\t\t"+e._s(e.returnInfo.title)+"\n\t\t")]),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.returnInfo.desc)}})]:e._e(),e._v(" "),e.cityList.length>1?n("Select2",{attrs:{options:e.formattedCityList},model:{value:e.cityCode,callback:function(t){e.cityCode=t},expression:"cityCode"}}):e._e(),e._v(" "),e._l(e.locationList,(function(e,t){return n("ExchangeCollapseBoard",{key:t,attrs:{location:e,index:t}})}))],2)}),[],!1,null,null,null);t.a=u.exports},"./resources/pc/js/components/product/newProductDetail/ProductExchangeWay.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js");var s={name:"ProductExchangeWay",props:{moduleData:{type:Object,default:function(){return{}}}},data:function(){return{exchangeType:this.moduleData.properties.exchange_type,exchangeDesc:this.moduleData.properties.description}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",[e.exchangeType?n("li",[e._v("\n\t\t\t"+e._s(e.exchangeType.desc)+"\n\t\t")]):e._e()]),e._v(" "),e.exchangeDesc?n("div",{staticClass:"tip"},[e._v("\n\t\t"+e._s(e.exchangeDesc.desc)+"\n\t")]):e._e()])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductExperienceLocation.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.to-string.js");var s=n("./resources/pc/js/components/common/GoogleEmbedMap.vue"),o=n("./resources/pc/js/components/common/LightboxSlideshow.vue"),i=n("./resources/pc/js/components/common/Select2.vue"),r=n("./resources/share/js/helpers/punctuationMark.js"),a={name:"ProductExperienceLocation",components:{GoogleEmbedMap:s.a,LightboxSlideshow:o.a,Select2:i.a},props:{data:{type:Object,default:function(){return{list:[]}}}},data:function(){return{selectedLocationKey:"0"}},computed:{isDropDownMode:function(){return this.data.list.length>4},dropDownOptions:function(){return _.reduce(this.data.list,(function(e,t,n){return e["".concat(n)]=t.location_name.desc,e}),{})},locationBoardList:function(){return this.isDropDownMode?[this.data.list[this.selectedLocationKey]]:this.data.list}},methods:{colon:r.a,dash:r.c,toPhoto:function(e,t){this.$refs["exp-photo-modal-".concat(e)][0].toIndex(t)},toVideo:function(e,t){this.$refs["exp-video-modal-".concat(e)][0].toIndex(t)}}},c=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),u=Object(c.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isDropDownMode?n("Select2",{attrs:{options:e.dropDownOptions},model:{value:e.selectedLocationKey,callback:function(t){e.selectedLocationKey=t},expression:"selectedLocationKey"}}):e._e(),e._v(" "),e._l(e.locationBoardList,(function(t,s){return n("div",{key:t.location_name.desc+s,staticClass:"board map-board"},[n("div",{staticClass:"board-title"},[n("h4",{staticClass:"break-word"},[e._v("\n\t\t\t\t"+e._s(e.data.table_key_langs.location_name)+e._s(e.colon())+e._s(t.location_name.desc)+"\n\t\t\t")]),e._v(" "),n("div",{staticClass:"text-grey break-word"},[e._v("\n\t\t\t\t"+e._s(e.data.table_key_langs.latlng)+e._s(e.colon())+e._s(t.latlng.desc)+"\n\t\t\t")])]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"con"},[t.latlng?n("div",{staticClass:"pd-info-map"},[n("GoogleEmbedMap",{attrs:{"map-information":t.latlng}})],1):e._e(),e._v(" "),n("ul",{staticClass:"photo-group"},[t.photo?e._l(t.photo.media,(function(t,o){return n("li",{key:"photo-"+o,staticClass:"photo-item",on:{click:function(t){return e.toPhoto(s,o)}}},[n("div",{staticClass:"img-bg",style:{backgroundImage:"url("+e.kkday.image.convertToWebp(e.kkday.image.get({path:t.url,width:"140",height:"105",crop:"fill"}))+")"},attrs:{"data-target":"#exp-photo-modal-"+s,"data-toggle":"modal"}})])})):e._e(),e._v(" "),t.video?e._l(t.video.media,(function(t,o){return n("li",{key:"video-"+o,staticClass:"photo-item",on:{click:function(t){return e.toVideo(s,o)}}},[n("div",{staticClass:"img-bg",style:{backgroundImage:"url("+t.cover+")"},attrs:{"data-target":"#exp-video-modal-"+s,"data-toggle":"modal"}},[n("img",{staticClass:"play-icon",attrs:{src:e.kkday.url.staticResourceUrl("assets/img/btn_play.svg")}})])])})):e._e(),e._v(" "),n("li",{staticClass:"clearfix"})],2),e._v(" "),t.arrival_desc?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("b",[e._v(e._s(e.data.table_key_langs.arrival_desc))])]),e._v(" "),n("div",{staticClass:"col-md-9 pre-line break-word"},[e._v("\n\t\t\t\t\t"+e._s(t.arrival_desc.desc)+"\n\t\t\t\t")])]):e._e(),e._v(" "),n("hr",{directives:[{name:"show",rawName:"v-show",value:t.active_time,expression:"exp.active_time"}]}),e._v(" "),t.active_time||t.active_time_desc?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("b",[e._v(e._s(e.data.table_key_langs.active_time))])]),e._v(" "),n("div",{staticClass:"col-md-9"},[t.active_time?n("div",e._l(t.active_time.list,(function(s,o){return n("p",{key:o},[e._v("\n\t\t\t\t\t\t\t"+e._s(s.week_title.desc)+"\n\t\t\t\t\t\t\t"),s.start_time?[e._v("\n\t\t\t\t\t\t\t\t"+e._s(s.start_time.desc)+e._s(e.dash())+e._s(s.end_time.desc)+"\n\t\t\t\t\t\t\t\t"),e._.isEmpty(s.last_admission)?e._e():[e._v("\n\t\t\t\t\t\t\t\t\t("+e._s(t.active_time.table_key_langs.last_admission)+e._s(e.colon())+e._s(s.last_admission.desc)+")\n\t\t\t\t\t\t\t\t")]]:[n("span",{staticClass:"text-danger"},[e._v(e._s(s.close_desc.desc))])]],2)})),0):e._e(),e._v(" "),t.active_time_desc?n("div",{staticClass:"break-word",domProps:{innerHTML:e._s(t.active_time_desc.desc)}}):e._e()])]):e._e()]),e._v(" "),n("LightboxSlideshow",{ref:"exp-photo-modal-"+s,refInFor:!0,attrs:{"modal-id":"exp-photo-modal-"+s,"photo-list":t.photo?t.photo.media:[],"lazy-load-eager":1}}),e._v(" "),n("LightboxSlideshow",{ref:"exp-video-modal-"+s,refInFor:!0,attrs:{"modal-id":"exp-video-modal-"+s,"youtube-url":t.video?t.video.media[0].url:"","lazy-load-eager":1}})],1)}))],2)}),[],!1,null,null,null);t.a=u.exports},"./resources/pc/js/components/product/newProductDetail/ProductExtraFee.vue":function(e,t,n){"use strict";var s={name:"ProductExtraFee",props:{moduleData:{type:Object,default:function(){return{}}}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.moduleData.list,(function(t,s){return n("div",{key:s},[n("h5",{staticClass:"break-word"},[e._v("\n\t\t\t"+e._s(t.title)+"\n\t\t")]),e._v(" "),n("p",{staticClass:"pre-line"},[e._v("\n\t\t\t"+e._s(t.desc)+"\n\t\t")])])})),0)}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductGraphic.vue":function(e,t,n){"use strict";var s={name:"ProductGraphic",components:{LightboxSlideshow:n("./resources/pc/js/components/common/LightboxSlideshow.vue").a},directives:{resize:{inserted:function(e,t){var n=e.offsetWidth,s=new Image;if(s.src=t.value,s.onerror=function(){return!1},s.complete){var o=s.naturalHeight,i=s.naturalWidth;e.style.height="".concat(n*(o/i),"px")}else s.onload=function(){var t=s.naturalHeight,o=s.naturalWidth;e.style.height="".concat(n*(t/o),"px"),s.onload=null}}}},props:{moduleData:{type:Object,default:function(){return{}}}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.moduleData.list,(function(t,s){return n("div",{key:s,staticClass:"pd-photo-info"},[n("p",[e._v(e._s(t.desc))]),e._v(" "),e._l(t.media,(function(o,i){return n("div",{key:i,staticClass:"pd-info-img"},["img"===t.media_type?n("div",{directives:[{name:"resize",rawName:"v-resize:url",value:e.kkday.image.convertToWebp(e.kkday.image.get({path:o.url,width:"960",quality:"55"})),expression:"kkday.image.convertToWebp(kkday.image.get({\n\t\t\t\t\tpath: media.url,\n\t\t\t\t\twidth: '960',\n\t\t\t\t\tquality: '55',\n\t\t\t\t}))",arg:"url"}]},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.kkday.image.convertToWebp(e.kkday.image.get({path:o.url,width:"960",quality:"55"})),expression:"kkday.image.convertToWebp(kkday.image.get({\n\t\t\t\t\t\tpath: media.url,\n\t\t\t\t\t\twidth: '960',\n\t\t\t\t\t\tquality: '55',\n\t\t\t\t\t}))"}],attrs:{"data-target":"#graphic-modal-"+s+"-"+i,alt:o.source_alt,"data-toggle":"modal"}}),e._v(" "),n("LightboxSlideshow",{attrs:{"modal-id":"graphic-modal-"+s+"-"+i,"photo-list":[{url:o.url}]}})],1):n("div",{staticClass:"embed-responsive embed-responsive-16by9"},[n("iframe",{attrs:{src:o.url,frameborder:"0"}})])])}))],2)})),0)}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductInfo.vue":function(e,t,n){"use strict";var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ProductInfo.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"prodInfo"}},[n("div",{staticClass:"product-name"},[n("LayoutFlexRow",{staticClass:"product-title",attrs:{"padding-top":"1","padding-right":"3",gap:"4","vertical-align":"top"},scopedSlots:e._u([{key:"left",fn:function(){return[e.isStore?n("span",{staticClass:"product-title__tag"},[n("MerchantTag",{attrs:{size:"lg"}})],1):e._e()]},proxy:!0},{key:"remain",fn:function(){return[n("h1",{staticClass:"product-title__name"},[e._v("\n\t\t\t\t\t"+e._s(e.prodInfo.name)+"\n\t\t\t\t")])]},proxy:!0}])}),e._v(" "),n("ul",{staticClass:"product-action list-unstyled"},[e._e(),e._v(" "),n("li",[e.isInWishList?n("div",{staticClass:"btn-wish",attrs:{id:"product-action-remove-from-wish-list"},on:{click:e.removeFromWishList}},[n("i",{staticClass:"fa fa-heart text-danger popup"})]):e.isPlayHeartBreakAnimate?n("div",{staticClass:"btn-wish"},[n("i",{staticClass:"ani-heart-red"})]):n("div",{staticClass:"btn-wish",attrs:{id:"product-action-add-to-wish-list"},on:{click:e.addToWishList}},[n("i",{staticClass:"fa fa-heart-o"})])])])],1),e._v(" "),n("LayoutList",{attrs:{gap:"4"}},[e.isWhlbProd?e._e():n("ProductLocation",{attrs:{location:e.prodLocation}}),e._v(" "),n("LayoutListInline",{staticClass:"product-score"},[n("ProductStar",{staticClass:"text-sm",attrs:{"show-star":e.isShowProductStar,"star-percentage":e.prodInfo.statistics.starPercentage,"avg-score":e.prodInfo.statistics.rec_avg_score},nativeOn:{click:function(t){return e.scrollToComments.apply(null,arguments)}}},[n("span",{staticClass:"text-grey-light"},[e._v("("+e._s(e.productRelatedData.commentInfo.recCount)+")")])]),e._v(" "),e.isShowProductOrderCount?n("div",[e.isShowProductStar?n("span",{staticClass:"gap"},[e._v("|")]):e._e(),e._v(" "),n("span",{staticClass:"text-grey"},[e._v(e._s(e.lang("product_index_has_sold"))+" "+e._s(e.product.formattedOrderCount))])]):e._e()],1),e._v(" "),e.productAnnouncement?n("ProductAnnouncement",{attrs:{"data-toggle":"modal","data-target":"#announcement-info-modal"}},[e._v("\n\t\t\t"+e._s(e.productAnnouncement)+"\n\t\t")]):e._e()],1),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"product-benefit"},[e.isShowKktourPromoTag?n("div",{staticClass:"critical-info"},[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_kk_verified.svg")}}),n("span",[e._v(e._s(e.lang("product_index_kkday_tour_tip"))+" "+e._s(e.lang("product_index_kkday_tour_tip_2")))])]):e._e(),e._v(" "),e.disPlayScheduleTime?n("div",{staticClass:"critical-info"},[n("i",{staticClass:"icons icon-clock"}),n("span",[e._v(e._s(e.disPlayScheduleTime))])]):e._e(),e._v(" "),e.showGuideLang?n("div",{staticClass:"critical-info"},[n("i",{staticClass:"icons icon-globe"}),n("span",[e._v(e._s(e.displayGuideLangs))])]):e._e(),e._v(" "),e.isRedeemProduct||e.isRedeemKkgift?n("div",{staticClass:"critical-info"},[n("i",{staticClass:"icons icon-close"}),n("span",[e._v(e._s(e.lang("common_can_not_cancel")))])]):e._e(),e._v(" "),e.isShowUseValid?n("div",{staticClass:"critical-info"},[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_calendar_fill.svg")}}),n("span",[e._v(e._s(e.displayUseValid))])]):e.isShowRefundPolicy?n("div",{staticClass:"critical-info"},["1"===e.prodInfo.refund_policy.policy_type?[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_cancellation.svg")}}),n("span",[e._v(e._s(e.lang("common_free_cancellation")))])]:e._e(),e._v(" "),"2"===e.prodInfo.refund_policy.policy_type?[n("i",{staticClass:"icons icon-close"}),n("span",[e._v(e._s(e.lang("common_can_not_cancel")))])]:e._e(),e._v(" "),"3"!==e.prodInfo.refund_policy.policy_type||e.isFreePartialRefundExist?e._e():[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_cancellation.svg")}}),n("span",[e._v(e._s(e.lang("common_special_cancel_fee")))])],e._v(" "),"3"===e.prodInfo.refund_policy.policy_type&&e.isFreePartialRefundExist?[n("img",{attrs:{src:e.kkday.url.staticResourceUrl("assets/img/ic_cancellation.svg")}}),n("span",[e._v(e._s(e.printf(e.lang("common_day_more_free_cancel"),[e.freePartialRefund.day_min])))])]:e._e()],2):e._e(),e._v(" "),e.isShowExchangeDesc?[e.isSwipeToRedeem?n("div",{staticClass:"critical-info"},[n("i",{staticClass:"icons icon-screen-smartphone"}),n("span",[e._v(e._s(e.lang("product_index_swipe_to_redeem")))])]):n("div",{staticClass:"critical-info"},[n("i",{staticClass:"icons icon-screen-smartphone"}),n("span",[e._v(e._s(e.prodDescModules.PMDL_EXCHANGE.content.properties.exchange_type.desc))])])]:e._e()],2),e._v(" "),e.isShowSecondHorizontalLine?n("hr"):e._e(),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.prodInfo.feature)}})],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{attrs:{href:"javascript:;"}},[t("i",{staticClass:"icons icon-share"})])}],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductInfoBoard.vue":function(e,t,n){"use strict";var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ProductInfoBoard.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutList",{staticClass:"product-bar-content",attrs:{id:"booking-bar","padding-x":"5","padding-y":"6",gap:"5"}},[n("div",{ref:"priceBar",staticClass:"price-bar",class:{"fixed-bar":e.isPriceBarFixed,hidden:e.footerIntersection}},[n("div",{staticClass:"container"},[n("div",{staticClass:"price-info"},[e.isShowPriceInfo?n("div",{staticClass:"product-pricing text-left"},[e.isShowPriceFromTxt&&!e._.isEmpty(e.lang("common_price_prefix",!1))?n("span",{staticClass:"text-grey"},[e._v(e._s(e.lang("common_price_prefix")))]):e._e(),e._v(" "),n("h2",{staticClass:"text-heavy"},[e._v("\n\t\t\t\t\t\t"+e._s(e._f("currencyFormat")(e.currency))+" "+e._s(e.priceFormat(e.prodInfo.sale_price.min_price,e.currency))+"\n\t\t\t\t\t")]),e._v(" "),e.isShowPriceFromTxt&&!e._.isEmpty(e.lang("common_price_suffix",!1))?n("span",{staticClass:"text-grey"},[e._v(e._s(e.lang("common_price_suffix")))]):e._e(),e._v(" "),e.prodInfo.sale_price.official_price?n("OriginPrice",{attrs:{currency:e.currency,"origin-price":e.prodInfo.sale_price.official_price,"sale-price":e.prodInfo.sale_price.min_price}}):e._e()],1):e._e()]),e._v(" "),e.isLimitedPeriodProduct?n("div",{staticClass:"text-grey"},[e._v("\n\t\t\t\t"+e._s(e.limitedPeriodInfoText)+"\n\t\t\t")]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isScrollToDesModuleArea,expression:"!isScrollToDesModuleArea"}]},[e.isShowCouponList?n("div",{staticClass:"dropdown coupon-dropdown hidden-sm hidden-xs mt-10",attrs:{id:"couponDropDown"},on:{mouseover:e.handleCouponSectionMouseOver,mouseleave:function(t){return e.updateIsShowCouponList(!1)}}},[e.isCouponListLoading?n("FakeCouponElement"):n("CouponSection"),e._v(" "),n("CouponList"),e._v(" "),n("span",{staticClass:"dropdown-arrow"})],1):e._e()]),e._v(" "),n("WhlbSettingButton",{class:{"fixed-bar__block-button":e.isPriceBarFixed,"btn-not-alone":e.isButtonNotAlone},attrs:{"is-disabled":!e.prodSetting.is_sale||e.isDisplaySoldOut,theme:"primary","is-block":!0},nativeOn:{click:function(t){return e.scrollToOptionSection.apply(null,arguments)}}},[e._v("\n\t\t\t\t"+e._s(e.itemSelectButtonText)+"\n\t\t\t")])],1)]),e._v(" "),e.isPriceBarFixed?n("div",{style:e.tempPriceBarStyleObj}):e._e(),e._v(" "),e.getElementRenderState("discountTag")?n("div",[n("div",{staticClass:"label label-warning"},[e._v("\n\t\t\t"+e._s(e.lang("common_www_event_discount_text"))+"\n\t\t")])]):e._e(),e._v(" "),e.isShowImmediatelyConfirm?n("div",{staticClass:"critical-info"},[n("i",{staticClass:"fa fa-flash text-primary fa-lg"}),n("span",[e._v(e._s(e.lang("common_imm_confirm")))])]):e._e(),e._v(" "),e.hintItems?n("div",{staticClass:"booking-hint"},e._l(e.hintItems,(function(t,s){return n("div",{key:s,staticClass:"booking-hint__item"},[n("img",{staticClass:"booking-hint__icon",attrs:{src:t.iconUrl}}),e._v(" "),n("a",{staticClass:"text-grey",attrs:{href:t.linkUrl,target:"_blank",rel:"noopener"}},[e._v("\n\t\t\t\t"+e._s(t.linkText)+"\n\t\t\t")])])})),0):e._e()])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductIntroduction.vue":function(e,t,n){"use strict";var s={name:"ProductIntroduction",inject:["resetDescModulePosition"],mixins:[n("./resources/pc/js/mixins/newProduct/expand.js").a],props:{moduleData:{type:Object,default:function(){return{}}}},computed:{expandBtnText:function(){return this.isExpand?this.lang("product_index_collapse_whole_product_intro"):this.lang("product_index_view_whole_product_intro")}},mounted:function(){var e=this;this.$nextTick((function(){e.checkExpandable({unit:"vh",value:80})}))}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"txtDiv",staticClass:"info-sec-collapsable",class:{expand:e.isExpand}},[e.moduleData?n("div",{domProps:{innerHTML:e._s(e.moduleData.desc)}}):e._e(),e._v(" "),e._t("default"),e._v(" "),e.isExpandable&&e.expandControl?n("div",{staticClass:"overlap"},[n("a",{ref:"expandBtn",staticClass:"link-secondary text-md",attrs:{href:"javascript:;"},on:{click:e.toggleExpand}},[e._v(e._s(e.expandBtnText)+" "),n("i",{staticClass:"fa",class:{"fa-angle-down":!e.isExpand,"fa-angle-up":e.isExpand}})])]):e._e()],2)])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductLocation.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.to-string.js");var s={name:"ProductLocation",props:{location:{type:Array,default:function(){return[]}}},computed:{validLocations:function(){return _.map(this.location,(function(e){return e.city=_.filter(e.city,(function(e){return!_.isEmpty(e.cityName)})),e}))}},methods:{getUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=_.isEmpty(t)?e:e+"?city="+t;return kkday.url.kkSiteUrl("product/productlist/")+n}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._.isEmpty(e.validLocations)?e._e():n("div",{staticClass:"critical-info"},[n("i",{staticClass:"icons icon-location-pin"}),e._v(" "),e._l(e.validLocations,(function(t,s){return[n("a",{key:"countryName"+s,attrs:{href:e.getUrl(t.country.countryCode),target:"_blank"}},[e._v("\n\t\t\t"+e._s(t.country.countryName)+"\n\t\t")]),e._v(" "),e._.isEmpty(t.city)?e._e():[e._v("\n\t\t\t-\n\t\t\t"),e._l(t.city,(function(o,i){return[n("a",{key:"cityName"+s+"-"+i,attrs:{href:e.getUrl(t.country.countryCode,o.cityCode),target:"_blank"}},[e._v("\n\t\t\t\t\t"+e._s(o.cityName)+"\n\t\t\t\t")]),e._v(" "),i<t.city.length-1?n("span",{key:"cityNameDot"+s+"-"+i},[e._v(",")]):e._e()]}))],e._v(" "),s!==e.location.length-1?[e._v("\n\t\t\t/\n\t\t")]:e._e()]}))],2)}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductNationality.vue":function(e,t,n){"use strict";var s={name:"ProductNationality",props:{moduleData:{type:Object,default:function(){return{}}}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.moduleData.properties.nationality_allow?[n("h5",[e._v(e._s(e.moduleData.properties.nationality_allow.title))]),e._v(" "),n("ul",[n("li",[e._v(e._s(e.moduleData.properties.nationality_allow.desc))])])]:e._e(),e._v(" "),e.moduleData.properties.nationality_not_allow?[n("h5",[e._v(e._s(e.moduleData.properties.nationality_not_allow.title))]),e._v(" "),n("ul",[n("li",[e._v(e._s(e.moduleData.properties.nationality_not_allow.desc))])])]:e._e(),e._v(" "),e.moduleData.properties.notes?[n("h5",[e._v(e._s(e.moduleData.properties.notes.title))]),e._v(" "),n("ul",e._l(e.moduleData.properties.notes.list,(function(t,s){return n("li",{key:s},[e._v("\n\t\t\t\t"+e._s(t.desc)+"\n\t\t\t")])})),0)]:e._e()],2)}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductNotice.vue":function(e,t,n){"use strict";var s={name:"ProductNotice",props:{moduleData:{type:Object,default:function(){return{}}},isShowBeforeSale:{type:Boolean,default:!0},isShowAfterSale:{type:Boolean,default:!1},isShowTextLink:{type:Boolean,default:!1}},data:function(){return{noticeList:_.get(this.moduleData.content.properties.reminds,"list",[]),custNoticeList:_.get(this.moduleData.content.properties.cust_reminds,"list",[]),afterSaleNoticeList:_.get(this.moduleData.content.properties.cust_reminds_after,"list",[])}},methods:{replaceText:function(e){return kkday.url.wrapWithTag(e,{className:"break-words link"})}}},o=(n("./resources/pc/js/components/product/newProductDetail/ProductNotice.vue?vue&type=style&index=0&id=43e31fd7&scoped=true&lang=scss&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board bg-highlihgt mt-20"},[n("h4",{staticClass:"info-subtitle mt-0"},[e._v("\n\t\t"+e._s(e.moduleData.module_title)+"\n\t")]),e._v(" "),e.isShowAfterSale?n("span",{staticClass:"label label-warning"},[e._v(e._s(e.lang("product_index_order_notice_before")))]):e._e(),e._v(" "),e.isShowBeforeSale?n("div",{staticClass:"mt-10"},[n("ul",[e._l(e.noticeList,(function(t,s){return n("li",{key:"generalNotice"+s},[t.title?n("p",[e._v("\n\t\t\t\t\t"+e._s(t.title)+"\n\t\t\t\t")]):e._e(),e._v(" "),e.isShowTextLink?n("p",{staticClass:"link-wrap",domProps:{innerHTML:e._s(e.replaceText(t.desc))}}):n("p",[e._v("\n\t\t\t\t\t"+e._s(t.desc)+"\n\t\t\t\t")])])})),e._v(" "),e._l(e.custNoticeList,(function(t,s){return n("li",{key:"customNotice"+s},[t.title?n("p",[e._v("\n\t\t\t\t\t"+e._s(t.title)+"\n\t\t\t\t")]):e._e(),e._v(" "),e.isShowTextLink?n("p",{staticClass:"link-wrap",domProps:{innerHTML:e._s(e.replaceText(t.desc))}}):n("p",[e._v("\n\t\t\t\t\t"+e._s(t.desc)+"\n\t\t\t\t")])])}))],2)]):e._e(),e._v(" "),e.isShowAfterSale&&!e._.isEmpty(e.afterSaleNoticeList)?[n("span",{staticClass:"label label-warning"},[e._v(e._s(e.lang("product_index_order_notice_after")))]),e._v(" "),n("div",{staticClass:"mt-10"},[n("ul",e._l(e.afterSaleNoticeList,(function(t,s){return n("li",{key:"afterSaleNotice"+s},[t.title?n("p",[e._v("\n\t\t\t\t\t\t"+e._s(t.title)+"\n\t\t\t\t\t")]):e._e(),e._v(" "),e.isShowTextLink?n("p",{staticClass:"link-wrap",domProps:{innerHTML:e._s(e.replaceText(t.desc))}}):n("p",[e._v("\n\t\t\t\t\t\t"+e._s(t.desc)+"\n\t\t\t\t\t")])])})),0)])]:e._e()],2)}),[],!1,null,"43e31fd7",null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductNotice.vue?vue&type=style&index=0&id=43e31fd7&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/ProductNotice.vue?vue&type=style&index=0&id=43e31fd7&scoped=true&lang=scss&")},"./resources/pc/js/components/product/newProductDetail/ProductSchedule.vue":function(e,t,n){"use strict";var s=n("./resources/pc/js/mixins/newProduct/expand.js"),o=n("./resources/pc/js/components/common/LightboxSlideshow.vue"),i=n("./resources/share/js/helpers/punctuationMark.js"),r={name:"ProductSchedule",inject:["resetDescModulePosition"],components:{LightboxSlideshow:o.a},directives:{resize:{inserted:function(e,t){var n=e.offsetWidth,s=new Image;if(s.src=t.value,s.onerror=function(){return!1},s.complete){var o=s.naturalHeight,i=s.naturalWidth;e.style.height="".concat(n*(o/i),"px")}else s.onload=function(){var t=s.naturalHeight,o=s.naturalWidth;e.style.height="".concat(n*(t/o),"px"),s.onload=null}}}},mixins:[s.a],props:{data:{type:Object,default:function(){return{}}}},data:function(){return{totalDay:this.data.properties.total_day,scheduleList:this.data.properties.schedule_list}},computed:{expandBtnText:function(){return this.isExpand?this.lang("product_index_collapse_whole_schedule"):this.lang("product_index_view_whole_schedule")}},mounted:function(){var e=this;this.$nextTick((function(){e.checkExpandable({unit:"vh",value:80})})),this.$Lazyload.$on("loaded",(function(){e.isExpandable||e.checkExpandable({unit:"vh",value:80})}))},methods:{colon:i.a,comma:i.b}},a=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),c=Object(a.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"txtDiv",staticClass:"info-sec-collapsable",class:{expand:e.isExpand}},[n("div",{staticClass:"critical-info"},[n("i",{staticClass:"icons icon-clock"}),n("span",[e._v(e._s(e.totalDay.title)+e._s(e.colon())+e._s(e.totalDay.desc))])]),e._v(" "),e._l(e.scheduleList.list,(function(t,s){return n("div",{key:t.daily_title.desc},[n("h4",{staticClass:"info-subtitle"},[e._v("\n\t\t\t"+e._s(t.daily_title.desc)+"\n\t\t")]),e._v(" "),t.meals?n("div",{staticClass:"critical-info mb-20"},[n("i",{staticClass:"fa fa-cutlery"}),e._v(" "),n("span",[e._v(e._s(e.scheduleList.table_key_langs.meals)+e._s(e.colon())),e._l(t.meals.list,(function(n,s){return[e._v(e._s(n.desc)),s!==t.meals.list.length-1?[e._v(e._s(e.comma()))]:e._e()]}))],2)]):e._e(),e._v(" "),n("ul",{staticClass:"time-info"},e._l(t.daily_schedule_list.list,(function(t,o){return n("li",{key:o,staticClass:"time-info-spot"},[n("div",{staticClass:"time-info-title"},[t.time?n("div",{staticClass:"time"},[e._v("\n\t\t\t\t\t\t"+e._s(t.time.desc)+"\n\t\t\t\t\t")]):e._e(),e._v(" "),n("div",{staticClass:"txt"},[e._v("\n\t\t\t\t\t\t"+e._s(t.content.desc)+"\n\t\t\t\t\t")])]),e._v(" "),t.media?e._l(t.media.media,(function(i,r){return n("div",{directives:[{name:"resize",rawName:"v-resize:url",value:e.kkday.image.convertToWebp(e.kkday.image.get({path:i.url,width:"960",quality:"55"})),expression:"kkday.image.convertToWebp(kkday.image.get({\n\t\t\t\t\t\t\tpath: media.url,\n\t\t\t\t\t\t\twidth: '960',\n\t\t\t\t\t\t\tquality: '55',\n\t\t\t\t\t\t}))",arg:"url"}],key:r,staticClass:"pd-info-img"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.kkday.image.convertToWebp(e.kkday.image.get({path:i.url,width:"960",quality:"55"})),expression:"kkday.image.convertToWebp(kkday.image.get({\n\t\t\t\t\t\t\t\tpath: media.url,\n\t\t\t\t\t\t\t\twidth: '960',\n\t\t\t\t\t\t\t\tquality: '55',\n\t\t\t\t\t\t\t}))"}],attrs:{"data-target":"#sche-modal-"+s+"-"+o+"-"+r,alt:i.source_alt,"data-toggle":"modal"}}),e._v(" "),n("LightboxSlideshow",{attrs:{"modal-id":"sche-modal-"+s+"-"+o+"-"+r,"photo-list":t.media.media}})],1)})):e._e()],2)})),0)])})),e._v(" "),e.isExpandable&&e.expandControl?n("div",{staticClass:"overlap"},[n("a",{ref:"expandBtn",staticClass:"link-secondary text-md",attrs:{href:"javascript:;"},on:{click:e.toggleExpand}},[e._v(e._s(e.expandBtnText)+" "),n("i",{staticClass:"fa",class:{"fa-angle-down":!e.isExpand,"fa-angle-up":e.isExpand}})])]):e._e()],2)}),[],!1,null,null,null);t.a=c.exports},"./resources/pc/js/components/product/newProductDetail/ProductSuggestRoute.vue":function(e,t,n){"use strict";var s={name:"ProductSuggestRoute",props:{moduleData:{type:Object,default:function(){return{}}}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",e._l(e.moduleData.list,(function(t,s){return n("li",{key:s},[e._v("\n\t\t"+e._s(t.desc)+"\n\t")])})),0)}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductUsage.vue":function(e,t,n){"use strict";var s={name:"ProductUsage",props:{moduleData:{type:Object,default:function(){return{}}}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{domProps:{innerHTML:this._s(this.moduleData.desc)}})])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/ProductVenueLocation.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.to-string.js");var s=n("./resources/pc/js/components/common/GoogleEmbedMap.vue"),o=n("./resources/pc/js/components/common/LightboxSlideshow.vue"),i=n("./resources/pc/js/components/common/Select2.vue"),r=n("./resources/share/js/helpers/punctuationMark.js"),a={name:"ProductVenueLocation",components:{GoogleEmbedMap:s.a,LightboxSlideshow:o.a,Select2:i.a},props:{data:{type:Object,default:function(){return{list:[]}}}},data:function(){return{selectedLocationKey:"0"}},computed:{isDropDownMode:function(){return this.data.list.length>4},dropDownOptions:function(){return _.reduce(this.data.list,(function(e,t,n){return e["".concat(n)]=t.location_name.desc,e}),{})},locationBoardList:function(){return this.isDropDownMode?[this.data.list[this.selectedLocationKey]]:this.data.list}},methods:{colon:r.a,toPhoto:function(e,t){this.$refs["venue-photo-modal-".concat(e)][0].toIndex(t)},toVideo:function(e,t){this.$refs["venue-video-modal-".concat(e)][0].toIndex(t)}}},c=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),u=Object(c.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isDropDownMode?n("Select2",{attrs:{options:e.dropDownOptions},model:{value:e.selectedLocationKey,callback:function(t){e.selectedLocationKey=t},expression:"selectedLocationKey"}}):e._e(),e._v(" "),e._l(e.locationBoardList,(function(t,s){return n("div",{key:t.location_name.desc+s,staticClass:"board map-board"},[n("div",{staticClass:"board-title"},[n("h4",[e._v("\n\t\t\t\t"+e._s(e.data.table_key_langs.location_name)+e._s(e.colon())+e._s(t.location_name.desc)+"\n\t\t\t")]),e._v(" "),n("div",{staticClass:"text-grey break-word"},[e._v("\n\t\t\t\t"+e._s(e.data.table_key_langs.latlng)+e._s(e.colon())+e._s(t.latlng.desc)+"\n\t\t\t")])]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"con"},[t.gather?[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("b",[e._v(e._s(e.data.table_key_langs.gather))])]),e._v(" "),n("div",{staticClass:"col-md-6"},[n("b",{staticClass:"text-lg bg-highlihgt pd-10"},[e._v(e._s(t.gather.desc))])])]),e._v(" "),n("hr")]:e._e(),e._v(" "),t.setout?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("b",[e._v(e._s(e.data.table_key_langs.setout))])]),e._v(" "),n("div",{staticClass:"col-md-6"},[n("b",{staticClass:"text-md"},[e._v(e._s(t.setout.desc))])])]):e._e(),e._v(" "),t.latlng?n("div",{staticClass:"pd-info-map"},[n("GoogleEmbedMap",{attrs:{"map-information":t.latlng}})],1):e._e(),e._v(" "),n("ul",{staticClass:"photo-group"},[t.photo?e._l(t.photo.media,(function(t,o){return n("li",{key:"photo-"+o,staticClass:"photo-item",on:{click:function(t){return e.toPhoto(s,o)}}},[n("div",{staticClass:"img-bg",style:{backgroundImage:"url("+e.kkday.image.convertToWebp(e.kkday.image.get({path:t.url,width:"140",height:"105",crop:"fill"}))+")"},attrs:{"data-target":"#venue-photo-modal-"+s,"data-toggle":"modal"}})])})):e._e(),e._v(" "),t.video?e._l(t.video.media,(function(t,o){return n("li",{key:"video-"+o,staticClass:"photo-item",on:{click:function(t){return e.toVideo(s,o)}}},[n("div",{staticClass:"img-bg",style:{backgroundImage:"url("+t.cover+")"},attrs:{"data-target":"#venue-video-modal-"+s,"data-toggle":"modal"}},[n("img",{staticClass:"play-icon",attrs:{src:e.kkday.url.staticResourceUrl("assets/img/btn_play.svg")}})])])})):e._e(),e._v(" "),n("li",{staticClass:"clearfix"})],2),e._v(" "),t.arrival_desc?n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-3"},[n("b",[e._v(e._s(e.data.table_key_langs.arrival_desc))])]),e._v(" "),n("div",{staticClass:"col-md-9 pre-line break-word"},[e._v("\n\t\t\t\t\t"+e._s(t.arrival_desc.desc)+"\n\t\t\t\t")])]):e._e()],2),e._v(" "),n("LightboxSlideshow",{ref:"venue-photo-modal-"+s,refInFor:!0,attrs:{"modal-id":"venue-photo-modal-"+s,"photo-list":t.photo?t.photo.media:[],"lazy-load-eager":1}}),e._v(" "),n("LightboxSlideshow",{ref:"venue-video-modal-"+s,refInFor:!0,attrs:{"modal-id":"venue-video-modal-"+s,"youtube-url":t.video?t.video.media[0].url:"","lazy-load-eager":1}})],1)}))],2)}),[],!1,null,null,null);t.a=u.exports},"./resources/pc/js/components/product/newProductDetail/RecentReview.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.number.constructor.js");var s=n("./resources/pc/js/helpers/common.js"),o=n("./resources/pc/js/components/product/newProductDetail/CommentLoading.vue"),i=n("./resources/pc/js/components/product/newProductDetail/CommentDetail.vue"),r={components:{CommentLoading:o.a,CommentDetail:i.default},props:{comment:{type:Object,default:null},langUi:{type:String,default:null},scrollOffset:{type:Number,default:0}},methods:{scrollToComments:function(){Object(s.w)('[data-spy="review"]',{offset:10,scrollOffset:this.scrollOffset})}}},a=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),c=Object(a.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"recent-review"},[n("h3",[e._v("\n\t\t"+e._s(e.lang("product_index_recent_review"))+"\n\t\t"),n("a",{staticClass:"text-muted pull-right",on:{click:function(t){return t.preventDefault(),e.scrollToComments.apply(null,arguments)}}},[e._v("\n\t\t\t"+e._s(e.lang("product_index_more_reviews"))+"\n\t\t\t"),n("i",{staticClass:"fa fa-angle-right"})])]),e._v(" "),e.comment?e._e():n("CommentLoading"),e._v(" "),e.comment?n("CommentDetail",{attrs:{comment:e.comment,"translate-target":e.langUi}}):e._e()],1)}),[],!1,null,null,null);t.a=c.exports},"./resources/pc/js/components/product/newProductDetail/RefundPolicy.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js");function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw r}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var r=Object.defineProperty,a=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,l=function(e,t,n){return t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},d={name:"RefundPolicy",inject:{checkIsWhlbItemShow:{default:function(){return function(){return""}}}},props:{data:{type:Object,default:function(){return{}}}},computed:function(e,t){for(var n in t||(t={}))c.call(t,n)&&l(e,n,t[n]);if(a){var s,i=o(a(t));try{for(i.s();!(s=i.n()).done;){n=s.value;u.call(t,n)&&l(e,n,t[n])}}catch(e){i.e(e)}finally{i.f()}}return e}({isRedeemProduct:function(){return _.get(this.specialRule,"is_redeem_product",!1)},isShowHint:function(){return"2"!==this.data.refundPolicy.policy_type&&this.lang("common_cancel_policy_explanation")&&this.checkIsWhlbItemShow({block:"productInfo",element:"cancellationPolicyDesc"})}},Object(s.c)({specialRule:"common/specialRule",isRedeemKkgift:"common/isRedeemKkgift"}))},m=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),p=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isRedeemProduct||e.isRedeemKkgift?n("p",[e._v("\n\t\t"+e._s(e.lang("common_can_not_cancel"))+"\n\t")]):e._.isEmpty(e.data.moduleData.properties.partial_refund)?n("p",[e._v("\n\t\t"+e._s(e.data.moduleData.properties.policy_type.desc)+"\n\t")]):n("ul",e._l(e.data.moduleData.properties.partial_refund.list,(function(t,s){return n("li",{key:s},[e._v("\n\t\t\t"+e._s(t.desc)+"\n\t\t")])})),0),e._v(" "),e.isShowHint?n("div",{staticClass:"tip mt-20"},[n("i",{staticClass:"icons icon-info"}),e._v("\n\t\t"+e._s(e.lang("common_cancel_policy_explanation"))+"\n\t")]):e._e()])}),[],!1,null,null,null);t.a=p.exports},"./resources/pc/js/components/product/newProductDetail/SelectDate.vue":function(e,t,n){"use strict";var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/SelectDate.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"select-date",attrs:{id:"select-date"}},[this._m(0),this._v(" "),t("input",{ref:"datepickerInput",staticClass:"select-date__input",attrs:{placeholder:this.displayName,type:"text",readonly:""}})])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"select-date__icon"},[t("i",{staticClass:"icons icon-calendar"})])}],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/StoreInfo.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.number.constructor.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./resources/pc/js/store/modules/merchant.js");function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var a,c,u=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=function(e,t,n){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},g=function(e,t){for(var n in t||(t={}))p.call(t,n)&&h(e,n,t[n]);if(m){var s,o=i(m(t));try{for(o.s();!(s=o.n()).done;){n=s.value;f.call(t,n)&&h(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},v={name:"StoreInfo",props:{supplierOid:{type:Number,required:!0}},computed:(a=g({},Object(s.e)("merchant",["supplier"])),c={isInfoVisible:function(){return!_.isEmpty(this.supplier)},supplierInfo:function(){var e=this.supplier;return{logoUrl:e.logoUrl,legalName:e.legalName,supplierName:e.supplierName,orderEmail:e.orderEmail,introduction:this.lang("merchant_info_introduction"),whatIsMarketplace:this.lang("merchant_info_what_is_it"),lookupMerchant:this.lang("merchant_info_lookup_merchant")}}},l(a,d(c))),beforeCreate:function(){this.$store.state.merchant||this.$store.registerModule("merchant",o.a)},mounted:function(){this.getSupplier(this.supplierOid)},methods:g({},Object(s.b)({getSupplier:"merchant/getSupplier"}))},y=(n("./resources/pc/js/components/product/newProductDetail/StoreInfo.vue?vue&type=style&index=0&id=5ba2b392&lang=scss&scoped=true&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),b=Object(y.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isInfoVisible,expression:"isInfoVisible"}],staticClass:"store-info"},[n("h3",{staticClass:"store-info__introduction"},[e._v("\n\t\t"+e._s(e.supplierInfo.introduction)+"\n\t")]),e._v(" "),n("LayoutFlexRow",{staticClass:"store-info__main",attrs:{padding:"5",gap:"4"},scopedSlots:e._u([{key:"left",fn:function(){return[n("LayoutAlign",{attrs:{"vertical-align":"top"}},[n("img",{staticClass:"store-info__logo",attrs:{src:e.kkday.image.convertToWebp(e.kkday.image.get({path:e.supplierInfo.logoUrl,width:"100",height:"100",crop:"fill"})),alt:e.supplierInfo.legalName}})])]},proxy:!0},{key:"remain",fn:function(){return[n("LayoutList",{attrs:{gap:"2"}},[n("div",{staticClass:"store-info__title"},[e._v("\n\t\t\t\t\t"+e._s(e.supplierInfo.legalName)+"\n\t\t\t\t")]),e._v(" "),n("div",{staticClass:"store-info__info"},[e._v("\n\t\t\t\t\t"+e._s(e.supplierInfo.supplierName)+"\n\t\t\t\t")]),e._v(" "),n("div",{staticClass:"store-info__info"},[n("i",{staticClass:"fa fa-envelope-o store-info__icon",attrs:{"aria-hidden":"true"}}),e._v("\n\t\t\t\t\t"+e._s(e.supplierInfo.orderEmail)+"\n\t\t\t\t")]),e._v(" "),n("a",{staticClass:"store-info__info store-info__link",on:{click:function(t){return e.$emit("show-merchant-detail")}}},[e._v("\n\t\t\t\t\t"+e._s(e.supplierInfo.whatIsMarketplace)+"\n\t\t\t\t")])])]},proxy:!0},{key:"right",fn:function(){return[n("LayoutAlign",{attrs:{"vertical-align":"center"}},[n("a",{staticClass:"btn btn-info",attrs:{rel:"noopener",target:"_blank",href:e.kkday.url.kkSiteUrl("merchant/"+e.supplierOid)}},[e._v("\n\t\t\t\t\t"+e._s(e.supplierInfo.lookupMerchant)+"\n\t\t\t\t")])])]},proxy:!0}])})],1)}),[],!1,null,"5ba2b392",null);t.a=b.exports},"./resources/pc/js/components/product/newProductDetail/StoreInfo.vue?vue&type=style&index=0&id=5ba2b392&lang=scss&scoped=true&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/product/newProductDetail/StoreInfo.vue?vue&type=style&index=0&id=5ba2b392&lang=scss&scoped=true&")},"./resources/pc/js/components/product/newProductDetail/UseValid.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.to-string.js");var s={name:"UseValid",props:{moduleData:{type:Object,default:function(){return{}}}},computed:{requireProperties:function(){return _.filter(this.moduleData.properties,(function(e){return null!==e}))}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",e._l(e.requireProperties,(function(t,s){return n("li",{key:s},[e._v("\n\t\t"+e._s(t.desc)+"\n\t")])})),0)}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/product/newProductDetail/WifiSimSpecBoard.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.to-string.js");var s={name:"WifiSimSpecBoard",props:{moduleData:{type:Object,default:function(){return{}}}},computed:{validProperties:function(){return _.filter(this.moduleData.properties,(function(e){return!_.isEmpty(e)}))}}},o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table info-table"},[n("tbody",e._l(e.validProperties,(function(t,s){return n("tr",{key:s},[n("td",{staticClass:"col-xs-3"},[n("b",[e._v(e._s(t.title))])]),e._v(" "),"list"!==t.type?n("td",[e._v("\n\t\t\t\t"+e._s(t.desc)+"\n\t\t\t")]):n("td",e._l(t.list,(function(t,s){return n("p",{key:s},[e._v("\n\t\t\t\t\t"+e._s(t.desc)+"\n\t\t\t\t")])})),0)])})),0)])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/store/CloseButton.vue?vue&type=style&index=0&id=09dfb188&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/CloseButton.vue?vue&type=style&index=0&id=09dfb188&scoped=true&lang=scss&")},"./resources/pc/js/components/store/Divider.vue?vue&type=style&index=0&id=45b03622&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/Divider.vue?vue&type=style&index=0&id=45b03622&scoped=true&lang=scss&")},"./resources/pc/js/components/store/EntryButton.vue":function(e,t,n){"use strict";var s=n("./resources/pc/js/mixins/conversation/index.js"),o=n("./resources/pc/js/mixins/conversation/window.js"),i=(n("./resources/pc/sass/store/message.scss"),{mixins:[s.a,o.a],props:{targetUser:{type:Object,default:function(){return{}}}},computed:{isUnreadWarningVisible:function(){var e;return((null==(e=this.mapTargetUser(this.targetUser))?void 0:e.unread_message_count)||0)>0}},mounted:function(){window.sessionStorage.getItem("should_open_marketplace_window")&&(window.sessionStorage.removeItem("should_open_marketplace_window"),this.openMarketplaceWindow())}}),r=(n("./resources/pc/js/components/store/EntryButton.vue?vue&type=style&index=0&id=7f294dae&scoped=true&lang=scss&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),a=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutFlexRow",{class:["marketplace-entry-button",e.isUnreadWarningVisible&&"marketplace-entry-button--unread"],attrs:{"padding-x":"4",gap:"3","vertical-align":"center"},nativeOn:{click:function(t){return e.openMarketplaceWindow.apply(null,arguments)}},scopedSlots:e._u([{key:"left",fn:function(){return[n("img",{attrs:{width:"18",height:"18",src:e.kkday.url.staticResourceUrl("assets/img/icons/v2/ic_freshchat_mkbot.svg")}})]},proxy:!0},{key:"remain",fn:function(){return[n("span",[e._v(e._s(e.lang("conversation_index_message_title")))])]},proxy:!0}])})}),[],!1,null,"7f294dae",null);t.a=a.exports},"./resources/pc/js/components/store/EntryButton.vue?vue&type=style&index=0&id=7f294dae&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/EntryButton.vue?vue&type=style&index=0&id=7f294dae&scoped=true&lang=scss&")},"./resources/pc/js/components/store/MessageBubble.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/MessageBubble.vue?vue&type=style&index=0&lang=scss&")},"./resources/pc/js/components/store/MessageFile.vue?vue&type=style&index=0&id=1c7f42e6&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/MessageFile.vue?vue&type=style&index=0&id=1c7f42e6&scoped=true&lang=scss&")},"./resources/pc/js/components/store/MessageImage.vue?vue&type=style&index=0&id=3846b1d9&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/MessageImage.vue?vue&type=style&index=0&id=3846b1d9&scoped=true&lang=scss&")},"./resources/pc/js/components/store/MessageWindow.vue":function(e,t,n){"use strict";n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.regexp.constructor.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/web.url.js"),n("./node_modules/core-js/modules/web.url-search-params.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array.find-index.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var s=n("./resources/pc/js/config/conversation.js"),o=n("./resources/pc/js/mixins/conversation/index.js"),i=n("./resources/pc/js/mixins/conversation/window.js"),r=n("./resources/pc/js/helpers/conversation.js"),a=n("./node_modules/moment/moment.js-exposed"),c=n.n(a),u=(n("./resources/pc/sass/store/message.scss"),{props:{logoInfo:{type:Object,required:!0}}}),l=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),d=Object(l.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutFlexRow",{staticClass:"marketplace-message-container__header",attrs:{"padding-top":"3","padding-x":"4","padding-bottom":"7",gap:"3","vertical-align":"center"},scopedSlots:e._u([{key:"left",fn:function(){return[n("img",{staticClass:"marketplace-message-container__logo",attrs:{width:"32",height:"32",src:e.kkday.url.staticResourceUrl(e.logoInfo.imgPath)}})]},proxy:!0},{key:"remain",fn:function(){return[n("span",{staticClass:"marketplace-message-container__title"},[e._v("\n\t\t\t"+e._s(e.logoInfo.name)+"\n\t\t")])]},proxy:!0}])})}),[],!1,null,null,null).exports,m={name:"MessageLoading"},p=Object(l.a)(m,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dot-load"},[t("div",{staticClass:"dot dot-1 bg-grey"}),this._v(" "),t("div",{staticClass:"dot dot-2 bg-grey"}),this._v(" "),t("div",{staticClass:"dot dot-3 bg-grey"})])}],!1,null,"7b8c33d6",null).exports,f={components:{SVGUse:function(){return n.e(15).then(n.bind(null,"./resources/pc/js/components/common/SVGUse.vue"))}},props:{theme:{type:String,default:""},iconWidth:{type:String,default:"16"},iconHeight:{type:String,default:"16"}}},h=(n("./resources/pc/js/components/store/CloseButton.vue?vue&type=style&index=0&id=09dfb188&scoped=true&lang=scss&"),Object(l.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:["close-button-root","close-button","close-button-"+e.theme],on:{click:function(t){return e.$emit("update:handle-close")}}},[n("SVGUse",{staticClass:"close-button__icon",attrs:{name:"#v2_ic_close",width:e.iconWidth,height:e.iconHeight}})],1)}),[],!1,null,"09dfb188",null).exports),g={components:{CloseButton:h},props:{isCloseVisible:{type:Boolean,default:!1}}},v=Object(l.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutFlexRow",{attrs:{"vertical-align":"top","padding-y":"4","padding-x":"5",gap:"5"},scopedSlots:e._u([{key:"remain",fn:function(){return[e._t("default")]},proxy:!0},{key:"right",fn:function(){return[e.isCloseVisible?n("CloseButton",{attrs:{"icon-width":"10","icon-height":"10",theme:"danger-circle"},on:{"update:handle-close":function(t){return e.$emit("update:handle-close")}}}):e._e()]},proxy:!0}],null,!0)})}),[],!1,null,"5d26703c",null).exports,y={props:{href:{type:String,required:!0},imgPath:{type:String,default:""},title:{type:String,default:""},label:{type:String,default:""},note:{type:String,default:""}}},b=(n("./resources/pc/js/components/store/PreviewTemplate.vue?vue&type=style&index=0&id=e72e8f2c&scoped=true&lang=scss&"),Object(l.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"product-template-root link",attrs:{href:e.href,target:"_blank",rel:"noopener"}},[n("LayoutFlexRow",{staticClass:"product-template",attrs:{"vertical-align":"top",gap:"4",padding:"4"},scopedSlots:e._u([{key:"left",fn:function(){return[e._t("default"),e._v(" "),n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.kkday.image.convertToWebp(e.kkday.image.get({path:e.imgPath,width:"64",height:"64",crop:"fill"})),expression:"kkday.image.convertToWebp(kkday.image.get({\n\t\t\t\t\tpath: imgPath,\n\t\t\t\t\twidth: '64',\n\t\t\t\t\theight: '64',\n\t\t\t\t\tcrop: 'fill',\n\t\t\t\t}))",arg:"background-image"}],staticClass:"product-template__img"})]},proxy:!0},{key:"remain",fn:function(){return[n("LayoutList",{attrs:{gap:"2"}},[e.label?n("div",{staticClass:"product-template__info"},[e._v("\n\t\t\t\t\t"+e._s(e.label)+"\n\t\t\t\t")]):e._e(),e._v(" "),e.title?n("div",{staticClass:"product-template__title"},[e._v("\n\t\t\t\t\t"+e._s(e.title)+"\n\t\t\t\t")]):e._e(),e._v(" "),e.note?n("div",{staticClass:"product-template__info"},[e._v("\n\t\t\t\t\t"+e._s(e.note)+"\n\t\t\t\t")]):e._e()])]},proxy:!0}],null,!0)})],1)}),[],!1,null,"e72e8f2c",null).exports),j=(n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.object.values.js"),{DEFAULT:"default",PRIMARY:"primary"}),k={LEFT:"left",RIGHT:"right"},S={props:{bubbleSide:{validator:function(e){return Object.values(k).includes(e)},required:!0},bubbleTheme:{validator:function(e){return Object.values(j).includes(e)},default:"default"},avatarPath:{type:String,default:""},isMultipleLines:{type:Boolean,default:!0}},computed:{isLeftBubble:function(){return this.bubbleSide===k.LEFT}}},w=(n("./resources/pc/js/components/store/MessageBubble.vue?vue&type=style&index=0&lang=scss&"),Object(l.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutFlexRow",{class:["marketplace-message-conversation","marketplace-message-conversation--"+e.bubbleSide,"marketplace-message-conversation--"+e.bubbleTheme],attrs:{"vertical-align":"top",gap:"2"},scopedSlots:e._u([{key:"left",fn:function(){return[e.isLeftBubble&&e.avatarPath?n("img",{staticClass:"marketplace-message-conversation__avatar",attrs:{width:"24",height:"24",src:e.avatarPath}}):e._e()]},proxy:!0},{key:"remain",fn:function(){return[n("LayoutFlexColumn",{attrs:{"horizontal-align":e.bubbleSide},scopedSlots:e._u([{key:"remain",fn:function(){return[n("div",{class:["marketplace-message-conversation__message",e.isMultipleLines?"marketplace-message-conversation__message--multiple-lines":null]},[e._t("message")],2)]},proxy:!0},{key:"bottom",fn:function(){return[n("span",{staticClass:"marketplace-message-conversation__time"},[e._t("time")],2)]},proxy:!0}],null,!0)})]},proxy:!0},{key:"right",fn:function(){return[!e.isLeftBubble&&e.avatarPath?n("img",{staticClass:"marketplace-message-conversation__avatar",attrs:{width:"24",height:"24",src:e.avatarPath}}):e._e()]},proxy:!0}])})}),[],!1,null,null,null).exports),P={LEFT:"left",RIGHT:"right"},x={props:{imgPath:{type:String,default:""},time:{type:String,default:""},imagePosition:{validator:function(e){return Object.values(P).includes(e)},required:!0}},data:function(){return{isImageLoaded:!1}},methods:{onImgLoad:function(){this.isImageLoaded=!0}}},C=(n("./resources/pc/js/components/store/MessageImage.vue?vue&type=style&index=0&id=3846b1d9&scoped=true&lang=scss&"),Object(l.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutList",{attrs:{"horizontal-align":e.imagePosition,gap:"2"}},[n("div",{staticClass:"marketplace-message-image"},[n("img",{class:["marketplace-message-image__img",e.isImageLoaded?null:"marketplace-message-image__img--empty"],attrs:{src:e.imgPath},on:{load:e.onImgLoad}})]),e._v(" "),n("span",{staticClass:"marketplace-message-image__time"},[e._v("\n\t\t"+e._s(e.time)+"\n\t")])])}),[],!1,null,"3846b1d9",null).exports),D={name:"MessageFile",components:{MessageBubble:w},props:{file:{type:Object,required:!0}}},O=(n("./resources/pc/js/components/store/MessageFile.vue?vue&type=style&index=0&id=1c7f42e6&scoped=true&lang=scss&"),{components:{MessageFile:Object(l.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("MessageBubble",{attrs:{"avatar-path":e.file.avatarPath,"bubble-side":e.file.bubbleSide,"bubble-theme":e.file.bubbleTheme,"is-multiple-lines":!1},scopedSlots:e._u([{key:"message",fn:function(){return[n("a",{attrs:{target:"_blank",rel:"noopener",href:e.file.filePath,download:e.file.fileName}},[n("p",{staticClass:"message-file__content message-file--hover"},[e._v("\n\t\t\t\t"+e._s(e.file.fileName)+"\n\t\t\t")])])]},proxy:!0},{key:"time",fn:function(){return[n("span",[e._v(e._s(e.file.time))]),e._v(" "),n("span",[e._v("｜")]),e._v(" "),n("a",{attrs:{target:"_blank",rel:"noopener",href:e.file.filePath,download:e.file.fileName}},[n("span",{staticClass:"message-file--hover"},[e._v("\n\t\t\t\t"+e._s(e.lang("conversation_index_message_save"))+"\n\t\t\t")])])]},proxy:!0}])})}),[],!1,null,"1c7f42e6",null).exports,MessageImage:C,MessageBubble:w,PreviewTemplate:b},props:{dividerText:{type:String,default:""},dialogList:{type:Array,required:!0}}}),E=Object(l.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutList",{attrs:{gap:"5"}},[e._l(e.dialogList,(function(t){return["product"===t.type||"order"===t.type?n("PreviewTemplate",{key:t.key,attrs:{href:t.href,"img-path":t.imgPath,label:t.label,title:t.title,note:t.note}}):e._e(),e._v(" "),"text"===t.type?n("MessageBubble",{key:t.key,attrs:{"avatar-path":t.avatarPath,"bubble-side":t.bubbleSide,"bubble-theme":t.bubbleTheme},scopedSlots:e._u([{key:"message",fn:function(){return[e._v("\n\t\t\t\t"+e._s(t.message)+"\n\t\t\t")]},proxy:!0},{key:"time",fn:function(){return[e._v("\n\t\t\t\t"+e._s(t.time)+"\n\t\t\t")]},proxy:!0}],null,!0)}):e._e(),e._v(" "),"image"===t.type?n("MessageImage",{key:t.key,attrs:{"img-path":t.imgPath,"image-position":t.bubbleSide,time:t.time}}):e._e(),e._v(" "),"file"===t.type?n("MessageFile",{key:t.key,attrs:{file:t}}):e._e()]}))],2)}),[],!1,null,"a7c8ff3e",null).exports,I={props:{text:{type:String,default:""},cssVariables:{type:Object,default:function(){return{}}}}},T=(n("./resources/pc/js/components/store/Divider.vue?vue&type=style&index=0&id=45b03622&scoped=true&lang=scss&"),Object(l.a)(I,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"message-divider-root"},[t("LayoutAlign",{staticClass:"message-divider",style:this.cssVariables,attrs:{"horizontal-align":"center"}},[t("span",{staticClass:"message-divider__text"},[this._v(this._s(this.text))])])],1)}),[],!1,null,"45b03622",null).exports),M={components:{SVGUse:function(){return n.e(15).then(n.bind(null,"./resources/pc/js/components/common/SVGUse.vue"))}}},L=(n("./resources/pc/js/components/store/ScrollBottomButton.vue?vue&type=style&index=0&id=66781c68&scoped=true&lang=scss&"),Object(l.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"scroll-bottom-button",on:{click:function(t){return e.$emit("update:scroll-to-bottom")}}},[n("SVGUse",{staticClass:"close-button__icon",attrs:{name:"#v2_ic_floating_down",width:"24",height:"24"}})],1)}),[],!1,null,"66781c68",null).exports),A={components:{MessageBubble:w,ScrollBottomButton:L,MessageLoading:p,MessageWarning:v,MessageSection:E,MessageImage:C,Divider:T},props:{isFetchingMessages:{type:Boolean,default:!1},warningMessage:{type:String,default:""},imagePreviewSrc:{type:String,default:""},filePreviewName:{type:String,default:""},supplier:{type:Object,required:!0},messageSectionList:{type:Array,default:function(){return[]}},isWarningVisible:{type:Boolean,default:!1},isNetworkInvalid:{type:Boolean,default:!1}},data:function(){return{scrollBottom:0,scrollingInterval:null}},computed:{isScrollingUp:function(){return this.scrollBottom>100}},methods:{setScrollTop:function(e){this.$refs.messageContainerBox.scrollTop=e},addScrollTop:function(e){var t=this.$refs.messageContainerBox.scrollTop;this.setScrollTop(t+e)},setScrollBottom:function(e){this.scrollBottom=e},recordScrollingStatus:function(){var e=this.$refs.messageContainerBox,t=e.scrollHeight,n=e.scrollTop,s=t-e.offsetHeight-n;this.setScrollBottom(s)},adjustScrollTop:function(){var e=this.$refs.messageContainerBox,t=e.scrollHeight-e.offsetHeight-this.scrollBottom;this.setScrollTop(t)},fetchOldMessages:function(){return e=this,t=null,n=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===this.$refs.messageContainerBox.scrollTop&&this.$emit("update:old-messages",this.adjustScrollTop);case 2:case"end":return e.stop()}}),e,this)})),new Promise((function(s,o){var i=function(e){try{a(n.next(e))}catch(e){o(e)}},r=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?s(e.value):Promise.resolve(e.value).then(i,r)};a((n=n.apply(e,t)).next())}));var e,t,n},readAllMessages:function(){0===this.scrollBottom&&this.$emit("update:unread-messages")},onScroll:function(e){this.recordScrollingStatus(e),this.fetchOldMessages(),this.readAllMessages()},scrollToBottom:function(){var e=this;this.scrollingInterval=setInterval((function(){e.addScrollTop(50),e.recordScrollingStatus(),e.scrollBottom<=0&&(e.setScrollBottom(0),clearInterval(e.scrollingInterval))}),20)}}},R=Object(l.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"marketplace-message-container__body"},[n("div",{ref:"messageContainerBox",staticClass:"marketplace-message-container__box",on:{scroll:e.onScroll}},[n("LayoutList",{staticClass:"marketplace-message-content__messages",attrs:{padding:"3",gap:"5"}},[e.isFetchingMessages?n("MessageLoading"):e._e(),e._v(" "),e._l(e.messageSectionList,(function(t){return[t.dividerText?n("Divider",{key:t.key+"-divider",attrs:{text:t.dividerText}}):e._e(),e._v(" "),n("MessageSection",{key:t.key,attrs:{"dialog-list":t.dialogList}})]})),e._v(" "),e.imagePreviewSrc?n("MessageImage",{attrs:{"img-path":e.imagePreviewSrc,time:e.lang("conversation_index_message_sending"),"image-position":"right"}}):e._e(),e._v(" "),e.filePreviewName?n("MessageBubble",{attrs:{"bubble-side":"right","bubble-theme":"primary","is-multiple-lines":!1},scopedSlots:e._u([{key:"message",fn:function(){return[e._v("\n\t\t\t\t\t"+e._s(e.filePreviewName)+"\n\t\t\t\t")]},proxy:!0},{key:"time",fn:function(){return[e._v("\n\t\t\t\t\t"+e._s(e.lang("conversation_index_message_sending"))+"\n\t\t\t\t")]},proxy:!0}],null,!1,1153315778)}):e._e()],2)],1),e._v(" "),e.supplier.name?n("LayoutFlexRow",{staticClass:"marketplace-message-container__float",attrs:{padding:"3",gap:"3","vertical-align":"center"},scopedSlots:e._u([{key:"left",fn:function(){return[n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.kkday.image.convertToWebp(e.kkday.image.get({path:e.supplier.avatarPath,width:"32",height:"32",crop:"fill"})),expression:"kkday.image.convertToWebp(kkday.image.get({\n\t\t\t\t\tpath: supplier.avatarPath,\n\t\t\t\t\twidth: '32',\n\t\t\t\t\theight: '32',\n\t\t\t\t\tcrop: 'fill',\n\t\t\t\t}))",arg:"background-image"}],staticClass:"marketplace-message-container__logo"})]},proxy:!0},{key:"remain",fn:function(){return[n("div",{staticClass:"marketplace-message-container__hat"},[e._v("\n\t\t\t\t"+e._s(e.supplier.name)+"\n\t\t\t")])]},proxy:!0}],null,!1,2502371067)}):e._e(),e._v(" "),e.isScrollingUp?n("ScrollBottomButton",{staticClass:"marketplace-message-container__scroll-btn",on:{"update:scroll-to-bottom":e.scrollToBottom}}):e._e(),e._v(" "),e.isWarningVisible?n("MessageWarning",{staticClass:"marketplace-message-container__warning",attrs:{"is-close-visible":!0},on:{"update:handle-close":function(t){return e.$emit("update:on-close-warning")}}},[e._v("\n\t\t"+e._s(e.warningMessage)+"\n\t")]):e._e(),e._v(" "),e.isNetworkInvalid?n("MessageWarning",{staticClass:"marketplace-message-container__warning"},[e._v("\n\t\t"+e._s(e.lang("common_connection_unstable"))+"\n\t")]):e._e()],1)}),[],!1,null,null,null).exports,N={name:"ResizeAuto",mounted:function(){var e=this;this.$nextTick((function(){e.$el.setAttribute("style","height","".concat(e.$el.scrollHeight,"px"))}))},methods:{resize:function(e){e.target.style.height="auto",e.target.style.height="".concat(e.target.scrollHeight,"px")},delayResize:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;setTimeout((function(){return t.resize(e)}),n)}},render:function(){return this.$scopedSlots.default({resize:this.resize,delayResize:this.delayResize})}},U={components:{ResizeAuto:Object(l.a)(N,void 0,void 0,!1,null,null,null).exports},props:{value:{type:String,default:""}}},B=(n("./resources/pc/js/components/store/ResizeAutoTextarea.vue?vue&type=style&index=0&id=86a087a2&scoped=true&lang=scss&"),{components:{ResizeAutoTextarea:Object(l.a)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ResizeAuto",{staticClass:"resize-auto-textarea",scopedSlots:e._u([{key:"default",fn:function(t){var s=t.resize,o=t.delayResize;return[n("textarea",{attrs:{rows:"1"},domProps:{value:e.value},on:{input:function(e){return s(e)},keyup:function(e){return o(e)}}})]}}])})}),[],!1,null,"86a087a2",null).exports,SVGUse:function(){return n.e(15).then(n.bind(null,"./resources/pc/js/components/common/SVGUse.vue"))}},props:{message:{type:String,default:""},isInteractionInvalid:{type:Boolean,default:!1}}}),V=Object(l.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutFlexRow",{class:["marketplace-message-container__footer",e.isInteractionInvalid&&"marketplace-message-container__footer--disabled"],attrs:{"vertical-align":"top"},scopedSlots:e._u([{key:"remain",fn:function(){return[e.isInteractionInvalid?e._e():n("ResizeAutoTextarea",{staticClass:"marketplace-message-container__textarea",attrs:{value:e.message,placeholder:e.lang("conversation_index_message_input_placeholder")},nativeOn:{input:function(t){return function(t){return e.$emit("update:on-input-message",t.target.value)}.apply(null,arguments)},keypress:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.$emit("update:on-send-message")}]}})]},proxy:!0},{key:"right",fn:function(){return[n("LayoutListInline",{attrs:{"vertical-align":"top"}},[n("div",{staticClass:"marketplace-message-container__uploader",on:{click:function(t){return e.$emit("update:on-upload-file")}}},[n("SVGUse",{attrs:{name:"#v2_ic_paperclip",width:"20",height:"20",fill:e.isInteractionInvalid?"#aaa":"#666"}})],1),e._v(" "),n("div",{staticClass:"marketplace-message-container__uploader",on:{click:function(t){return e.$emit("update:on-upload-image")}}},[n("SVGUse",{attrs:{name:"#v2_ic_moreimage",width:"20",height:"20",fill:e.isInteractionInvalid?"#aaa":"#666"}})],1)])]},proxy:!0}])})}),[],!1,null,"9f2eb7be",null).exports;function F(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var W=Object.defineProperty,$=Object.defineProperties,G=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable,Q=function(e,t,n){return t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},X=function(e,t){for(var n in t||(t={}))H.call(t,n)&&Q(e,n,t[n]);if(Y){var s,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=z(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}(Y(t));try{for(o.s();!(s=o.n()).done;){n=s.value;K.call(t,n)&&Q(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},Z=function(e,t){return $(e,G(t))},J=function(e,t,n){return new Promise((function(s,o){var i=function(e){try{a(n.next(e))}catch(e){o(e)}},r=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?s(e.value):Promise.resolve(e.value).then(i,r)};a((n=n.apply(e,t)).next())}))},ee={components:{MessageHeader:d,MessageBody:R,MessageFooter:V,CloseButton:h},mixins:[o.a,i.a],props:{productInfo:{type:Object,default:function(){return{}}},targetUser:{type:Object,default:function(){return{}}},targetUsers:{type:Array,default:function(){return[]}}},data:function(){return{conversationTokenPromise:null,conversationsPromise:null,startConversationSid:"",lastMainMessageSid:"",message:"",imagePreviewSrc:"",filePreviewName:"",isFetchingMessages:!1,isSendingMessages:!1,isNeededToScrollDown:!1,isNetworkInvalid:!1,isWarningVisible:!1,warningMessage:"",logoInfo:{imgPath:"assets/img/icons/v2/ic_freshchat_mkbot.svg",name:this.lang("conversation_index_message_title")},messageSectionList:[]}},computed:{isConversationStarted:function(){return!!this.startConversationSid},isSelectedConversation:function(){return this.startConversationSid===this.conversationsState.selectedConversationSid},messages:function(){return this.conversationsState.messages},isConversationReady:function(){return this.conversationsState.conversationsReady},mainUserSid:function(){return this.conversationsState.mainUserSid},mainConversationSid:function(){return this.mapTargetUser(this.targetUser).main_conversation_sid},unreadMessageCount:function(){return this.mapTargetUser(this.targetUser).unread_message_count},supplier:function(){var e=this.userAttributes(this.targetUser.identity);return{name:e.first_name||"",avatarPath:e.photo_url||""}}},watch:{isWindowVisible:function(e){var t=this;e&&(this.resetData(),this.$nextTick((function(){return t.initConversation()})))},targetUsers:{immediate:!0,handler:function(e,t){_.isEmpty(e)||_.isEqual(e,t)||(this.conversationsPromise=this.createConversations(e))}},messages:function(e){this.isLatestMsgBySupplier(e)&&(this.isNeededToScrollDown=!0);var t=this.getFormattedMessages(e),n=this.getAppendedMessages(t);this.messageSectionList=this.getMessageSectionList(n),_.isEmpty(e)||this.handleScrollingDown()}},created:function(){window.addEventListener("offline",function(e){console.warn("You lost connection."),this.isNetworkInvalid=!0}.bind(this)),window.addEventListener("online",function(e){console.warn("You are now back online."),this.isNetworkInvalid=!1}.bind(this)),this.conversationTokenPromise=this.getConversationToken()},methods:{handleCloseWindow:function(){this.closeMarketplaceWindow()},resetData:function(){this.message="",this.lastMainMessageSid="",this.startConversationSid="",this.messageSectionList=[],this.resetImage(),this.resetFile(),this.resetWarning()},initConversation:function(){return J(this,null,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isNeededToScrollDown=!0,this.isFetchingMessages=!0,e.next=4,this.conversationTokenPromise;case 4:if(this.isConversationReady){e.next=7;break}return e.next=7,this.initMessageClient();case 7:return e.next=9,this.conversationsPromise;case 9:return e.next=11,this.getConversationDetail(this.mainConversationSid);case 11:return t=e.sent,n=t.last_main_message_sid,this.lastMainMessageSid=n,e.next=16,this.startConversation(this.mainConversationSid);case 16:this.startConversationSid=e.sent,this.isFetchingMessages=!1,this.updateUnreadMessages();case 19:case"end":return e.stop()}}),e,this)})))},scrollToBottom:function(){this.$nextTick(this.$refs.messageBody.scrollToBottom)},resetWarning:function(){this.warningMessage="",this.isWarningVisible=!1},onInputMessage:function(e){this.message=e},onSendMessage:function(){return J(this,null,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isSendingMessages){e.next=2;break}return e.abrupt("return");case 2:return t=this.message,e.prev=3,this.isSendingMessages=!0,this.isNeededToScrollDown=!0,this.message="",e.next=9,this.sendMessage({messageData:t,productInfo:this.productInfo});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),this.isNeededToScrollDown=!1,console.error(e.t0);case 15:return e.prev=15,this.isSendingMessages=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[3,11,15,18]])})))},onUploadImage:function(){this.$refs.imageInput.click()},onUploadFile:function(){this.$refs.fileInput.click()},updateOldMessages:_.debounce((function(e){return J(this,null,regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isFetchingMessages&&this.lastMainMessageSid){t.next=2;break}return t.abrupt("return");case 2:return this.isFetchingMessages=!0,t.next=5,this.getMessages({mainConversationSid:this.mainConversationSid,startMainMessageSid:this.lastMainMessageSid,limit:10});case 5:n=t.sent,s=n.last_main_message_sid,this.lastMainMessageSid=s,this.isFetchingMessages=!1,e();case 10:case"end":return t.stop()}}),t,this)})))}),100),updateUnreadMessages:function(){this.unreadMessageCount>0&&this.readAllMessages(this.mainConversationSid)},getSectionInfo:function(e){var t=0===Object(r.a)(e),n=1===Object(r.a)(e);return t?{key:"today",dividerText:"".concat(this.lang("common_today")," ").concat(Object(r.b)(e,"HH:mm"))}:n?{key:"yesterday",dividerText:"".concat(this.lang("common_yesterday")," ").concat(Object(r.b)(e,"HH:mm"))}:{key:"beforeYesterday",dividerText:Object(r.b)(e)}},validateFileSize:function(e){if(e.size>s.b.maxFileSize)throw this.lang("common_file_oversize")},validateExtension:function(e,t){if(!new RegExp(t.join("|"),"gi").test(e.type))throw this.lang("common_file_format_not_support")},validateImageExtension:function(e){this.validateExtension(e,s.b.imageTypes)},validateFileExtension:function(e){this.validateExtension(e,s.b.fileTypes)},previewImage:function(e){this.imagePreviewSrc=URL.createObjectURL(e),this.scrollToBottom()},previewFile:function(e){this.filePreviewName=e.name,this.scrollToBottom()},onSendImage:function(e){return J(this,null,regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.target.files[0],t.prev=1,this.validateFileSize(n),this.validateImageExtension(n),t.next=12;break;case 6:return t.prev=6,t.t0=t.catch(1),this.warningMessage=t.t0,this.isWarningVisible=!0,this.resetImage(),t.abrupt("return");case 12:if(!this.isSendingMessages){t.next=14;break}return t.abrupt("return");case 14:return(s=new FormData).append("imageFile",n),t.prev=16,this.isSendingMessages=!0,this.isNeededToScrollDown=!0,this.previewImage(n),t.next=22,this.sendMessage({messageData:s,productInfo:this.productInfo});case 22:t.next=28;break;case 24:t.prev=24,t.t1=t.catch(16),this.isNeededToScrollDown=!1,console.error(t.t1);case 28:return t.prev=28,this.isSendingMessages=!1,this.resetImage(),t.finish(28);case 32:case"end":return t.stop()}}),t,this,[[1,6],[16,24,28,32]])})))},onSendFile:function(e){return J(this,null,regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.target.files[0],t.prev=1,this.validateFileSize(n),this.validateFileExtension(n),t.next=12;break;case 6:return t.prev=6,t.t0=t.catch(1),this.warningMessage=t.t0,this.isWarningVisible=!0,this.resetFile(),t.abrupt("return");case 12:if(!this.isSendingMessages){t.next=14;break}return t.abrupt("return");case 14:return(s=new FormData).append("file",n),t.prev=16,this.isSendingMessages=!0,this.isNeededToScrollDown=!0,this.previewFile(n),t.next=22,this.sendMessage({messageData:s,productInfo:this.productInfo});case 22:t.next=28;break;case 24:t.prev=24,t.t1=t.catch(16),this.isNeededToScrollDown=!1,console.error(t.t1);case 28:return t.prev=28,this.isSendingMessages=!1,this.resetFile(),t.finish(28);case 32:case"end":return t.stop()}}),t,this,[[1,6],[16,24,28,32]])})))},resetImage:function(){this.imagePreviewSrc="",this.$refs.imageInput.value=""},resetFile:function(){this.filePreviewName="",this.$refs.fileInput.value=""},handleScrollingDown:function(){this.isNeededToScrollDown&&this.isWindowVisible&&this.scrollToBottom(),this.isNeededToScrollDown=!1},isUser:function(e){return e.main_user_sid===this.mainUserSid},isLatestMsgBySupplier:function(e){return e[0]&&!this.isUser(e[0])},getFormattedMessages:function(e){var t=this,n=function(e){return"text"===e.message_type},s=function(e){return"image"===e.message_type},o=function(e){return"file"===e.message_type},i=function(e){var t;return(null==(t=null==e?void 0:e.body[0])?void 0:t.publish_url)||""},a=function(e){var n;return(null==(n=null==e?void 0:e.body[0])?void 0:n.filename)||t.lang("common_file")};return e.map((function(e){return Z(X({},e),{key:e.main_message_sid,bubbleSide:t.isUser(e)?"right":"left",bubbleTheme:t.isUser(e)?"primary":"default",type:e.message_type,avatarPath:t.isUser(e)?"":t.supplier.avatarPath,imgPath:s(e)?i(e):"",filePath:o(e)?i(e):"",fileName:o(e)?a(e):"",time:Object(r.b)(e.create_date),message:n(e)?e.body:"",attributes:e.attributes})})).reverse()},getAppendedMessages:function(e){var t=this;return e.reduce((function(e,n){var s=e.previousAttributes,o=e.appendedMessages;if(!t.isUser(n))return{previousAttributes:s,appendedMessages:[].concat(F(o),[n])};var i=n.attributes,r=i.order_mid,a=i.product_mid,u=i.product_name,l=i.product_image_url,d=r||a,m=function(e){return _.pick(e,["order_mid","product_mid"])};if(!_.isEqual(m(n.attributes),m(s))&&d){var p=!!r,f=p?"order":"product",h=p?"order/show/".concat(r):"product/".concat(a),g=c()(new Date(n.create_date)).valueOf(),v=Z(X({},n),{key:"".concat(n.key,"-").concat(f,"-").concat(g),type:f,label:r?"".concat(t.lang("common_order_number")," #").concat(r):"",imgPath:l||"",title:u||"",href:kkday.url.kkSiteUrl(h),note:t.lang("common_see_details")});return{previousAttributes:n.attributes,appendedMessages:[].concat(F(o),[v,n])}}return{previousAttributes:n.attributes,appendedMessages:[].concat(F(o),[n])}}),{previousAttributes:{},appendedMessages:[]}).appendedMessages},getMessageSectionList:function(e){var t=this;return e.reduce((function(e,n){var s=t.getSectionInfo(n.create_date),o=e.findIndex((function(e){return e.key===s.key}));if(o>-1)return e[o].dialogList.push(n),e;var i={key:s.key,dividerText:s.dividerText,dialogList:[n]};return[].concat(F(e),[i])}),[])}}},te=Object(l.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LayoutFlexColumn",{staticClass:"marketplace-message-window marketplace-message-base",style:e.windowStyle,scopedSlots:e._u([{key:"top",fn:function(){return[n("LayoutAlign",{staticClass:"marketplace-message-window__top-bar",attrs:{"horizontal-align":"right","vertical-align":"top"}},[n("CloseButton",{on:{"update:handle-close":e.handleCloseWindow}})],1)]},proxy:!0},{key:"remain",fn:function(){return[n("LayoutFlexColumn",{staticClass:"marketplace-message-container",scopedSlots:e._u([{key:"top",fn:function(){return[n("MessageHeader",{attrs:{"logo-info":e.logoInfo}})]},proxy:!0},{key:"remain",fn:function(){return[n("MessageBody",{ref:"messageBody",attrs:{"warning-message":e.warningMessage,"image-preview-src":e.imagePreviewSrc,"file-preview-name":e.filePreviewName,supplier:e.supplier,"message-section-list":e.messageSectionList,"is-warning-visible":e.isWarningVisible,"is-network-invalid":e.isNetworkInvalid,"is-fetching-messages":e.isFetchingMessages},on:{"update:on-close-warning":e.resetWarning,"update:old-messages":e.updateOldMessages,"update:unread-messages":e.updateUnreadMessages}})]},proxy:!0},{key:"bottom",fn:function(){return[n("MessageFooter",{attrs:{message:e.message,"is-interaction-invalid":e.isNetworkInvalid||!e.isConversationStarted},on:{"update:on-input-message":e.onInputMessage,"update:on-send-message":e.onSendMessage,"update:on-upload-image":e.onUploadImage,"update:on-upload-file":e.onUploadFile}}),e._v(" "),n("input",{ref:"imageInput",staticStyle:{visibility:"hidden",width:"0",height:"0"},attrs:{type:"file",name:"avatar"},on:{change:e.onSendImage}}),e._v(" "),n("input",{ref:"fileInput",staticStyle:{visibility:"hidden",width:"0",height:"0"},attrs:{type:"file",name:"avatar"},on:{change:e.onSendFile}})]},proxy:!0}])})]},proxy:!0}])})}),[],!1,null,null,null);t.a=te.exports},"./resources/pc/js/components/store/PreviewTemplate.vue?vue&type=style&index=0&id=e72e8f2c&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/PreviewTemplate.vue?vue&type=style&index=0&id=e72e8f2c&scoped=true&lang=scss&")},"./resources/pc/js/components/store/ResizeAutoTextarea.vue?vue&type=style&index=0&id=86a087a2&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/ResizeAutoTextarea.vue?vue&type=style&index=0&id=86a087a2&scoped=true&lang=scss&")},"./resources/pc/js/components/store/ScrollBottomButton.vue?vue&type=style&index=0&id=66781c68&scoped=true&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/store/ScrollBottomButton.vue?vue&type=style&index=0&id=66781c68&scoped=true&lang=scss&")},"./resources/pc/js/components/whlbSetting/WhlbSettingButton.vue":function(e,t,n){"use strict";var s=n("./resources/pc/js/components/common/Button.vue"),o={name:"WhlbSetting",inject:{themeColor:{from:"themeColor",default:""}},render:function(){return this.$scopedSlots.default({themeColor:this.themeColor})}},i=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),r={name:"WhlbSettingButton",components:{WhlbSetting:Object(i.a)(o,void 0,void 0,!1,null,null,null).exports,Button:s.a}},a=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("WhlbSetting",{scopedSlots:e._u([{key:"default",fn:function(t){var s=t.themeColor;return[n("Button",e._b({attrs:{"theme-color":s}},"Button",e.$attrs,!1),[e._t("default")],2)]}}],null,!0)})}),[],!1,null,null,null);t.a=a.exports},"./resources/pc/js/config/calendarSettings.js":function(e,t,n){"use strict";n("./node_modules/moment/locale/ja.js"),n("./node_modules/moment/locale/ko.js"),n("./node_modules/moment/locale/th.js"),n("./node_modules/moment/locale/vi.js"),n("./node_modules/moment/locale/zh-cn.js"),n("./node_modules/moment/locale/zh-hk.js"),n("./node_modules/moment/locale/zh-tw.js");t.a={en:{displayDateFormat:"ddd, D MMMM",displayMonthFormat:"MMMM YYYY",displayDayFormat:"ddd",firstDayOfWeek:0},ja:{displayDateFormat:"M月D日(ddd)",displayMonthFormat:"MMMM YYYY",displayDayFormat:"dd",firstDayOfWeek:0},ko:{displayDateFormat:"MMMM D일 dddd",displayMonthFormat:"MMMM YYYY",displayDayFormat:"dd",firstDayOfWeek:0},th:{displayDateFormat:"วันddddที่ D MMMM",displayMonthFormat:"MMMM YYYY",displayDayFormat:"dd",firstDayOfWeek:0},vi:{displayDateFormat:"ddd, D MMM",displayMonthFormat:"MMMM YYYY",displayDayFormat:"dd",firstDayOfWeek:0},"zh-cn":{displayDateFormat:"M月D日(ddd)",displayMonthFormat:"YYYY MMMM",displayDayFormat:"dd",firstDayOfWeek:0},"zh-hk":{displayDateFormat:"M月D日(ddd)",displayMonthFormat:"YYYY MMMM",displayDayFormat:"dd",firstDayOfWeek:0},"zh-tw":{displayDateFormat:"M月D日(ddd)",displayMonthFormat:"YYYY MMMM",displayDayFormat:"dd",firstDayOfWeek:0}}},"./resources/pc/js/config/conversation.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var s={maxFileSize:8192e3,imageTypes:["image/png","image/jpg","image/jpeg"],fileTypes:["application/pdf","application/vnd.ms-excel","application/msword","text/plain"]},o="supplier"},"./resources/pc/js/config/freshchat.js":function(e,t,n){"use strict";t.a={scriptUrl:"https://wchat.freshchat.com/js/widget.js",token:"ba1051b7-3398-4d47-9f39-1c992d9b4cb7",host:"https://wchat.freshchat.com",faqLocaleMapping:{"zh-tw":"zh-HANT","zh-hk":"zh-HANT","zh-cn":"zh-HANS"},channelTagMapping:{ko:"ko","zh-tw":"zh-tw","zh-hk":"zh-hk","zh-cn":"zh-cn",ja:"ja",th:"th",vi:"vn",en:"en"},countryLangChannelTags:["en-us","en-nz"]}},"./resources/pc/js/config/merchant/register.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return u}));var s={UNVERIFIED:-1,UNREGISTERED:0,REGISTERED:1},o={UNVERIFIED:-1,VERIFIED_FAILED:0,VERIFIED_SUCCESS:1},i={"zh-tw":{license:!0,stateCd:!1,website:!0,bankAccountType:!1,beneficiaryIdentity:!0,bankCode:!0,branchName:!0,branchCode:!0,swiftCode:!1,customerServiceLanguage:!1},"ja-jp":{license:!0,stateCd:!0,website:!1,bankAccountType:!0,beneficiaryIdentity:!1,bankCode:!0,branchName:!0,branchCode:!0,swiftCode:!1,customerServiceLanguage:!1},"ko-kr":{license:!1,stateCd:!1,website:!0,bankAccountType:!1,beneficiaryIdentity:!0,bankCode:!0,branchName:!1,branchCode:!1,swiftCode:!1,customerServiceLanguage:!1},"en-sg":{license:!0,stateCd:!1,website:!0,bankAccountType:!1,beneficiaryIdentity:!0,bankCode:!1,branchName:!0,branchCode:!1,swiftCode:!0,customerServiceLanguage:!0}},r={"zh-tw":{license:{required:!0,length:8},postCd:{required:!0},cityCd:{required:!0},beneficiaryIdentity:{required:!0},bankCode:{required:!0},registerFile:{required:!0},tourismLicenseFile:{required:!0},attachmentFile:{required:!0}},"ja-jp":{license:{required:!0,maxLength:13},postCd:{required:!0},cityCd:{required:!0},beneficiaryIdentity:{required:!0},bankCode:{required:!0,length:"4"},registerFile:{required:!1},tourismLicenseFile:{required:!1},attachmentFile:{required:!0}},"ko-kr":{license:{required:!1},postCd:{required:!1},cityCd:{required:!1},beneficiaryIdentity:{required:!0},bankCode:{required:!0},registerFile:{required:!0},tourismLicenseFile:{required:!0},attachmentFile:{required:!0}},"en-sg":{license:{required:!0},postCd:{required:!0},cityCd:{required:!1},beneficiaryIdentity:{required:!1},bankCode:{required:!1},registerFile:{required:!0},tourismLicenseFile:{required:!1},attachmentFile:{required:!1}}},a={"zh-tw":["kkday.com","rezio.io"],"ja-jp":["kkday.com","rezio.io","activityjapan.com"],"ko-kr":["kkday.com","rezio.io"],"en-sg":["kkday.com","rezio.io"]},c={"zh-tw":"https://admin.rezio.io/forgetPassword?lang=zh-TW","ja-jp":"https://admin.rezio.io/forgetPassword?lang=ja-JP","ko-kr":"https://admin.rezio.io/forgetPassword?lang=ko-KR","en-sg":"https://admin.rezio.io/forgetPassword?lang=en-US"},u=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Singapore"},l=["zh-tw","ja-jp","ko-kr","en-sg"]},"./resources/pc/js/config/product/exchangeType.js":function(e,t,n){"use strict";t.a={SWIPE_TO_REDEEM:11}},"./resources/pc/js/config/product/product.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var s={SINGLE_DATE:"01",MULTI_DATE:"02",OPEN_DATE:"03",REAL_OPEN_DATE:"04"}},"./resources/pc/js/config/transportation.js":function(e,t,n){"use strict";n.d(t,"m",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"o",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"q",(function(){return h})),n.d(t,"d",(function(){return _})),n.d(t,"n",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"p",(function(){return y}));var s=[{id:"A01-003",name:"transportation_index_japan",disabled:!1,areaName:"japan"},{id:"A01-011",name:"transportation_index_vietnam",disabled:!1,areaName:"vietnam"},{id:"A01-001",name:"transportation_index_taiwan",disabled:!1,areaName:"taiwan"},{id:"A03",name:"transportation_index_europe",disabled:!1,areaName:"europe",allowCountry:[]},{id:"A01-005-001",name:"transportation_index_hong_kong",disabled:!1,areaName:"greater-bay-area",allowCountry:[]}],o=1,i=[{name:"transportation_list_page_sort_by_time_low_to_high",value:"DTASC"},{name:"transportation_list_page_sort_by_time_high_to_low",value:"DTDESC"},{name:"transportation_list_page_sort_by_price_low_to_high",value:"PASC"},{name:"transportation_list_page_sort_by_price_high_to_low",value:"PDESC"}],r={genderCd:{type:"option"},birthday:{type:"date"}},a={SEATS_MAP:"SEATS_MAP",FACTOR:"FACTOR",ROAD_MAP:"ROAD_MAP"},c={ADULT:"ADULT",CHILD:"CHILD"},u=-1,l=20,d=["dep_code","dep_type","dep_name","arr_code","arr_name","arr_type","sort_type","page","dep_city_key","arr_city_key","dep_date","rnd_mode"],m={"A01-003":["TW","JP","KR","TH","MY","SG","CN","ID","KK","VN","PH","AU","NZ","US","HK"],"A01-011":["VN","KK","ID","PH","SG","AU","NZ","US","HK","MY"],"A01-001":["TW"],A03:["TW","JP","KR","TH","MY","SG","CN","ID","KK","VN","PH","AU","NZ","US","HK"]},p={"A01-003":6,"A01-011":2},f={TICKET:"ticket",ADD_ON:"addOn"},h="transAddOnProductConfig",_="transportation_europe_search_filter",g="transportation_taiwan_search_filter",v="transportation_hong_kong_search_filter",y={GO:"go",BACK:"back",ONE_WAY:"one_way",ROUND_TRIP:"round_trip"}},"./resources/pc/js/directives/tooltip.js":function(e,t,n){"use strict";(function(e){t.a=function(t,n){e(t).data("bs.tooltip")||e(t).tooltip({title:n.value,placement:n.arg||"top",trigger:"hover"}),e(t).attr("data-original-title")!==n.value&&e(t).attr("data-original-title",n.value),n.value?(e(t).tooltip("enable"),e(t).is(":hover")&&e(t).tooltip("show")):e(t).tooltip("disable")}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./resources/pc/js/helpers/conversation.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var s=n("./node_modules/moment/moment.js-exposed"),o=n.n(s),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm";return o.a.utc(e).utcOffset(o()().utcOffset()).format(t)},r=function(e){var t=o()().format("YYYY-MM-DD"),n=i(e,"YYYY-MM-DD");return o()(t).diff(n,"days")}},"./resources/pc/js/helpers/loginModal/loginFailed.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("./resources/pc/js/libs/KkStorage.js"),o=n("./resources/share/js/libs/mixpanel.js"),i=n("./resources/pc/js/config/registerAndLogin.js"),r=function(e){!function(e){window.dataLayer.push({event:"Login_Failed",loginChannel:e}),Object(o.c)("Login_Failed",{LoginChannel:e,LoginPage:s.a.getWithExpiry(i.a)})}(e)}},"./resources/pc/js/helpers/merchant.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s={default:"https://www.kkday.com/static/zh-tw/about/TermsAndConditions.html","zh-tw":"https://www.kkday.com/zh-tw/landing/merchant","ja-jp":"https://www.kkday.com/ja/landing/merchant"},o=function(){var e=kkday.constants.getValue("COUNTRY_LANG");return e in s?s[e]:s.default}},"./resources/pc/js/helpers/product.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("./resources/pc/js/config/product/product.js"),o=function(e,t){return e===s.a.OPEN_DATE||e===s.a.REAL_OPEN_DATE||104422==+t}},"./resources/pc/js/libs/transportation/AddOnProduct.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("./resources/pc/js/config/transportation.js"),o=n("./resources/pc/js/libs/KkStorage.js"),i=function(e){var t=o.a.getSessionStorage(s.q);return t[e]?JSON.parse(t[e]):null}},"./resources/pc/js/mixins/conversation/index.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./resources/pc/js/store/modules/message.js");function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var a=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,d=function(e,t,n){return t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},m=function(e,t){for(var n in t||(t={}))u.call(t,n)&&d(e,n,t[n]);if(c){var s,o=i(c(t));try{for(o.s();!(s=o.n()).done;){n=s.value;l.call(t,n)&&d(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e};t.a={beforeCreate:function(){this.$store.state.message||this.$store.registerModule("message",o.a)},computed:m({},Object(s.c)({conversationsState:"message/conversationsState",mapTargetUser:"message/mapTargetUser",userAttributes:"message/userAttributes"})),methods:m({},Object(s.b)({initMessageClient:"message/initMessageClient",getMessages:"message/getMessages",readAllMessages:"message/readAllMessages",getConversationToken:"message/getConversationToken",getConversations:"message/getConversations",getUnreadConversations:"message/getUnreadConversations",createConversations:"message/createConversations",getConversationDetail:"message/getConversationDetail",startConversation:"message/startConversation",sendMessage:"message/sendMessage"}))}},"./resources/pc/js/mixins/conversation/window.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js");function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw r}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var r,a,c=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=function(e,t,n){return t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},h=function(e,t){for(var n in t||(t={}))m.call(t,n)&&f(e,n,t[n]);if(d){var s,i=o(d(t));try{for(i.s();!(s=i.n()).done;){n=s.value;p.call(t,n)&&f(e,n,t[n])}}catch(e){i.e(e)}finally{i.f()}}return e};t.a={methods:h({},Object(s.b)({openMarketplaceWindow:"message/openMarketplaceWindow",closeMarketplaceWindow:"message/closeMarketplaceWindow"})),computed:(r=h({},Object(s.c)({isWindowVisible:"message/isWindowVisible"})),a={windowStyle:function(){return{"--window-visibility":this.isWindowVisible?"visible":"hidden","--window-opacity":this.isWindowVisible?1:0}}},u(r,l(a)))}},"./resources/pc/js/mixins/loginModal/actions/login.js":function(e,t,n){"use strict";(function(e){n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o=n("./resources/pc/js/mixins/loginModal/validators/isErrorEmail.js"),i=n("./resources/pc/js/mixins/loginModal/validators/password.js"),r=n("./resources/pc/js/mixins/ajaxDispatcher.js"),a=n("./resources/pc/js/mixins/loginModal/loginModalSelector.js"),c=n("./resources/pc/js/helpers/loginModal/loginFailed.js"),u=n("./resources/pc/js/helpers/loginModal/loginSuccess.js"),l=n("./resources/share/js/libs/KkDispatcher.js"),d=n("./resources/share/js/config/member.js");function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var f=Object.defineProperty,h=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=function(e,t,n){return t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n};t.a={mixins:[o.a,i.a,r.a,a.a],computed:function(e,t){for(var n in t||(t={}))g.call(t,n)&&y(e,n,t[n]);if(h){var s,o=m(h(t));try{for(o.s();!(s=o.n()).done;){n=s.value;v.call(t,n)&&y(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e}({needRecaptcha:function(){return"CN"!==this.member.ip_country_code&&this.member.is_login_unusual}},Object(s.c)({userVerify:"recaptchaEvent/userVerify",member:"common/member"})),methods:{login:function(){return t=this,n=null,s=regeneratorRuntime.mark((function t(){var n,s,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cleanErrMsg(),!this.isErrorEmail()){t.next=3;break}return t.abrupt("return",!1);case 3:if(this.checkPasswordValid({actionType:d.a.LOGIN})){t.next=5;break}return t.abrupt("return",!1);case 5:if(!this.needRecaptcha){t.next=9;break}if(this.userVerify.isVerified&&!_.isEmpty(this.userVerify.token)){t.next=9;break}return this.$store.commit("loginModal/updateErrorMessages",{mainErrMsg:this.lang("common_recaptcha_verify_failed")}),t.abrupt("return");case 9:if(!_.isFunction(window.directPurchaseLogin)){t.next=18;break}return t.next=12,window.directPurchaseLogin();case 12:if(t.t1=t.sent,t.t1){t.next=15;break}t.t1=this.redirectUri;case 15:t.t0=t.t1,t.next=19;break;case 18:t.t0=this.redirectUri;case 19:n=t.t0,s={loginId:this.userData.loginEmail,loginPassword:this.userData.loginPassword,channel:"KKDAY",redirect_uri:n,verifyToken:this.userVerify.token},this.isLoading=!0,l.a.send({url:kkday.url.kkSiteUrl("member/ajax_login"),method:"POST",data:s}).then((function(e){if(!(e=e.data).isSuccess){if(Object.prototype.hasOwnProperty.call(e.data,"is_logged_in"))return void window.location.reload();if(o.errorMessages.mainErrMsg=e.msg,o.errorMessages.loginEmailErrMsg=e.data.loginIdErrMsg,o.errorMessages.loginPasswordErrMsg=e.data.loginPasswordErrMsg,o.$store.dispatch("recaptchaEvent/reset","RECAPTCHA_RESET_APP"),Object.prototype.hasOwnProperty.call(e.data,"is_unusual")){var t=_.assign(o.member,{is_login_unusual:e.data.is_unusual});o.$store.commit("common/updateMember",t)}return o.isLoading=!1,void Object(c.a)("KKDAY")}Object(u.a)({channel:"KKDAY",member:e.data.member,redirectUrl:e.data.redirect_uri})})).catch((function(){o.isLoading=!1,e(o.loginModalSelector).modal("hide"),alert("login ajax fail"),o.errorMessages.mainErrMsg="login fail!",Object(c.a)("KKDAY")}));case 24:case"end":return t.stop()}}),t,this)})),new Promise((function(e,o){var i=function(e){try{a(s.next(e))}catch(e){o(e)}},r=function(e){try{a(s.throw(e))}catch(e){o(e)}},a=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(i,r)};a((s=s.apply(t,n)).next())}));var t,n,s}}}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./resources/pc/js/mixins/loginModal/validators/isErrorEmail.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.regexp.exec.js");t.a={methods:{isErrorEmail:function(){var e=!1;return this.userData.loginEmail?/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.userData.loginEmail)||(this.$store.commit("loginModal/updateErrorMessages",{loginEmailErrMsg:this.lang("common_err_email_format")}),e=!0):(this.$store.commit("loginModal/updateErrorMessages",{loginEmailErrMsg:this.lang("common_err_email_input")}),e=!0),e}}}},"./resources/pc/js/mixins/loginModal/validators/password.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.regexp.exec.js");var s=n("./resources/pc/js/regex/validator.js"),o=n("./resources/share/js/config/member.js");t.a={methods:{checkPasswordValid:function(e){return e.actionType!==o.a.REGISTER||"ko"!==kkday.constants.getValue("LANG_UI")||s.l.test(this.userData.loginPassword)?this.userData.loginPassword?!(this.userData.loginPassword.length<6)||(this.$store.commit("loginModal/updateErrorMessages",{loginPasswordErrMsg:this.lang("common_err_password_length")}),!1):(this.$store.commit("loginModal/updateErrorMessages",{loginPasswordErrMsg:this.lang("common_err_password_input")}),!1):(this.$store.commit("loginModal/updateErrorMessages",{loginPasswordErrMsg:this.lang("common_password_tips_ko_2")}),!1)}}}},"./resources/pc/js/mixins/newProduct/descriptionModuleMap.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.concat.js");t.a={inject:["checkIsWhlbItemShow"],props:{moduleData:{type:Object,default:function(){return{}}},commentData:{type:Object,default:function(){return{}}},articleContentList:{type:Array,default:function(){return[]}},prodInfo:{type:Object,default:function(){return{}}}},computed:{componentDataArray:function(){return _.assign([],[{isRequire:!!(this.moduleData.PMDL_INTRODUCE_SUMMARY||this.moduleData.PMDL_GRAPHIC||this.moduleData.PMDL_SUGGESTED_ROUTE||this.moduleData.PMDL_WIFI||this.moduleData.PMDL_SIM_CARD),title:this.moduleData.PMDL_INTRODUCE_SUMMARY?this.moduleData.PMDL_INTRODUCE_SUMMARY.module_title:this.lang("product_index_prod_introduction"),idName:"product-info-sec",componentId:"ProductIntroGroup",data:null,groupData:{productIntroduction:this.moduleData.PMDL_INTRODUCE_SUMMARY,graphic:this.moduleData.PMDL_GRAPHIC,suggestRoute:this.moduleData.PMDL_SUGGESTED_ROUTE,wifi:this.moduleData.PMDL_WIFI,sim:this.moduleData.PMDL_SIM_CARD},renderConfig:["product","order"]},{isRequire:!!this.moduleData.PMDL_SCHEDULE,title:this.moduleData.PMDL_SCHEDULE&&this.moduleData.PMDL_SCHEDULE.module_title,idName:"schedule-sec",componentId:"ProductSchedule",data:this.moduleData.PMDL_SCHEDULE&&this.moduleData.PMDL_SCHEDULE.content,groupData:null,renderConfig:["product","order"]},{isRequire:!!(this.moduleData.PMDL_PURCHASE_SUMMARY||this.moduleData.PMDL_NATIONALITY||this.moduleData.PMDL_INC_NINC||this.moduleData.PMDL_EXTRA_FEE||this.moduleData.PMDL_NOTICE),title:this.moduleData.PMDL_PURCHASE_SUMMARY?this.moduleData.PMDL_PURCHASE_SUMMARY.module_title:this.lang("product_index_purchase_notice"),idName:"notice-sec",componentId:"ProductPurchaseGroup",data:null,groupData:{purchaseNotice:this.moduleData.PMDL_PURCHASE_SUMMARY,nationality:this.moduleData.PMDL_NATIONALITY,fee:this.moduleData.PMDL_INC_NINC,extraFee:this.moduleData.PMDL_EXTRA_FEE,notice:this.moduleData.PMDL_NOTICE},renderConfig:["product"]},{isRequire:!!this.moduleData.PMDL_EXCHANGE_LOCATION,title:this.moduleData.PMDL_EXCHANGE_LOCATION&&this.moduleData.PMDL_EXCHANGE_LOCATION.content.properties.locations.title,idName:"exchange-sec",componentId:"ProductExchangeLocation",data:this.moduleData.PMDL_EXCHANGE_LOCATION&&this.moduleData.PMDL_EXCHANGE_LOCATION.content,groupData:null,renderConfig:["product"]},{isRequire:!!(this.moduleData.PMDL_HOWTO_SUMMARY||this.moduleData.PMDL_EXCHANGE||this.moduleData.PMDL_EXCHANGE_VALID||this.moduleData.PMDL_USE_VALID),title:this.moduleData.PMDL_HOWTO_SUMMARY?this.moduleData.PMDL_HOWTO_SUMMARY.module_title:this.lang("product_index_how_to_use"),idName:"usage-sec",componentId:"ProductUsageGroup",data:null,groupData:{usage:this.moduleData.PMDL_HOWTO_SUMMARY,exchangeWay:this.moduleData.PMDL_EXCHANGE,exchangeValidDate:this.moduleData.PMDL_EXCHANGE_VALID,useValidDate:this.moduleData.PMDL_USE_VALID},renderConfig:["product","order"]},{isRequire:!!this.moduleData.PMDL_VENUE_LOCATION,title:this.moduleData.PMDL_VENUE_LOCATION&&this.moduleData.PMDL_VENUE_LOCATION.module_title,idName:"meeting-sec",componentId:"ProductVenueLocation",data:this.moduleData.PMDL_VENUE_LOCATION&&this.moduleData.PMDL_VENUE_LOCATION.content,groupData:null,renderConfig:["product","order"]},{isRequire:!!this.moduleData.PMDL_EXPERIENCE_LOCATION&&this.checkIsWhlbItemShow({block:"productInfo",element:"locationOfExperience"}),title:this.moduleData.PMDL_EXPERIENCE_LOCATION&&this.moduleData.PMDL_EXPERIENCE_LOCATION.module_title,idName:"map-sec",componentId:"ProductExperienceLocation",data:this.moduleData.PMDL_EXPERIENCE_LOCATION&&this.moduleData.PMDL_EXPERIENCE_LOCATION.content,groupData:null,renderConfig:["product","order"]},{isRequire:!!this.moduleData.PMDL_REFUND_POLICY,title:this.moduleData.PMDL_REFUND_POLICY&&this.moduleData.PMDL_REFUND_POLICY.module_title,idName:"policy-sec",componentId:"RefundPolicy",data:{moduleData:this.moduleData.PMDL_REFUND_POLICY&&this.moduleData.PMDL_REFUND_POLICY.content,refundPolicy:this.prodInfo.refund_policy},groupData:null,renderConfig:["product"]},{isRequire:!_.isEmpty(this.commentData.comments),title:"".concat(this.lang("common_comments"),"(").concat(this.commentData.recCount,")"),idName:"review-sec",componentId:"ProductComment",data:null,groupData:null,renderConfig:["product"]},{isRequire:this.articleContentList.length>0,title:this.lang("common_contents"),idName:"content-sec",componentId:"Article",data:null,groupData:null,renderConfig:["product"]}])}}}},"./resources/pc/js/mixins/newProduct/expand.js":function(e,t,n){"use strict";(function(e){var s=n("./resources/pc/js/helpers/common.js");t.a={props:{expandControl:{type:Boolean,default:!0},refId:{type:String,default:"txtDiv"}},data:function(){return{expandLimit:"",isExpand:!0,isExpandable:!1}},methods:{checkExpandable:function(e){"vh"===e.unit&&(this.expandLimit=Object(s.n)(e.value)),"px"===e.unit&&(this.expandLimit=e.value);var t=this.$refs[this.refId],n=t.cloneNode(!0);n.style.position="absolute",n.style.visibility="hidden",n.style.width="".concat(t.clientWidth,"px"),t.parentNode.appendChild(n),n.classList.add("expand");var o=n.clientHeight;this.isExpandable=o>this.expandLimit,n.classList.remove("expand");var i=n.parentNode;i.removeChild(i.lastElementChild)},toggleExpand:function(){this.isExpand=!this.isExpand;var t=e(window).scrollTop();this.isExpand||e(window).scrollTop(t-(this.$refs[this.refId].clientHeight-this.expandLimit)),this.resetDescModulePosition&&this.resetDescModulePosition()}}}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./resources/pc/js/mixins/transportation/addOnProduct.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.array.find.js"),n("./node_modules/core-js/modules/es.array.flat-map.js"),n("./node_modules/core-js/modules/es.array.unscopables.flat-map.js"),n("./node_modules/core-js/modules/es.function.name.js");var s=n("./resources/pc/js/libs/KkStorage.js"),o=n("./resources/pc/js/config/transportation.js");t.a={methods:{updateTransAddOn:function(e){var t=this.getTransAddOn()||{},n=e.prodMid,i=!_.isEmpty(_.filter(e.item.specs,(function(e){return"spec-ticket"===e.spec_oid})));t[n]={productMid:n,productName:e.productName||null,packageName:e.packageName||null,packageOid:e.pkgOid||null,itemOid:e.itemOid||null,goDate:e.goDate||null,backDate:e.backDate||null,event:e.event||null,amountTotal:e.amountTotal||null,priceTotal:e.priceTotal||null,currency:kkday.constants.getValue("CURRENCY"),unit:this.lang("common_unit_trailing_".concat(e.item.unit)),hasTicket:i,spec:_.map(_.filter(e.item.specs,(function(e){return"spec-ticket"!==e.spec_oid})),(function(t){var n=_.find(_.flatMap(e.skus,(function(e){return _.map(e.spec,(function(e,t){return{key:t,value:e}}))})),(function(e){return e.key===t.spec_oid})),s=_.find(_.map(t.spec_items,(function(e){return{name:e.name,specItemOid:e.spec_item_oid}})),(function(e){return e.specItemOid===n.value}));return{title:t.spec_title,specOid:t.spec_oid,chooseItemOid:s.specItemOid,chooseItemName:s.name}})),ticket:i?_.map(e.skus,(function(e){return{name:e.spec["spec-ticket"],qty:e.amount}})):[],officialPrice:_.isNumber(e.officialPrice)?e.officialPrice:null,singleChoiceSpecs:_.reduce(e.skus[0].spec,(function(e,t,n){return"spec-ticket"!==n&&(e[n]=t),e}),{}),multiChoiceSpecAmount:i?_.reduce(e.skus,(function(e,t){return e[t.spec["spec-ticket"]]=t.amount,e}),{}):[],skus:e.skus,productVersion:e.productVersion,productOid:e.prodOid},s.a.setSessionStorage("transAddOnProduct",t),s.a.removeSessionStorage(o.q),window.location.href=this.$router.resolve({name:"TransportationAddOnDealSelection",params:{area_name:e.transAddAreaName}}).href},getTransAddOn:function(){return s.a.getSessionStorage("transAddOnProduct")}}}},"./resources/pc/js/mixins/whlbProductMixin.vue":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.split.js"),n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/vuex/dist/vuex.esm.js"),o={namespaced:!0,state:{whlbProdSetting:{}},getters:{isWhlbProd:function(e){return!_.isEmpty(e.whlbProdSetting)}},mutations:{updateWhlbProdSetting:function(e,t){e.whlbProdSetting=t}},actions:{init:function(e,t){var n=e.commit;e.getters,e.dispatch;n("updateWhlbProdSetting",_.get(t,"whlbProdSetting",{}))}}},i=n("./resources/share/js/libs/InitStateProvider.js");function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var c=Object.defineProperty,u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,m=function(e,t,n){return t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},p=function(e,t){for(var n in t||(t={}))l.call(t,n)&&m(e,n,t[n]);if(u){var s,o=r(u(t));try{for(o.s();!(s=o.n()).done;){n=s.value;d.call(t,n)&&m(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},f={provide:function(){return{getWhlbProdElementStyle:this.getWhlbProdElementStyle,checkIsWhlbItemShow:this.checkIsWhlbItemShow,themeColor:this.themeColor}},computed:p(p({themeColor:function(){return _.get(this.whlbProdSetting,"themeColor",null)},hideItems:function(){return _.get(this.whlbProdSetting,"hideItems.platform.WEB",[])}},Object(s.e)("whlbProduct",["whlbProdSetting"])),Object(s.c)({isWhlbProd:"whlbProduct/isWhlbProd"})),beforeCreate:function(){if(_.isEmpty(this.$store.state.whlbProduct)){this.$store.registerModule("whlbProduct",o);var e=i.a.getInitState();this.$store.dispatch("whlbProduct/init",e.state)}},methods:{getRGBAColor:function(e,t){var n;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3===(n=e.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),t?"rgba("+[n>>16&255,n>>8&255,255&n,t].join(",")+")":"rgba("+[n>>16&255,n>>8&255,255&n].join(",")+")"},getWhlbProdElementStyle:function(e){if(this.isWhlbProd&&!_.isEmpty(this.themeColor))switch(e){case"button-selected":return{"background-color":this.themeColor,border:"1px solid ".concat(this.themeColor)};case"button-border-unselected":return{"--whlb-theme-color":this.themeColor};case"button-border-selected":return{"--whlb-theme-color":this.themeColor,color:this.themeColor,border:"1px solid ".concat(this.themeColor)};case"date-point":return{"background-color":this.themeColor};case"date-selected":case"date-selecting":return{"background-color":this.getRGBAColor(this.themeColor,.25)};case"date-today":case"button-counter":return{color:this.themeColor};case"item-point-text":return this.checkIsWhlbItemShow({block:"packageInfo",element:"packageDescriptionModule"})?{float:"left"}:{"margin-right":"4px"};default:return""}},checkIsWhlbItemShow:function(e){var t=e.block,n=e.element;return!_.includes(this.hideItems[t],n)}}},h=(n("./resources/pc/js/mixins/whlbProductMixin.vue?vue&type=style&index=0&lang=scss&"),n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),g=Object(h.a)(f,void 0,void 0,!1,null,null,null);t.a=g.exports},"./resources/pc/js/mixins/whlbProductMixin.vue?vue&type=style&index=0&lang=scss&":function(e,t,n){"use strict";n("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/mixins/whlbProductMixin.vue?vue&type=style&index=0&lang=scss&")},"./resources/pc/js/regex/validator.js":function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f}));var s=/^[-a-zA-Z0-9_=+]+(\.[-a-zA-Z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.[A-Za-z]+)?$/,o=/^[A-Za-z]+(( |-){1}[a-zA-Z]+)*$/,i=/^[a-z0-9]*$/i,r=/^[a-z0-9 ]*$/i,a=/^[\x20-\x7E]*$/,c=/^[\x20-\x7E]*$/,u=/^(?=.*[A-Za-z])(?=.*[0-9])[!-~]{10,}$/,l=/^[A-Z0-9 ]+-?[ A-Z0-9]*$/i,d=/^\/[\dA-Z.\-+]{7}$/,m=/^[A-Z]{2}\d{14}$/,p=/^[\d]{3,7}$/,f=/^[\s\w\u4e00-\u9fff\u3400-\u4DBF\uff10-\uff19\uff21-\uff3a\uff41-\uff5a()（）,，.。＿－-]*$/;t.d={email:s,includeEmail:/([-a-zA-Z0-9_=+]+(\.[-a-zA-Z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.[A-Za-z]+)?)/,englishName:o,englishAndNumber:i,flightNumber:r,ascii:a,password:c,passwordKo:u,postal:l,mobileBarcode:d,citizenDigitalCertificate:m,donationCode:p,buyerAddress:f}},"./resources/pc/js/store/modules/merchant.js":function(e,t,n){"use strict";n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.promise.finally.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.regexp.exec.js");var s=n("./resources/share/js/libs/mixpanel.js"),o=n("./resources/share/js/libs/InitStateProvider.js"),i=n("./resources/share/js/libs/KkDispatcher.js"),r=n("./resources/pc/js/config/merchant/register.js"),a=n("./node_modules/axios/index.js"),c=n.n(a),u=n("./resources/pc/js/helpers/common.js"),l=n("./resources/share/js/api/index.js");function d(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var m=function(e,t,n){return new Promise((function(s,o){var i=function(e){try{a(n.next(e))}catch(e){o(e)}},r=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?s(e.value):Promise.resolve(e.value).then(i,r)};a((n=n.apply(e,t)).next())}))},p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,s;return t=e,(n=[{key:"sendRequest",value:function(e){return m(this,null,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(l.b)({fetchingPath:e.fetchingPath,conditions:e});case 3:return n=t.sent,t.abrupt("return",[null,n]);case 7:return t.prev=7,t.t0=t.catch(0),console.warn({err:t.t0}),t.abrupt("return",[t.t0]);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))}},{key:"getSupplier",value:function(e){return m(this,null,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,this.sendRequest({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_get_supplier")),data:{supplierOid:e},method:"POST",fetchingPath:"ajax_get_supplier"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getSupplierProducts",value:function(e){return m(this,null,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,this.sendRequest({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_get_supplier_products")),data:{supplierOid:e},method:"POST",fetchingPath:"ajax_get_supplier_products"});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}}])&&d(t.prototype,n),s&&d(t,s),e}(),f=n("./resources/pc/js/api/ErrorHandler.js");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var s,o,i=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(s=n.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var v=function(e,t,n){return new Promise((function(s,o){var i=function(e){try{a(n.next(e))}catch(e){o(e)}},r=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?s(e.value):Promise.resolve(e.value).then(i,r)};a((n=n.apply(e,t)).next())}))},y=new p,b=kkday.constants.getValue("COUNTRY_LANG"),j={fetchingList:[],supplier:{},supplierProducts:[],countryList:[],categoryList:[],cusServiceLangList:[],registerStep:1,isAccountLoading:!1,isPasswordLoading:!1,isLegalNameValidateLoading:!1,isApplyLoading:!1,accountStatus:r.a.UNVERIFIED,passwordStatus:r.b.UNVERIFIED,storeList:[],verifiedAccount:"",mkpMainSettingOid:"",marketplaceAgreement:"",rezioAgreement:"",rollOutRegisterLang:_.includes(r.e,b)?b:"en-sg",rollOutFormConfig:_.get(r.d,b,r.d["en-sg"]),rollOutContactEmailWhiteList:_.get(r.c,b,r.c["en-sg"]),rollOutValidatorConfig:_.get(r.h,b,r.h["en-sg"]),rollOutRezioForgetPasswordUrl:_.get(r.f,b,r.f["en-sg"]),rollOutTimeZone:Object(r.g)()},k={isShowPasswordBlock:function(e){return e.accountStatus===r.a.REGISTERED},isShowStoreBlock:function(e,t){return e.accountStatus===r.a.REGISTERED&&e.passwordStatus===r.b.VERIFIED_SUCCESS&&e.storeList.length>0},verifiedAccount:function(e){return e.accountStatus!==r.a.UNVERIFIED?e.verifiedAccount:""}},S={fetchingStart:function(e,t){e.fetchingList.push(t)},fetchingEnd:function(e,t){e.fetchingList=_.filter(e.fetchingList,(function(e){return e!==t}))},updateSupplier:function(e,t){e.supplier=t},updateSupplierProducts:function(e,t){e.supplierProducts=t},updateCountryList:function(e,t){e.countryList=t},updateAccountLoadingStatus:function(e,t){e.isAccountLoading=t},updatePasswordLoadingStatus:function(e,t){e.isPasswordLoading=t},updateLegalNameValidateLoadingStatus:function(e,t){e.isLegalNameValidateLoading=t},updateApplyLoadingStatus:function(e,t){e.isApplyLoading=t},updateVerifyStatus:function(e,t){var n=t.accountStatus,s=t.passwordStatus;e.accountStatus=n,e.passwordStatus=s},updateRegisterStep:function(e,t){Object(s.c)("RegisterStep".concat(t,"_Loaded"),{Station:kkday.constants.getValue("COUNTRY").toUpperCase()}),e.registerStep=t,Object(u.x)()},updateCategoryList:function(e,t){e.categoryList=t},updateCusServiceLangList:function(e,t){e.cusServiceLangList=t},updateStoreList:function(e,t){e.storeList=t},updateVerifiedAccount:function(e,t){e.verifiedAccount=t},updateAgreement:function(e,t){var n=e.accountStatus!==r.a.UNREGISTERED;e.mkpMainSettingOid=t.mkpMainSettingOid,e.marketplaceAgreement=t.marketplaceAgreement,e.rezioAgreement=n?"":t.rezioAgreement}},w={getSupplierByInitState:function(e){(0,e.commit)("updateSupplier",o.a.getInitState("supplier"))},getSupplier:function(e,t){return v(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,i,r,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.commit,n){e.next=3;break}return e.abrupt("return");case 3:return o="getSupplier",e.prev=4,s("fetchingStart",o),e.next=8,y.getSupplier(n);case 8:if(i=e.sent,r=h(i,2),a=r[0],c=r[1],!a){e.next=14;break}throw new Error(a);case 14:if(!_.isEmpty(c)){e.next=16;break}throw new Error("empty supplier data");case 16:return s("updateSupplier",c),e.abrupt("return",c);case 20:e.prev=20,e.t0=e.catch(4),f.a.warn(e.t0);case 23:return e.prev=23,s("fetchingEnd",o),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[4,20,23,26]])})))},getSupplierProducts:function(e,t){return v(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,i,r,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.commit,o="getSupplierProducts",e.prev=2,s("fetchingStart",o),e.next=6,y.getSupplierProducts(n);case 6:if(i=e.sent,r=h(i,2),a=r[0],c=r[1],!a){e.next=12;break}throw new Error(a);case 12:if(!_.isEmpty(c)){e.next=14;break}throw new Error("empty supplier products");case 14:return s("updateSupplierProducts",c),e.abrupt("return",c);case 18:e.prev=18,e.t0=e.catch(2),f.a.warn(e.t0,!1);case 21:return e.prev=21,s("fetchingEnd",o),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[2,18,21,24]])})))},registerInit:function(e,t){var n=e.commit;e.dispatch;n("updateCountryList",_.get(t,"countryList",[])),n("updateCategoryList",_.get(t,"categoryList",[])),n("updateRegisterStep",1),n("updateCusServiceLangList",_.get(t,"cusServiceLangList",[]))},getSupplierAgreement:function(e){return v(this,arguments,regeneratorRuntime.mark((function e(t){var n,s,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,s=t.state,o=t.dispatch,"ajax_get_supplier_agreement",a=s.accountStatus===r.a.REGISTERED,e.next=5,i.a.send({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_get_supplier_agreement")),method:"GET",params:{isExistRezioAccount:a}}).then((function(e){var t=e.data;if(!t.isSuccess)return alert(t.msg),void o("initialRezioStatus");n("updateAgreement",t.data)})).catch((function(e){alert(e,"kkday-warning")})).finally((function(){}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))},initialRezioStatus:function(e){(0,e.commit)("updateVerifyStatus",{accountStatus:r.a.UNVERIFIED,passwordStatus:r.b.UNVERIFIED})},initialRezioPasswordStatus:function(e){(0,e.commit)("updateVerifyStatus",{accountStatus:r.a.REGISTERED,passwordStatus:r.b.UNVERIFIED})},rezioAccountVerify:function(e,t){return v(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,a,c,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.commit,o=t.dispatch,a=n.email,c=n.countryCode,"ajax_rezio_account_verify",s("updateAccountLoadingStatus",!0),o("initialRezioStatus"),e.next=7,i.a.send({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_rezio_account_verify")),method:"GET",params:{email:a,countryCode:c}}).then((function(e){return v(u,null,regeneratorRuntime.mark((function t(){var n,i,a,c,u,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=e.data).isSuccess){t.next=4;break}return alert(n.msg),t.abrupt("return");case 4:return i=n.data,a=i.metadata.status,c=r.a.UNVERIFIED,u=r.b.UNVERIFIED,l=["0000","E0010","E0067","E0068"],d=["E0066"],_.includes(l,a)&&(c=r.a.REGISTERED),_.includes(d,a)&&(c=r.a.UNREGISTERED),s("updateVerifyStatus",{accountStatus:c,passwordStatus:u}),t.next=15,o("getSupplierAgreement");case 15:case"end":return t.stop()}}),t)})))})).catch((function(e){alert(e,"kkday-warning")})).finally((function(){s("updateVerifiedAccount",a),s("updateAccountLoadingStatus",!1)}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))},rezioPasswordVerify:function(e,t){return v(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.commit,t.dispatch,o=n.email,a=n.password,c=n.countryCode,u="ajax_rezio_account_verify",a){e.next=5;break}return e.abrupt("return");case 5:return s("updatePasswordLoadingStatus",!0),e.next=8,i.a.send({url:kkday.url.kkSiteUrl("merchant/".concat(u)),method:"GET",params:{email:o,password:a,countryCode:c}}).then((function(e){var t=e.data;if(t.isSuccess){var n=t.data,o=n.metadata.status,i=_.isArray(n.data.store)?n.data.store:[],a=r.a.REGISTERED,c=r.b.UNVERIFIED;"0000"===o&&i.length>0&&(c=r.b.VERIFIED_SUCCESS),_.includes(["E0010","E0068"],o)&&(c=r.b.VERIFIED_SUCCESS),_.includes(["E0067"],o)&&(c=r.b.VERIFIED_FAILED),s("updateVerifyStatus",{accountStatus:a,passwordStatus:c}),s("updateStoreList",i)}else{alert(t.msg);var u=r.a.REGISTERED,l=r.b.VERIFIED_FAILED;s("updateVerifyStatus",{accountStatus:u,passwordStatus:l})}})).catch((function(e){alert(e,"kkday-warning")})).finally((function(){s("updatePasswordLoadingStatus",!1)}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))},legalNameValidate:function(e,t){var n=e.commit;e.state,e.dispatch;n("updateLegalNameValidateLoadingStatus",!0);var s=kkday.url.kkSiteUrl("merchant/ajax_merchant_legal_name_validate");return i.a.send({url:s,method:"GET",params:{legalName:t}}).then((function(e){return e.data.isSuccess})).catch((function(e){alert(e,"kkday-warning")})).finally((function(){n("updateLegalNameValidateLoadingStatus",!1)}))},uploadFile:function(e,t){return v(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.commit,t.state,t.dispatch,s("updateApplyLoadingStatus",!0),o=c.a.CancelToken,r=o.source(),a=kkday.url.kkSiteUrl("file/ajax_upload_merchant_register_file"),e.next=7,i.a.send({url:a,method:"POST",data:n.formData,transformRequest:null,cancelToken:r.token}).then((function(e){var t=e.data;if(t.isSuccess)return t;alert(t.msg)})).catch((function(e){s("updateApplyLoadingStatus",!0),alert(e,"kkday-warning")}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))},deleteFile:function(e,t){e.commit,e.state,e.dispatch;var n=t.fileOid,s=kkday.url.kkSiteUrl("file/ajax_delete_merchant_register_file");return i.a.send({url:s,method:"GET",params:{fileOid:n}}).then((function(e){var t=e.data;if(t.isSuccess)return t.isSuccess;alert(t.msg)})).catch((function(e){alert(e,"kkday-warning")}))},merchantApply:function(e,t){var n=e.commit;e.state,e.dispatch;return i.a.send({url:kkday.url.kkSiteUrl("merchant/".concat("ajax_merchant_apply")),method:"POST",data:t}).then((function(e){var t=e.data;if(t.isSuccess)return t;alert(t.msg)})).catch((function(e){alert(e,"kkday-warning")})).finally((function(){n("updateApplyLoadingStatus",!1)}))}};t.a={namespaced:!0,state:j,getters:k,mutations:S,actions:w}},"./resources/pc/js/store/modules/message.js":function(e,t,n){"use strict";(function(e){n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.array.find.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.regexp.to-string.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js");var s=n("./node_modules/@twilio/conversations/dist/browser.js"),o=n("./resources/pc/js/api/conversation.js"),i=n("./resources/pc/js/api/ErrorHandler.js"),r=n("./resources/pc/js/config/conversation.js"),a=n("./node_modules/moment/moment.js-exposed"),c=n.n(a),u=n("./resources/share/js/libs/InitStateProvider.js"),l=n("./resources/pc/js/helpers/loginModal.js");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var s,o,i=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(s=n.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(a)throw o}}return i}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var h=Object.defineProperty,g=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,k=function(e,t,n){return t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},S=function(e,t){for(var n in t||(t={}))b.call(t,n)&&k(e,n,t[n]);if(y){var s,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0,o=function(){};return{s:o,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}(y(t));try{for(o.s();!(s=o.n()).done;){n=s.value;j.call(t,n)&&k(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},w=function(e,t,n){return new Promise((function(s,o){var i=function(e){try{a(n.next(e))}catch(e){o(e)}},r=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?s(e.value):Promise.resolve(e.value).then(i,r)};a((n=n.apply(e,t)).next())}))},P=new o.a,x={isWindowVisible:function(e){return e.isWindowVisible},selectedConversation:function(e){var t=e.conversationsState,n=t.conversations,s=t.selectedConversationSid;return _.find(n,(function(e){return e.sid===s}))},conversationsState:function(e){return e.conversationsState},mapTargetUser:function(e){return function(t){var n,s=t.role,o=t.identity,i="".concat(s,"_").concat(o);return(null==(n=e.targetUserMapping)?void 0:n[i])||{}}},userAttributes:function(e){return function(t){var n=_.find(e.conversationsState.users,["identity",_.toString(t)]);return(null==n?void 0:n.attributes)||{}}}},C={updateWindowVisible:function(e,t){e.isWindowVisible=t},fetchingStart:function(e,t){e.fetchingList.push(t)},fetchingEnd:function(e,t){e.fetchingList=_.filter(e.fetchingList,(function(e){return e!==t}))},setState:function(e,t){e.conversationsState=_.assign(e.conversationsState,t)},updateConversationsClient:function(e,t){e.conversationsClient=t},updateConversationList:function(e,t){e.conversationList=t},updateTargetUserMapping:function(e,t){e.targetUserMapping=t}},D={initMessageClient:function(e){return w(this,arguments,regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.next=3,n("setConversationsClient");case 3:n("onConnectionStateChanged"),n("onConversationJoined"),n("onConversationLeft"),n("onMessageAdded");case 7:case"end":return e.stop()}}),e)})))},setConversationsClient:function(e){return w(this,arguments,regeneratorRuntime.mark((function e(t){var n,o,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,o=t.commit,e.prev=1,r=n.conversationsState.token){e.next=5;break}throw new Error("token cannot be empty");case 5:return o("setState",{loadingState:"initializing"}),e.next=8,s.Client.create(r);case 8:a=e.sent,o("updateConversationsClient",a),o("setState",{statusString:"Connecting to Twilio..."}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),i.a.warn(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))},onConnectionStateChanged:function(e){var t=e.state,n=e.commit;t.conversationsClient.on("connectionStateChanged",(function(e){switch(e){case"connecting":n("setState",{statusString:"Connecting to Twilio...",status:"default"});break;case"connected":n("setState",{conversationsReady:!0,statusString:"You are connected.",status:"success"});break;case"disconnecting":n("setState",{conversationsReady:!1,statusString:"Disconnecting from Twilio...",status:"default"});break;case"disconnected":n("setState",{conversationsReady:!1,statusString:"Disconnected.",status:"warning"});break;case"denied":n("setState",{conversationsReady:!1,statusString:"Failed to connect.",status:"error"})}}))},onConversationJoined:function(e){var t=e.state,n=e.commit;t.conversationsClient.on("conversationJoined",(function(e){n("setState",{conversations:[].concat(m(t.conversationsState.conversations),[e])})}))},onConversationLeft:function(e){var t=e.state,n=e.commit;t.conversationsClient.on("conversationLeft",(function(e){n("setState",{conversations:m(t.conversationsState.conversations.filter((function(t){return t!==e})))})}))},onMessageAdded:function(e){var t=this,n=e.state,s=e.commit;n.conversationsClient.on("messageAdded",(function(e){return w(t,null,regeneratorRuntime.mark((function t(){var o,i,a,u,l,d,p,f,h,_,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.state,i=o.attributes,a=o.body,u=o.timestamp,l=o.participantSid,d=o.author,p=o.type,f=o.media,h={attributes:i,body:a,create_date:c()(u).utc().format("YYYY-MM-DD HH:mm:ss"),main_message_sid:i.main_message_sid,main_participant_sid:l,main_user_sid:d,message_type:p},"media"!==p){t.next=9;break}return _=r.b.imageTypes.includes(f.state.contentType),t.next=6,f.getContentTemporaryUrl();case 6:g=t.sent,h.body=[{publish_url:g,filename:f.state.filename}],h.message_type=_?"image":"file";case 9:s("setState",{messages:[h].concat(m(n.conversationsState.messages))});case 10:case"end":return t.stop()}}),t)})))}))},getConversationToken:function(e){return w(this,arguments,regeneratorRuntime.mark((function e(t){var n,s,o,r,a,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,P.getConversationToken();case 4:if(s=e.sent,o=d(s,2),r=o[0],a=o[1],!r){e.next=10;break}throw new Error(r);case 10:if(c=a.data,u=c.main_user_sid,l=c.vendor,u&&l.token){e.next=13;break}throw new Error("get conversation token fail");case 13:return n("setState",{mainUserSid:u,token:l.token,loadingState:"token ready"}),e.abrupt("return",l.token);case 17:e.prev=17,e.t0=e.catch(1),i.a.warn(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))},getConversations:function(e,t){return w(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,r,a,c,u,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.commit,o=n.startMainConversationSid,r=n.limit,e.prev=2,e.next=5,P.getConversations({startMainConversationSid:o,limit:r});case 5:if(a=e.sent,c=d(a,2),u=c[0],l=c[1],!u){e.next=11;break}throw new Error(u);case 11:return m=_.uniqBy(l.data.conversations,"main_conversation_sid"),_.isEmpty(m)||s("updateConversationList",m),e.abrupt("return",l.data);case 16:e.prev=16,e.t0=e.catch(2),i.a.warn(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})))},getUnreadConversations:function(e,t){return w(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,r,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.commit,s=n.startMainConversationSid,o=n.limit,e.prev=2,e.next=5,P.getUnreadConversations({startMainConversationSid:s,limit:o});case 5:if(r=e.sent,a=d(r,2),c=a[0],u=a[1],!c){e.next=11;break}throw new Error(c);case 11:return e.abrupt("return",u.data);case 14:e.prev=14,e.t0=e.catch(2),i.a.warn(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})))},createConversations:function(e,t){return w(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,r,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,s("fetchingStart","createConversations"),e.next=5,P.createConversations(n);case 5:if(o=e.sent,r=d(o,2),a=r[0],c=r[1],!a){e.next=11;break}throw new Error(a);case 11:return u=c.data.target_user_mapping,s("updateTargetUserMapping",u),e.abrupt("return",c.data);case 16:e.prev=16,e.t0=e.catch(1),i.a.warn(e.t0);case 19:return e.prev=19,s("fetchingEnd","createConversations"),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,16,19,22]])})))},getConversationDetail:function(e,t){return w(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,r,a,c,u,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,s("fetchingStart","getConversationDetail"),e.next=5,P.getConversationDetail(n);case 5:if(o=e.sent,r=d(o,2),a=r[0],c=r[1],!a){e.next=11;break}throw new Error(a);case 11:return u=c.data,l=u.users,m=u.messages,s("setState",{users:l,messages:m}),e.abrupt("return",c.data);case 16:e.prev=16,e.t0=e.catch(1),i.a.warn(e.t0);case 19:return e.prev=19,s("fetchingEnd","getConversationDetail"),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,16,19,22]])})))},sendMessage:function(e,t){return w(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state,s=t.getters,o=n.messageData,i=n.productInfo,r=void 0===i?{}:i,!_.isEmpty(r)){e.next=7;break}return e.next=5,s.selectedConversation.sendMessage(o);case 5:e.next=9;break;case 7:return e.next=9,s.selectedConversation.sendMessage(o,r);case 9:case"end":return e.stop()}}),e)})))},getMessages:function(e,t){return w(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,r,a,c,u,l,p,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.state,o=t.commit,t.dispatch,r=n.mainConversationSid,a=n.startMainMessageSid,c=n.limit,e.prev=2,o("fetchingStart","getMessages"),e.next=6,P.getMessages({sid:r,startMainMessageSid:a,limit:c});case 6:if(u=e.sent,l=d(u,2),p=l[0],f=l[1],!p){e.next=12;break}throw new Error(p);case 12:return h=f.data.messages,_.isEmpty(h)||o("setState",{messages:[].concat(m(s.conversationsState.messages),m(h))}),e.abrupt("return",f.data);case 17:e.prev=17,e.t0=e.catch(2),i.a.warn(e.t0);case 20:return e.prev=20,o("fetchingEnd","getMessages"),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})))},startConversation:function(e,t){return w(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,r,a,c,u,l,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,s=t.commit,e.prev=1,s("fetchingStart","startConversation"),e.next=5,P.startConversation(n);case 5:if(a=e.sent,c=d(a,2),u=c[0],l=c[1],!u){e.next=11;break}throw new Error(u);case 11:if(m=null==(r=null==(o=l.data)?void 0:o.vendor)?void 0:r.conversation_sid){e.next=14;break}throw new Error("get start-conversation sid failed");case 14:return s("setState",{loadingState:"started",selectedConversationSid:m}),e.abrupt("return",m);case 18:e.prev=18,e.t0=e.catch(1),i.a.warn(e.t0);case 21:return e.prev=21,s("fetchingEnd","startConversation"),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})))},readAllMessages:function(e,t){return w(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,r,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,s=t.commit,o=t.dispatch,e.prev=1,s("fetchingStart","readAllMessages"),e.next=5,P.readAllMessages(n);case 5:if(r=e.sent,a=d(r,2),c=a[0],u=a[1],!c){e.next=11;break}throw new Error(c);case 11:return o("updateTargetUserUnreadCount",{mainConversationSid:n,count:0}),e.abrupt("return",u);case 15:e.prev=15,e.t0=e.catch(1),i.a.warn(e.t0);case 18:return e.prev=18,s("fetchingEnd","readAllMessages"),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})))},updateTargetUserUnreadCount:function(e,t){var n=e.state,s=e.commit,o=t.mainConversationSid,i=t.count;s("updateTargetUserMapping",_.mapValues(n.targetUserMapping,(function(e){var t,n=e.main_conversation_sid===o?i:e.unread_message_count;return t=S({},e),g(t,v({unread_message_count:n}))})))},logOut:function(e){var t=e.state;(0,e.commit)("setState",{token:null,statusString:null,conversationsReady:!1,conversations:[],selectedConversationSid:null,mainUserSid:null,users:[],messages:[],loadingState:""}),t.conversationsClient.shutdown()},openMarketplaceWindow:function(t){var n=t.commit;if(_.get(u.a.getInitState(),"state.common.member.isLogin",!1))n("updateWindowVisible",!0);else{window.sessionStorage.setItem("should_open_marketplace_window",!0),e(l.a).modal("show").one("hide.bs.modal",(function(){window.sessionStorage.removeItem("should_open_marketplace_window")}))}},closeMarketplaceWindow:function(e){(0,e.commit)("updateWindowVisible",!1)}};t.a={namespaced:!0,state:{isWindowVisible:!1,fetchingList:[],conversationsClient:null,conversationsState:{token:null,statusString:null,conversationsReady:!1,conversations:[],selectedConversationSid:null,mainUserSid:null,users:[],messages:[],loadingState:""},conversationList:[],targetUserMapping:{}},getters:x,mutations:C,actions:D}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./resources/pc/js/store/modules/newProduct.js":function(e,t,n){"use strict";n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.search.js"),n("./node_modules/core-js/modules/es.array.find.js");var s,o,i,r,a,c,u=n("./resources/share/js/libs/InitStateProvider.js"),l=n("./resources/share/js/libs/KkDispatcher.js"),d=n("./resources/pc/js/store/modules/newProduct/optionSection.js"),m=n("./resources/pc/js/store/modules/newProduct/coupon.js"),p=n("./node_modules/@kkday/web-js-lib/dist/B2cApiService.js"),f=n("./resources/share/js/api/index.js"),h=null==(s=u.a.getInitState())?void 0:s.state,g=null==(o=null==h?void 0:h.common)?void 0:o.member,v={"x-req-source":"WEB","x-req-platform":"WWW","x-auth-token":"FtUNyeEcjRmRD1OAG/OdaD5aBMTT5YfaiadIUe8SOc4=",lang:null==(r=null==(i=null==h?void 0:h.common)?void 0:i.constants)?void 0:r.LANG_UI,locale:null==(c=null==(a=null==h?void 0:h.common)?void 0:a.constants)?void 0:c.COUNTRY,token:"","member-uuid":(null==g?void 0:g.memberUuid)||"","ad-id":kkday.cookie.getValue("ADID")||"",cid:kkday.cookie.getValue("CID")||"",ud1:kkday.cookie.getValue("UD1")||"",ud2:kkday.cookie.getValue("UD2")||"","request-uuid":(null==g?void 0:g.kkud)||""},y=new p.B2cApiService({baseUrl:"https://api-b2c.kkday.com/api/v2/",headers:v});y.setDefaultErrorHandler(f.a);var b=y,j={getProductAnnouncement:function(e){return t=void 0,n=null,s=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="product/".concat(e,"/announcement"),t.next=3,b.sendRequest({method:p.REQUEST_ACTION.GET,path:n});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})),new Promise((function(e,o){var i=function(e){try{a(s.next(e))}catch(e){o(e)}},r=function(e){try{a(s.throw(e))}catch(e){o(e)}},a=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(i,r)};a((s=s.apply(t,n)).next())}));var t,n,s}},k=function(e,t,n){return new Promise((function(s,o){var i=function(e){try{a(n.next(e))}catch(e){o(e)}},r=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?s(e.value):Promise.resolve(e.value).then(i,r)};a((n=n.apply(e,t)).next())}))},S={isNeedReplaceUrlUd1:!1,isFetching:!1,product:{},productRelatedData:{commentInfo:{comments:[],pageSize:10},latestComment:null,recommendProducts:null,recCount:0},prodInfo:{},prodSetting:{},areaData:{},prodLocation:{},prodDescModules:{},reloadModalContent:{bodyContent:"",footerContent:""},productMarketingConfig:[],productStatusMessage:"",redeemInfo:{},userActionUrl:"",userActionRequest:{},milesPartnerInfo:{},pointBonusBannerData:_.get(u.a.getInitState(),"state.pointBonusBannerData"),productAnnouncement:""},w={updateIsNeedReplaceUrlUd1:function(e,t){e.isNeedReplaceUrlUd1=t},updateProduct:function(e,t){e.product=_.merge(e.product,t)},updateProductRelatedData:function(e,t){e.productRelatedData=_.assign({},e.productRelatedData,t)},updateCommentInfo:function(e,t){e.productRelatedData.commentInfo=_.assign(e.productRelatedData.commentInfo,{comments:t})},updateProdInfo:function(e,t){e.prodInfo=_.merge(e.prodInfo,t)},updateProdSetting:function(e,t){e.prodSetting=_.merge(e.prodSetting,t)},updateAreaData:function(e,t){e.areaData=t},updateProdLocation:function(e,t){e.prodLocation=t},updateProdDescModules:function(e,t){e.prodDescModules=t},fetchingStart:function(e){e.isFetching=!0},fetchingEnd:function(e){e.isFetching=!1},updateReloadModalContent:function(e,t){e.reloadModalContent=_.merge(e.reloadModalContent,t)},updateProductMarketingConfig:function(e,t){e.productMarketingConfig=t},updateProductStatusMessage:function(e,t){e.productStatusMessage=t},updateRedeemInfo:function(e,t){e.redeemInfo=t},updateUserActionUrl:function(e,t){e.userActionUrl=t},updateUserActionRequest:function(e,t){e.userActionRequest=t},updateMilesPartnerInfo:function(e,t){e.milesPartnerInfo=t},updateProductAnnouncement:function(e,t){e.productAnnouncement=t}},P={init:function(e,t){var n=e.commit,s=e.getters,o=e.dispatch;n("updateIsNeedReplaceUrlUd1",_.get(t,"isNeedReplaceUrlUd1",!1)),n("updateProduct",_.get(t,"product",{})),n("updateProdInfo",_.get(t,"product.prodInfo",{})),n("updateProdSetting",_.get(t,"product.prodSetting",{})),n("updateAreaData",_.get(_.get(t.common.search.areaData,t.system.langInfo.lang,{}),"continents",[])),n("updateProdDescModules",_.isEmpty(_.get(t,"product.descModules"))?{}:_.get(t,"product.descModules")),n("updateProductStatusMessage",_.get(t,"product.productStatusMessage","")),n("updateProdLocation",_.reduce(s.prodInfo.cities,(function(e,t){var n={country:{countryCode:t.country_code,countryName:t.country_name},city:[{cityCode:t.city_code,cityName:t.city_name}]},s=_.find(e,(function(e){return e.country.countryCode===t.country_code}));return s?s.city.push({cityCode:t.city_code,cityName:t.city_name}):e.push(n),e}),[])),n("updateProductMarketingConfig",_.get(t,"product.productMarketingConfig",[])),n("updateProductRelatedData",{commentInfo:{recCount:S.prodInfo.statistics.rec_num}}),n("updateRedeemInfo",_.get(t,"product.redeemInfo",{})),n("updateUserActionUrl",_.get(t,"userActionUrl","")),n("updateUserActionRequest",_.get(t,"userActionRequest",{})),o("getMilesPartnerInfo",{prodMid:s.prodSetting.prod_mid}),o("getProductRelatedData",{prodMid:s.prodSetting.prod_mid}),o("getProductAnnouncement",{prodOid:s.prodSetting.prod_oid})},getMilesPartnerInfo:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n.prodMid,o={url:kkday.url.kkSiteUrl("affiliate/ajax_get_miles_partner_info"),method:"GET",params:{prodMids:[s]}};l.a.send(o).then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.data})).then((function(e){e.isSuccess&&!_.isEmpty(e.data)&&t("updateMilesPartnerInfo",e.data.milesInfo)}))},getProductRelatedData:function(e){return k(this,arguments,regeneratorRuntime.mark((function e(t){var n,s,o,i,r,a,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,s=t.state,o=t.rootState,i=c.length>1&&void 0!==c[1]?c[1]:{},r=i.prodMid,!s.isFetching){e.next=4;break}return e.abrupt("return");case 4:a={url:kkday.url.kkSiteUrl("product/ajax_get_product_related_data"),method:"GET",params:{prodMid:r}},n("fetchingStart"),l.a.send(a).then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.data})).then((function(e){if(!e.isSuccess)throw new Error(e.msg);n("updateProductRelatedData",{commentInfo:{comments:e.data.comments,pageSize:e.data.comment_page_size,recCount:_.isEmpty(e.data.comments)?0:_.toNumber(e.data.comments[0].totalCount)},latestComment:e.data.last_comment,recommendProducts:e.data.recommend_products}),n("common/appendTestCases",{recommend_products_by:e.data.recommend_products_by},{root:!0})})).then((function(){var e,t=(null==(e=o.common.testCases)?void 0:e.recommend_products_by)||"";window.dataLayer.push({event:"ProductIndex_RelatedDataAjaxSuccess",recommendProductCase:t}),n("fetchingEnd")})).catch((function(e){console.error(e)}));case 7:case"end":return e.stop()}}),e)})))},getPageComments:function(e){return k(this,arguments,regeneratorRuntime.mark((function e(t){var n,s,o,i,r,a,c,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.commit,n=u.length>1&&void 0!==u[1]?u[1]:{},s=n.prodRefNo,o=n.sortBy,i=n.currentPage,r=n.pageSize,a=void 0===r?10:r,c={url:kkday.url.kkSiteUrl("product/ajax_get_page_comments/".concat(s)),method:"POST",data:{json:{sortBy:o,currentPage:i,pageSize:a}}},e.next=5,l.a.send(c).then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.data})).catch((function(e){console.error(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))},getProductAnnouncement:function(e,t){return k(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.commit,o=n.prodOid,e.prev=2,e.next=5,j.getProductAnnouncement(o);case 5:r=e.sent,s("updateProductAnnouncement",(null==(i=r.data)?void 0:i.content)||""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))}};t.a={namespaced:!0,state:S,getters:{isNeedReplaceUrlUd1:function(e){return e.isNeedReplaceUrlUd1},isFetching:function(e){return e.isFetching},product:function(e){return e.product},mainProductImageUrl:function(e){return e.product.banner.main},productRelatedData:function(e){return e.productRelatedData},prodInfo:function(e){return e.prodInfo},prodSetting:function(e){return e.prodSetting},areaData:function(e){return e.areaData},prodLocation:function(e){return e.prodLocation},prodDescModules:function(e){return e.prodDescModules},reloadModalContent:function(e){return e.reloadModalContent},productMarketingConfig:function(e){return e.productMarketingConfig},productStatusMessage:function(e){return e.productStatusMessage},redeemInfo:function(e){return e.redeemInfo},userActionUrl:function(e){return e.userActionUrl},userActionRequest:function(e){return e.userActionRequest},milesPartnerInfo:function(e){return e.milesPartnerInfo},productAnnouncement:function(e){return e.productAnnouncement}},mutations:w,actions:P,modules:{optionSection:d.a,coupon:m.a}}},"./resources/pc/js/store/modules/newProduct/coupon.js":function(e,t,n){"use strict";(function(e){n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.promise.finally.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js");var s=n("./resources/share/js/libs/KkDispatcher.js"),o=n("./resources/pc/js/helpers/common.js"),i={updateIsCouponListLoading:function(e,t){e.isCouponListLoading=t},updateIsShowCouponList:function(t,n){!t.isCouponListLoading&&t.isAutoCloseCouponList&&(n?(e(".coupon-dropdown").addClass("open"),e(".coupon-dropdown").siblings(".dropdown").removeClass("open")):e(".coupon-dropdown").removeClass("open"),this.isShowCouponList=n)},updateIsAutoCloseCouponList:function(e,t){e.isAutoCloseCouponList=t},updateCouponList:function(e,t){e.couponList=t},addRetainingCoupon:function(e,t){e.retainingCouponList.push(t)},removeRetainingCoupon:function(e,t){e.retainingCouponList=_.remove(e.retainingCouponList,(function(e){return e!==t}))},updateRetainedCouponStatus:function(e,t){_.forEach(e.couponList,(function(n,s){n.code===t&&(e.couponList[s].claimed=!0)}))}},r={ajaxGetCouponList:function(e,t){e.state;var n=e.commit,o=new Date;return n("updateIsCouponListLoading",!0),s.a.send({url:kkday.url.kkSiteUrl("product/ajax_get_product_page_coupon_list"),method:"POST",data:{productOid:t,timezoneOffset:-o.getTimezoneOffset()}}).then((function(e){var t=e.data;if(!t.isSuccess)throw new Error(t.msg);n("updateCouponList",_.get(t.data[0],"coupons",[]))})).catch((function(e){console.error(e)})).finally((function(){n("updateIsCouponListLoading",!1)}))},retainCoupon:function(e,t){var n=e.state,i=e.commit;if(!_.includes(n.retainingCouponList,t))return i("addRetainingCoupon",t),s.a.send({url:kkday.url.kkSiteUrl("member/ajax_retain_coupon"),method:"POST",data:{coupon:t}}).then((function(e){var n=e.data;n.isSuccess?(i("updateRetainedCouponStatus",t),alert(n.msg||Object(o.q)("product_index_claim_coupon_successful"))):alert(n.msg||Object(o.q)("product_index_claim_coupon_failed"),"kkday-warning")})).catch((function(e){console.error(e)})).finally((function(){i("removeRetainingCoupon",t)}))}};t.a={namespaced:!0,state:{isShowCouponList:!1,isAutoCloseCouponList:!0,isCouponListLoading:!0,isCouponRetaining:!1,couponList:[],retainingCouponList:[]},getters:{},mutations:i,actions:r}}).call(this,n("./node_modules/jquery/dist/jquery.js-exposed"))},"./resources/pc/js/store/modules/newProduct/optionSection.js":function(e,t,n){"use strict";(function(e){n("./node_modules/regenerator-runtime/runtime.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.regexp.exec.js");var s=n("./node_modules/moment/moment.js-exposed"),o=n.n(s),i=n("./resources/share/js/libs/KkDispatcher.js"),r=n("./resources/share/js/libs/InitStateProvider.js"),a=n("./resources/share/js/libs/KKdayUtils/url/index.js"),c=n("./resources/pc/js/helpers/common.js"),u=n("./resources/pc/js/helpers/product.js"),l=n("./resources/pc/js/store/modules/kkpointBonus.js"),d=n("./resources/pc/js/config/product/product.js");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}var h=function(e,t,n){return new Promise((function(s,o){var i=function(e){try{a(n.next(e))}catch(e){o(e)}},r=function(e){try{a(n.throw(e))}catch(e){o(e)}},a=function(e){return e.done?s(e.value):Promise.resolve(e.value).then(i,r)};a((n=n.apply(e,t)).next())}))},g=r.a.getInitState(),v=kkday.constants.getValue("PRODUCT_SPEC_TICKET");function y(e,t){var n=o()(e,k.dateFormat),s=n.format(k.dateFormat),i=n.clone().add(1,"M").endOf("month");return{beginDate:s,endDate:(o()(t,k.dateFormat).isBefore(i,"day")?o()(t,k.dateFormat):i).format(k.dateFormat)}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=t||e.sale_time.earliest_sale_time.date,o=n||e.sale_time.latest_sale_time.date;return{earliestDate:s,latestDate:o}}function j(e){var t,n,s,i;return(null==(n=null==(t=e.product)?void 0:t.go_date_setting)?void 0:n.type)===d.a.OPEN_DATE||(null==(i=null==(s=e.product)?void 0:s.go_date_setting)?void 0:i.type)===d.a.REAL_OPEN_DATE?null:o()().add(30,"days").format(e.dateFormat)}var k={checkoutData:{},currentPkgOid:null,dateFormat:"YYYY-MM-DD",isInitialized:!1,itemsData:{},packages:null,product:_.get(g,"state.product.prodInfo"),productSetting:_.get(g,"state.product.prodSetting"),selectedPkgOid:null,urlParams:Object(a.c)(),productCalendar:{},packageItems:{},productSelectedDate:{startDate:"",endDate:""},loadingPkgOid:null,redeemInfo:_.get(g,"state.product.redeemInfo",{}),redeemAbleDates:null},S={isMultiPackage:function(e){return e.product.packages.length>1},isPkgSaleable:function(e,t){return function(n){return _.includes(e.product.packages,n)&&!t.isPkgSoldOut(n)}},isPkgSoldOut:function(e,t){return function(e){return _.includes(t.soldOutPkgIdList,e)}},isAccommodationType:function(){return _.get(k.product,"go_date_setting.type","")===kkday.constants.getValue("PRDOCUT_DATE_SETTING_ACCOMMODATION")},dateMode:function(e){switch(_.get(e.product,"go_date_setting.type",null)){case kkday.constants.getValue("PRODUCT_DATE_SETTING_MULTI_DATE"):return 1;case kkday.constants.getValue("PRDOCUT_DATE_SETTING_ACCOMMODATION"):return 2;default:return 0}},isProdMultiDate:function(e,t){return t.dateMode>0},loadedPkgsOid:function(e){return _.reduce(e.packages,(function(t,n){return _.every(n.items,(function(t){return!_.isNil(e.itemsData[t])}))&&t.push(n.pkg_oid),t}),[])},loadedPkgItemDate:function(e,t){return _.reduce(t.loadedPkgsOid,(function(t,n){var s=e.packages[n],o=_.reduce(s.items,(function(t,n){var s=e.itemsData[n];return _.set(t,n,_.keys(s.calendar)),t}),{});return _.set(t,n,o),t}),{})},loadingPkgOid:function(e){return e.selectedPkgOid?e.loadingPkgOid:null},urlPkgOid:function(e){var t=_.toNumber(_.get(e.urlParams,"pkg_oid"));return t&&_.includes(e.product.packages,t)?t:null},soldOutPkgIdList:function(e){return _.filter(e.product.packages,(function(t){return _.get(e.packages,[t,"is_all_sold_out"])||_.isNil(_.get(e.packages,[t,"sale_time","earliest_sale_time","date"]))}))},getPkgAboutData:function(e){return function(t){var n=e.packages[t],s=_.minBy(n.refund_policy.partial_refund,(function(e){return e.value})),o=!!n.order_process_setting.confirm_time&&("h"===n.order_process_setting.confirm_time.unit&&0===n.order_process_setting.confirm_time.value),i=!!n.order_process_setting.deliver_time&&("h"===n.order_process_setting.deliver_time.unit&&0===n.order_process_setting.deliver_time.value),r=!!n.lead_day.before_days&&("h"===n.lead_day.before_days.unit&&0===n.lead_day.before_days.value),a=o&&r&&i,c="3"===n.refund_policy.policy_type;return{maxRefundOption:s,isInstantConfirm:o,isInstantDeliver:i,isInstantOrder:r,isInstantOrderAndUse:a,isPartialRefund:c,isShowFreeRefundPolicy:"1"===n.refund_policy.policy_type||c&&0===s.value}}},hasPriceTypeByDate:function(e){return _.some(e.packageItems,{price_type:kkday.constants.getValue("PRODUCT_PRICE_TYPE_BY_DATE")})},isHighSku:function(e,t){return e.product.max_package_combination>1e3&&t.hasPriceTypeByDate},isOpenDateProduct:function(e){var t,n;return Object(u.a)(null==(n=null==(t=e.product)?void 0:t.go_date_setting)?void 0:n.type,e.productSetting.prod_mid)},isSingleCalendarFlow:function(e,t){return t.isHighSku||t.isOpenDateProduct},isDateSelected:function(e,t){return!!(t.isProdMultiDate?e.productSelectedDate.startDate&&e.productSelectedDate.endDate:e.productSelectedDate.startDate)},availableDateList:function(e,t){return _.reduce(t.pkgCalendar,(function(t,n){return e.selectedPkgOid&&_.includes(n.available_pkg,e.selectedPkgOid)?t.push(n.date):e.selectedPkgOid||_.isEmpty(n.available_pkg)||t.push(n.date),t}),[])},availablePkgOidList:function(e,t){var n=_.get(e.productCalendar,"available_pkg");return t.isDateSelected?_.reduce(t.selectedDates,(function(e,n){var s=_.get(t.pkgCalendar,[n,"available_pkg"],[]);return e=_.intersection(e,s)}),n):n},pkgCalendar:function(e){return _.get(e.productCalendar,"pkg_calendar")},saleableDateList:function(e,t){return _.difference(t.availableDateList,t.soldOutDateList)},saleablePkgOidList:function(e,t){return _.difference(t.availablePkgOidList,t.soldOutPkgOidList)},selectedDates:function(e,t){var n=[];if(!t.isDateSelected)return n;if(t.isProdMultiDate)for(var s=o()(e.productSelectedDate.startDate,e.dateFormat),i=o()(e.productSelectedDate.endDate,e.dateFormat);s.isSameOrBefore(i,"day");)n.push(s.format(e.dateFormat)),s.add(1,"d");else n.push(e.productSelectedDate.startDate);return n},soldOutDateList:function(e,t){return _.reduce(t.pkgCalendar,(function(t,n){return e.selectedPkgOid&&_.includes(n.sold_out_pkg,e.selectedPkgOid)?t.push(n.date):e.selectedPkgOid||0!==_.difference(n.available_pkg,n.sold_out_pkg).length||t.push(n.date),t}),[])},soldOutPkgOidList:function(e,t){var n=_.difference(e.product.packages,_.get(e.productCalendar,"available_pkg")),s=[];return s=t.isDateSelected?_.reduce(t.selectedDates,(function(e,n){return e=_.union(e,_.get(t.pkgCalendar,[n,"sold_out_pkg"],[]))}),s):_.map(_.filter(e.packages,"is_all_sold_out"),"pkg_oid"),_.union(n,s)},earliestSaleDate:function(e){return _.get(e.product,["sale_time","earliest_sale_time","date"])},latestSaleDate:function(e){return _.get(e.product,["sale_time","latest_sale_time","date"])},isRedeemProductSetGoDates:function(e){return _.isArray(e.redeemAbleDates)}},w={updateCheckoutData:function(e,t){e.checkoutData=t},updateCurrentPkgOid:function(e,t){e.currentPkgOid=t},updateItemLoadingMonth:function(e,t){var n=t.itemOid,s=t.year,o=t.month,i=t.isLoading;e.itemsData[n]&&_.setWith(e.itemsData[n],["loadingMonth",s,o],i,Object)},updateItemsData:function(t,n){_.forEach(n,(function(n,s){e.set(t.itemsData,s,n)}))},updatePackagesData:function(e,t){e.packages=t},updateProduct:function(e,t){e.product=t},updateSelectedPkgOid:function(e,t){e.selectedPkgOid=t},setInitialized:function(e,t){e.isInitialized=t},updateProductCalendar:function(e,t){e.productCalendar=t},updatePackageItems:function(e,t){e.packageItems=t},updateProductSelectedDate:function(e,t){e.productSelectedDate=t},updateLoadingPkgOid:function(e,t){e.loadingPkgOid=t},appendRedeemAbleDates:function(e,t){_.isArray(e.redeemAbleDates)?e.redeemAbleDates=[].concat(p(e.redeemAbleDates),p(t)):e.redeemAbleDates=t}},P={getItemCalendarDataByPkgOid:function(e,t){return h(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,i,r,a,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.state,o=t.getters,i=t.commit,r=t.dispatch,a=n.pkgOid,o.isDateSelected){e.next=4;break}return e.abrupt("return");case 4:u=Object(c.k)(s.productSelectedDate.startDate,s.productSelectedDate.endDate,"YYYY-MM-DD"),l=s.packages[a],_.forEach(l.items,(function(e){var t=_.get(o.loadedPkgItemDate,[a,e]),n=_.intersection(t,u);_.isEqual(n,u)||r("getUpdateItemCalendarData",{pkgOid:a,itemOid:e,beginDate:s.productSelectedDate.startDate,endDate:s.productSelectedDate.endDate}).then((function(t){return i("updateItemsData",m({},e,t)),t})).catch((function(e){console.error(e)}))}));case 7:case"end":return e.stop()}}),e)})))},getItemCalendarData:function(e,t){return h(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,i,r,a,c,u,l,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.state,i=t.commit,r=t.dispatch,a=n.pkgOid,c=n.itemOid,u=n.year,l=n.month,d=o()().year(u).month(l),p=s.itemsData[c],!_.get(p,["loadingMonth",u,l])){e.next=6;break}return e.abrupt("return");case 6:return i("updateItemLoadingMonth",{itemOid:c,year:u,month:l,isLoading:!0}),e.next=9,r("getUpdateItemCalendarData",{pkgOid:a,itemOid:c,beginDate:d.startOf("month").format(s.dateFormat),endDate:d.endOf("month").format(s.dateFormat)}).then((function(e){return _.setWith(e,["loadedMonth",u,l],!0,Object),_.setWith(e,["loadingMonth",u,l],!1,Object),i("updateItemsData",m({},c,e)),e})).catch((function(e){console.error(e)}));case 9:return f=e.sent,e.abrupt("return",f);case 11:case"end":return e.stop()}}),e)})))},getUpdateItemCalendarData:function(e,t){return h(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,r,a,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.state,o=n.pkgOid,r=n.itemOid,a=n.beginDate,c=n.endDate,e.next=4,i.a.send({url:kkday.url.kkSiteUrl("product/ajax_get_item_calendar_data"),method:"GET",params:{pkgOid:o,itemOid:r,beginDate:a,endDate:c,previewToken:(null==(u=s.productSetting)?void 0:u.preview_token)||""}}).then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.data})).then((function(e){if(!e.isSuccess)throw new Error(e.msg);var t=_.cloneDeep(s.itemsData[r]);return _.assign(t.calendar,e.data.calendar),_.isNil(t.skusPriceCalendar)||_.forEach(t.skusPriceCalendar,(function(t,n){_.assign(t,e.data.skusPriceCalendar[n])})),_.isEmpty(t.closeList)?t.closeList=e.data.closeList:_.forEach(e.data.closeList,(function(e,n){t.closeList[n]=_.assign(t.closeList[n],e)})),t})).catch((function(e){console.error(e)}));case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})))},getPackageItemsData:function(e,t){return h(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,r,a,c,u,l,d,m,p,f,h,g,j,k,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.commit,r=t.state,a=n.pkgOid,c=n.selectedStartDate,u=void 0===c?null:c,l=n.selectedEndDate,d=void 0===l?null:l,s("updateLoadingPkgOid",a),p=r.packages[a],f=b(p,u,d),h=f.earliestDate,g=f.latestDate,j=y(h,g),k=j.beginDate,S=j.endDate,e.next=8,i.a.send({url:kkday.url.kkSiteUrl("product/ajax_get_items_data"),method:"GET",params:{pkgOid:a,itemOidList:p.items,beginDate:k,endDate:S,previewToken:(null==(m=r.productSetting)?void 0:m.preview_token)||""}}).then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.data})).then((function(e){if(!e.isSuccess)throw new Error(e.msg);for(var t=e.data,n=o()(k,r.dateFormat),i=o()(S,r.dateFormat),c=n.clone();c.isSameOrBefore(i);)_.forEach(t,(function(e){_.setWith(e,["loadedMonth",c.year(),c.month()],!0,Object),e.loadingMonth={}})),c.add(1,"M");var u=e.data;return _.forEach(u,(function(e){var t=_.map(_.head(e.item.specs).spec_items,(function(e){return e.spec_item_oid}));e.item.skus=_.sortBy(e.item.skus,(function(e){var n;return t.indexOf(null==(n=null==e?void 0:e.spec)?void 0:n[v])}))})),s("updateItemsData",u),r.selectedPkgOid===a&&s("updateCurrentPkgOid",a),s("updateLoadingPkgOid",null),e.data})).catch((function(e){console.error(e)}));case 8:case"end":return e.stop()}}),e)})))},getPackagesData:function(e){return h(this,arguments,regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,i.a.send({url:kkday.url.kkSiteUrl("product/ajax_get_packages_data"),method:"GET",params:{prodMid:k.productSetting.prod_mid,previewToken:(null==(s=k.productSetting)?void 0:s.preview_token)||"",beginDate:_.get(k.product.sale_time.earliest_sale_time,["date"]),endDate:_.get(k.product.sale_time.latest_sale_time,["date"])}}).then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.data})).then((function(e){if(!e.isSuccess)throw new Error(e.msg);return n("updatePackagesData",_.get(e.data,["PACKAGE"])),n("updateProductCalendar",_.get(e.data,["CALENDAR"])),n("updatePackageItems",_.get(e.data,["ITEM"])),e.data})).catch((function(e){console.error(e)}));case 3:case"end":return e.stop()}}),e)})))},getSkusCalendar:function(e){return h(this,arguments,regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,e.next=3,i.a.send({url:kkday.url.kkSiteUrl("product/ajax_get_skus_calendar"),method:"GET",params:{itemOid:n.checkoutData.itemOid,skusOid:_.map(n.checkoutData.skus,"skuOid"),beginDate:n.checkoutData.goDate,endDate:n.checkoutData.backDate||n.checkoutData.goDate}}).then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.data})).then((function(e){if(!e.isSuccess)throw new Error(e.msg);return e.data})).catch((function(e){console.error(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))},init:function(t){return h(this,arguments,regeneratorRuntime.mark((function t(n){var s,i,r,a,c,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.dispatch,i=n.commit,r=n.state,a=n.getters,t.next=3,s("getPackagesData");case 3:if(c=1===r.product.packages.length?_.head(r.product.packages):null,(u=a.urlPkgOid||c||null)&&a.isPkgSaleable(u)&&!a.isHighSku){t.next=9;break}return i("setInitialized",!0),window.dataLayer.push({event:"ProductIndex_OptionSectionInitialized"}),t.abrupt("return");case 9:if(!a.isOpenDateProduct){t.next=17;break}return l=j(r),t.next=13,s("getPackageItemsData",{pkgOid:u,selectedStartDate:o()().format(r.dateFormat),selectedEndDate:l});case 13:i("updateProductSelectedDate",{startDate:l,endDate:l}),_.isEmpty(r.redeemInfo)||s("initRedeemAbleDates",{pkgOid:u}),t.next=20;break;case 17:return t.next=19,s("getPackageItemsData",{pkgOid:u});case 19:_.isEmpty(r.redeemInfo)||s("initRedeemAbleDates",{pkgOid:u});case 20:i("updateCurrentPkgOid",u),e.nextTick((function(){i("setInitialized",!0)}));case 22:case"end":return t.stop()}}),t)})))},setCheckoutData:function(e,t){var n=e.state,s=e.commit,o=e.dispatch,i=_.get(n,"checkoutData.priceTotal");s("updateCheckoutData",t),i!==t.priceTotal&&(_.isNil(S["kkpointBonusStore/uiElements"])||i!==t.priceTotal)&&o("updatePointBonusData")},setProductSelectedDate:function(e,t){var n=e.state,s=e.commit,o=e.dispatch;s("updateProductSelectedDate",t),n.currentPkgOid&&o("getItemCalendarDataByPkgOid",{pkgOid:n.currentPkgOid})},togglePackage:function(e,t){var n=e.state,s=e.getters,i=e.commit,r=e.dispatch;if(s.loadedPkgsOid!==t){if(n.currentPkgOid===t)return i("updateCurrentPkgOid",null),void(n.selectedPkgOid===t&&i("updateSelectedPkgOid",null));if(i("updateSelectedPkgOid",t),s.isSingleCalendarFlow){if(s.isOpenDateProduct){var a=j(n);return r("getPackageItemsData",{pkgOid:t,selectedStartDate:o()().format(n.dateFormat),selectedEndDate:a}),void i("updateProductSelectedDate",{startDate:a,endDate:a})}return _.includes(s.loadedPkgsOid,t)?(i("updateCurrentPkgOid",t),void r("getItemCalendarDataByPkgOid",{pkgOid:t})):void r("getPackageItemsData",{pkgOid:t,selectedStartDate:n.productSelectedDate.startDate,selectedEndDate:n.productSelectedDate.endDate})}_.includes(s.loadedPkgsOid,t)?i("updateCurrentPkgOid",t):r("getPackageItemsData",{pkgOid:t})}},updatePointBonusData:function(e){var t=e.state,n=e.dispatch,s=e.rootGetters,o=_.map(s["cart/cartItems"],(function(e){return{orderAmount:_.sumBy(e.skus,(function(e){return e.price*e.amount})),productOid:e.prodOid,packageOid:e.pkgOid,itemOid:e.itemOid,skus:_.map(e.skus,(function(e){return{skuOid:e.skuOid,qty:e.amount,unitPrice:e.price||0}}))}}));n("kkpointBonusStore/getPointBonusData",{cart:o,cartExtra:_.isEmpty(t.checkoutData.skus)?null:[{orderAmount:t.checkoutData.priceTotal,productOid:t.checkoutData.prodOid,packageOid:t.checkoutData.pkgOid,itemOid:t.checkoutData.itemOid,skus:_.map(t.checkoutData.skus,(function(e){return{skuOid:e.skuOid,qty:e.amount,unitPrice:e.price||0}}))}],cartAmount:_.sumBy(o,(function(e){return e.orderAmount}))+t.checkoutData.priceTotal,uiElements:[kkday.constants.getValue("POINTS_BONUS_UI_ELEMENTS").CHECKOUT_BANNER]})},initRedeemAbleDates:function(e,t){var n=e.state,s=e.dispatch,o=t.pkgOid,i=b(n.packages[o]),r=y(i.earliestDate,i.latestDate);s("getRedeemableDates",{startDate:r.beginDate,endDate:r.endDate})},getRedeemableDates:function(e,t){return h(this,arguments,regeneratorRuntime.mark((function e(t,n){var s,o,r,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.state,o=t.commit,r=n.startDate,a=n.endDate,c={url:kkday.url.kkSiteUrl("redeem/ajax_get_product_redeemable_dates"),method:"GET",params:{productOid:s.product.prod_oid,redeemToken:kkday.url.parseUrlParameters().rtk,startDate:r,endDate:a}},e.next=5,i.a.send(c).then((function(e){if(200!==e.status)throw new Error(e.statusText);return e.data})).then((function(e){if(!e.isSuccess)throw new Error(e.msg);o("appendRedeemAbleDates",e.data.goDates)})).catch((function(e){console.error(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))}};t.a={namespaced:!0,state:k,getters:S,mutations:w,actions:P,modules:{kkpointBonusStore:l.a}}}).call(this,n("./node_modules/vue/dist/vue.js-exposed"))},"./resources/pc/js/views/NewProduct.vue":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/views/NewProduct.vue?vue&type=script&lang=js&").a,o=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"product-detail-wrap",attrs:{id:"productDetailApp"}},[n("Announcement"),e._v(" "),e.isAllowFreshchat?n("FreshchatButton",{attrs:{"freshchat-setting":e.product.freshchatSetting,member:e.member,"optional-data":e.freshChatUserProperties}}):e._e(),e._v(" "),e.product.prodInfo.translate_completed?e._e():n("AlertInfo",[e._v("\n\t\t"+e._s(e.lang("product_index_no_translate_hint"))+"\n\t")]),e._v(" "),n("OptionStickyBar"),e._v(" "),n("div",{staticClass:"container"},[n("LayoutFlexRow",{attrs:{"vertical-align":"center",gap:"9"},scopedSlots:e._u([{key:"remain",fn:function(){return[e.isWhlbProd?e._e():n("BreadCrumbs",{ref:"breadCrumbs",attrs:{items:e.breadCrumbItems}})]},proxy:!0},{key:"right",fn:function(){return[n("div",{staticClass:"text-right text-grey-light text-xs mt-15"},[e._v("\n\t\t\t\t\t"+e._s(e.lang("product_index_product_oid"))+" ＃"+e._s(e.product.prodInfo.prod_oid)+"\n\t\t\t\t")])]},proxy:!0}])}),e._v(" "),e._.isEmpty(e.formattedLightboxPhotoList)?e._e():n("ProductBanner",{attrs:{"banner-list":e.formattedLightboxPhotoList}})],1),e._v(" "),n("div",{ref:"contentWrap"},[n("div",{ref:"productWrap",staticClass:"product-overview"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-8"},[n("ProductInfo",{attrs:{"is-store":e.isMarketplace}}),e._v(" "),e.isShowRecentReview?n("RecentReview",{attrs:{comment:e.latestComment,"scroll-offset":e.scollOffset,"lang-ui":e.kkday.constants.getValue("LANG_UI")}}):e._e(),e._v(" "),e.isMarketplace?n("StoreInfo",{attrs:{"supplier-oid":e.product.prodInfo.marketplace_supplier_oid},on:{"show-merchant-detail":e.showMerchantDetail}}):e._e()],1),e._v(" "),n("div",{staticClass:"col-md-4"},[n("ProductInfoBoard",{attrs:{currency:e.kkday.constants.getValue("CURRENCY"),"is-display-sold-out":e.isDisplaySoldOut}}),e._v(" "),e.isShowPointBonusProductBanner?n("PointBonusProductBanner",{staticClass:"mt-15",attrs:{"ui-data":e.pointBonusBannerData}}):e._e(),e._v(" "),e.isShowProductPromoBanners?n("ProductInfoBanners",{attrs:{"prod-info":e.product.prodInfo}}):e._e()],1)])])]),e._v(" "),e.isShowOptionSection?n("OptionSection"):e._e(),e._v(" "),n("div",{ref:"productInfoWrap",staticClass:"new-product product-info-wrap"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-8"},[e._.isEmpty(e.prodDescModules)?e._e():n("ProductDescModules",{attrs:{"module-data":e.prodDescModules,"prod-info":e.product.prodInfo}}),e._v(" "),e.isCommentShow?n("ProductComment",{attrs:{"count-rec":e.productRelatedData.commentInfo.recCount,"prod-mid":e.prodSetting.prod_mid,"avg-score":e.product.prodInfo.statistics.rec_avg_score,"star-percentage":e.product.prodInfo.statistics.starPercentage,"is-fetching":e.isFetching,"comment-info":e.commentInfo,"prod-info-tags":e.product.prodInfo.tags}}):e._e()],1),e._v(" "),n("div",{staticClass:"col-md-3 col-md-offset-1"},[e._.isEmpty(e.prodDescModules)?e._e():n("ProductDescModuleNav",{ref:"descModuleNav",attrs:{"module-data":e.prodDescModules,"comment-data":e.isCommentShow?e.productRelatedData.commentInfo:{},"article-content-list":e.productRelatedData.articleContentList}})],1)])])])],1),e._v(" "),e.isProductRecommendShow?n("RecommendSection",{attrs:{"product-related-data":e.productRelatedData}}):e._e(),e._v(" "),n("ReloadModal",{attrs:{content:e.reloadModalContent,"reload-page-second":e.product.reloadPageSecond}}),e._v(" "),e.isAllowMarketplaceMessage?[n("EntryButton",{attrs:{"target-user":e.marketplaceTargetUsers[0]}}),e._v(" "),e.member.isLogin?n("MessageWindow",{attrs:{"product-info":e.marketplaceProductInfo,"target-user":e.marketplaceTargetUsers[0],"target-users":e.marketplaceTargetUsers}}):e._e()]:e._e(),e._v(" "),n("ConfirmModal",{attrs:{id:"merchant_detail_confirm_modal",title:e.lang("merchant_modal_meta_title"),content:e.lang("merchant_modal_meta_desc"),"cta-button-text":e.lang("merchant_modal_see_more"),"cta-button-link":e.getMarketCtaLink(),"yes-button-text":e.lang("common_roger_that")}}),e._v(" "),n("InfoModal",{attrs:{id:"announcement-info-modal",title:e.lang("product_index_announcement"),size:"md"}},[n("p",{staticClass:"pre-line"},[e._v("\n\t\t\t"+e._s(e.productAnnouncement)+"\n\t\t")])])],2)}),[],!1,null,null,null);t.default=i.exports},"./resources/pc/sass/components/breadcrumb.scss":function(e,t,n){},"./resources/pc/sass/components/member_tier_label.scss":function(e,t,n){},"./resources/pc/sass/components/product_calendar.scss":function(e,t,n){},"./resources/pc/sass/components/review_list.scss":function(e,t,n){},"./resources/pc/sass/components/splide.scss":function(e,t,n){},"./resources/pc/sass/point_bonus.scss":function(e,t,n){},"./resources/pc/sass/product/amount_tool.scss":function(e,t,n){},"./resources/pc/sass/product/custom.scss":function(e,t,n){},"./resources/pc/sass/product/date_range_picker.scss":function(e,t,n){},"./resources/pc/sass/product/product_detail.scss":function(e,t,n){},"./resources/pc/sass/product/product_option.scss":function(e,t,n){},"./resources/pc/sass/store/message.scss":function(e,t,n){},"./resources/share/js/api/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/regenerator-runtime/runtime.js");var s=n("./resources/share/js/libs/KkDispatcher.js"),o=n("./resources/mobile/js/helpers/common.js");function i(e,t,n,s,o,i,r){try{var a=e[i](r),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(s,o)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(s,o){var r=e.apply(t,n);function a(e){i(r,s,o,a,c,"next",e)}function c(e){i(r,s,o,a,c,"throw",e)}a(void 0)}))}}var a=function(){var e=r(regeneratorRuntime.mark((function e(){var t,n,o,i,r,a,u,l,d,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},n=t.conditions,o=void 0===n?{}:n,i=t.fetchingPath,r=t.beforeSend,a=t.onSuccess,u=t.onError,l=t.onFinally,e.prev=1,_.isFunction(r)&&r(),e.next=5,s.a.send(o);case 5:if(200===(d=e.sent).status){e.next=8;break}throw new Error(d.statusText);case 8:if(d.data.isSuccess){e.next=10;break}throw new Error(d.data.msg);case 10:return _.isFunction(a)&&a(),e.abrupt("return",d.data.data);case 14:return e.prev=14,e.t0=e.catch(1),console.warn(e.t0),_.isFunction(u)&&u(),c({logPath:i,err:e.t0}),e.abrupt("return");case 20:return e.prev=20,_.isFunction(l)&&l(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,14,20,23]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=r(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.path,s=t.err,e.next=3,Object(o.a)({url:kkday.url.kkSiteUrl("kk/ajax_save_log/".concat(n)),data:{err:(null==s?void 0:s.msg)||s}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"./resources/share/js/config/member.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var s={LOGIN:0,REGISTER:1}},"./resources/share/js/helpers/punctuationMark.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js");var s=["zh-tw","zh-hk","zh-cn","ja"],o=kkday.constants.getValue("LANG_UI"),i=function(){return _.includes(s,o)},r=function(){return i()?"、":", "},a=function(){return i()?"：":": "},c=function(){return i()?"-":"–"},u=function(){return i()?"。":"."}},1:function(e,t){},2:function(e,t){}}]);