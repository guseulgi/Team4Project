(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/core/card/ProductCard2.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";(function(e){s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.symbol.js"),s("./node_modules/core-js/modules/es.symbol.description.js"),s("./node_modules/core-js/modules/es.symbol.iterator.js"),s("./node_modules/core-js/modules/es.array.from.js"),s("./node_modules/core-js/modules/es.array.slice.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./resources/pc/sass/components/core/card/card2.scss"),s("./resources/pc/sass/components/area/splide_img_list.scss");var o=s("./resources/pc/js/mixins/productCardCore.js"),r=s("./resources/pc/js/components/core/price/Price.vue"),i=s("./resources/pc/js/components/common/KkSplide.vue");function n(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,o=new Array(t);s<t;s++)o[s]=e[s];return o}function a(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,s){return t&&a(e.prototype,t),s&&a(e,s),e}var u=d((function e(t,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=t,this.name=s}));t.a={name:"ProductCard2",components:{Price:r.a,KkSplide:i.default,SVGUse:function(){return s.e(15).then(s.bind(null,"./resources/pc/js/components/common/SVGUse.vue"))}},mixins:[o.a],props:{width:{type:String,default:"481"},height:{type:String,default:"280"},isTourismProduct:{type:Boolean,default:!0},isShowRankLabel:{type:Boolean,default:!1},isShowImgList:{type:Boolean,default:!1},isShowMapTag:{type:Boolean,default:!1}},data:function(){return{isMouseOver:!1,maxFreeRefundBeforeDay:30,minFreeRefundBeforeDay:0,photoSlideOptions:{type:"loop",rewind:!1,cover:!0,padding:!1,height:"153px",perPage:1,perMove:1,heightRatio:0,speed:300,classes:{prev:"splide__arrow--prev splide-style-prev",next:"splide__arrow--next splide-style-next"},pagination:!0,trimSpace:!1}}},computed:{isPackagePriceEquivalent:function(){var e=this.product;return e.price===e.max_price},isShowNotTourismProductHint:function(){return"zh-tw"===kkday.constants.getValue("LANG_UI")&&!this.isTourismProduct},hasCardInfo:function(){return this.isShowProductStar||this.isShowBooked},hasTagList:function(){return!_.isEmpty(this.tagList)},tagList:function(){return[].concat(n(this.instantTagList),n(this.policyTagList))},instantTagList:function(){return this.product.instant_use?[new u("instant_use",this.lang("product_productlist_instant_delivery"))]:this.product.instant_booking?[new u("instant_booking",this.lang("common_imm_confirm"))]:[]},policyTagList:function(){var e=[];return this.product.free_refund_policy?(this.isShowFreeRefundTags(this.product.free_refund_before_day)&&e.push(new u("free_refund",this.printf(this.lang("common_day_more_free_cancel"),[this.product.free_refund_before_day]))),this.hasFreeCancelOption(this.product.free_refund_before_day)&&e.push(new u("free_cancel",this.lang("product_index_has_free_cancel_option"))),e):e},productImgList:function(){var e=this;if(!this.isShowImgList)return[];var t=this.product,s=t.name,o=void 0===s?"":s,r=t.img_url_list,i=void 0===r?[]:r;return _.map(i,(function(t){return{alt:o,url:kkday.image.convertToWebp(kkday.image.get(e.getPhotoUrl(t)))}}))}},mounted:function(){var t=this;e.nextTick((function(){t.setTagElement()}));var s=document.querySelector(".photo-".concat(this.product.id," .splide__slider"));null!==s&&s.addEventListener("click",(function(){t.clickProductCardImage()}))},methods:{setTagElement:function(){var e=this.$el.querySelectorAll(".tag-".concat(this.product.id," .tag"));if(null!==e&&!_.isEmpty(e))for(var t=0,s=0;s<e.length;s++)if((t+=Number(e[s].clientWidth))>270){e[s].style.overflow="hidden",e[s].style.textOverflow="ellipsis";break}},clickProductCardImage:function(){this.$emit("card-click-handler"),this.isTargetBlank?window.open(this.productUrl,"_blank"):location.href=this.productUrl},onMouseOverProductCard:function(){this.isMouseOver=!0},onMouseleaveProductCard:function(){this.isMouseOver=!1},isShowFreeRefundTags:function(e){return e&&e<=this.maxFreeRefundBeforeDay},hasFreeCancelOption:function(e){return e===this.minFreeRefundBeforeDay},splideMove:function(){this.$emit("splide-image-move",this.product.id)},getPhotoUrl:function(e){return{path:e||"",width:"481",height:"280",crop:"fill"}}}}}).call(this,s("./node_modules/vue/dist/vue.js-exposed"))},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/core/price/Price.vue?vue&type=style&index=0&id=24599a18&lang=scss&scoped=true&":function(e,t,s){},"./resources/pc/js/components/core/card/ProductCard2.vue":function(e,t,s){"use strict";var o=s("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/core/card/ProductCard2.vue?vue&type=script&lang=js&").a,r=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"product-card",class:{isMouseOver:e.isMouseOver},on:{mouseover:e.onMouseOverProductCard,mouseleave:e.onMouseleaveProductCard,click:e.sendEventDataOnProductCardClicked}},[s("div",{staticClass:"product-card__top"},[e.productImgList.length>1?s("KkSplide",{staticClass:"splide__img-list",class:"photo-"+e.product.id,attrs:{"slide-options":e.photoSlideOptions,"slide-list":e.productImgList},on:{"splide-move":e.splideMove},nativeOn:{click:function(e){e.stopPropagation()}}}):s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.kkday.image.convertToWebp(e.kkday.image.get(e.imgCondition)),expression:"kkday.image.convertToWebp(kkday.image.get(imgCondition))",arg:"background-image"}],staticClass:"product-card__image",on:{click:e.clickProductCardImage}}),e._v(" "),e.isShowMapTag?s("div",{staticClass:"product-card__map"},[s("SVGUse",{staticClass:"svg-use--white ic_location product-card__map-icon",attrs:{name:"#v2_ic_location",width:"16",height:"16"}}),e._v(" "),s("span",{staticClass:"product-card__map-text"},[e._v(e._s(e.product.show_city_name))])],1):e._e(),e._v(" "),e.isShowWishBtn?s("div",{staticClass:"product-card__wish-button"},[s("div",{staticClass:"product-card__wish-button-icon",on:{click:e.onClickBtnWish}},[s("SVGUse",{staticClass:"ic_wish",class:{isClickWishBtn:e.isAnimateDeleting},attrs:{name:"#v2_"+e.btnWishImageName,width:"24",height:"24"}})],1)]):e._e(),e._v(" "),e.isShowRankLabel?s("span",{staticClass:"product-rank"},[e._v("\n\t\t\t"+e._s(e.lang("common_top"))+e._s(e.rank)+"\n\t\t")]):e._e(),e._v(" "),e.isShowNotTourismProductHint?s("span",{staticClass:"kkgift-tag"},[e._v("\n\t\t\t"+e._s(e.lang("common_provide_by_kkgift"))+"\n\t\t")]):e._e()],1),e._v(" "),s("a",{ref:e.isTargetBlank?"noopener":"",attrs:{href:e.productUrl,target:e.isTargetBlank?"_blank":""},on:{click:function(t){return e.$emit("card-click-handler",e.product.id)}}},[s("LayoutFlexColumn",{staticClass:"product-card__content",attrs:{"padding-top":"3",gap:"3"},scopedSlots:e._u([{key:"remain",fn:function(){return[s("div",{staticClass:"product-card__remain"},[s("LayoutList",{attrs:{gap:"2"}},[e.product.name?s("h3",{staticClass:"product-card__title"},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.product.name)+"\n\t\t\t\t\t\t")]):e._e(),e._v(" "),e.hasTagList?s("div",{staticClass:"product-card__tag",class:"tag-"+e.product.id},e._l(e.tagList,(function(t){return s("span",{key:t.key,staticClass:"tag",attrs:{title:t.name}},[e._v(e._s(t.name))])})),0):e._e(),e._v(" "),e.hasCardInfo?s("div",{staticClass:"product-card__info"},[e.isShowProductStar?[s("div",{staticClass:"product-card__info-icon"},[s("SVGUse",{staticClass:"svg-use--primary ic_newstar",attrs:{name:"#v2_ic_newstar",width:"16",height:"16"}})],1),e._v(" "),s("span",{staticClass:"product-card__info-score"},[e._v(e._s(e.$filters.avgScoreFormat(e.product.rating_star)))]),e._v(" "),e.isShowProductStar?s("span",{staticClass:"product-card__info-number"},[e._v("("+e._s(e.product.rating_count)+")")]):e._e()]:e._e(),e._v(" "),e.isShowBooked?s("span",{staticClass:"product-card__info-order-number",class:{"left-border":e.isShowProductStar}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.product.show_order_count)+" "+e._s(e.lang("common_booked"))+"\n\t\t\t\t\t\t\t")]):e._e()],2):e._e()])],1)]},proxy:!0},{key:"bottom",fn:function(){return[s("Price",{attrs:{currency:e.product.currency,"is-display-price":e.product.is_display_price,"display-sale-price":e.product.display_sale_price,"display-price":e.product.display_price,"has-starting-price":!e.isPackagePriceEquivalent}})]},proxy:!0}])})],1)])}),[],!1,null,null,null);t.a=i.exports},"./resources/pc/js/components/core/price/Price.vue":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.number.constructor.js");var o={name:"Price",props:{currency:{type:String,default:""},isDisplayPrice:{type:Boolean,default:!1},displaySalePrice:{type:[Number,String],default:0},displayPrice:{type:[Number,String],default:0},hasStartingPrice:{type:Boolean,default:!1}},computed:{isShowSalePrice:function(){return this.currency&&this.displayPrice},startingLang:function(){return{prefix:this.lang("common_price_prefix"),suffix:this.lang("common_price_suffix")}}},methods:{getFormatPrice:function(e){return _.isString(e)?e:this.priceFormat(e,this.currency)}}},r=(s("./resources/pc/js/components/core/price/Price.vue?vue&type=style&index=0&id=24599a18&lang=scss&scoped=true&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(r.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("LayoutList",{staticClass:"kk-price",attrs:{gap:"1"}},[e.isDisplayPrice?s("div",{staticClass:"kk-price__origin kk-price__origin--delete"},[s("span",[e._v(e._s(e._f("currencyFormat")(e.currency)))]),e._v(" "),s("span",[e._v(e._s(e.getFormatPrice(e.displaySalePrice)))])]):e._e(),e._v(" "),s("LayoutListInline",{staticClass:"kk-price__sale",attrs:{gap:"2"}},[e.hasStartingPrice&&e.startingLang.prefix?s("span",[e._v(e._s(e.startingLang.prefix))]):e._e(),e._v(" "),s("LayoutListInline",{attrs:{gap:"1"}},[s("span",[e._v(e._s(e._f("currencyFormat")(e.currency)))]),e._v(" "),s("span",[e._v(e._s(e.getFormatPrice(e.displayPrice)))])]),e._v(" "),e.hasStartingPrice&&e.startingLang.suffix?s("span",{staticClass:"kk-price__suffix"},[e._v(e._s(e.startingLang.suffix))]):e._e()],1)],1)}),[],!1,null,"24599a18",null);t.a=i.exports},"./resources/pc/js/components/core/price/Price.vue?vue&type=style&index=0&id=24599a18&lang=scss&scoped=true&":function(e,t,s){"use strict";s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/core/price/Price.vue?vue&type=style&index=0&id=24599a18&lang=scss&scoped=true&")},"./resources/pc/js/components/product/newProductDetail/RecommendSection.vue":function(e,t,s){"use strict";s.r(t);s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./resources/pc/sass/common/splide.scss");var o=s("./node_modules/@splidejs/vue-splide/src/js/index.js"),r={components:{KkSplide:function(){return Promise.resolve().then(s.bind(null,"./resources/pc/js/components/common/KkSplide.vue"))},ProductCard2:s("./resources/pc/js/components/core/card/ProductCard2.vue").a,SplideSlide:o.b},props:{productRelatedData:{type:Object,required:!0}},computed:{recommendSlideOptions:function(){return{type:"slide",rewind:!1,cover:!1,padding:!1,gap:15,perPage:4,perMove:4,width:"100%",heightRatio:0,speed:700,pagination:!1,arrows:this.productRelatedData.recommendProducts.length>4,classes:{prev:"splide__arrow--prev splide-style-prev",next:"splide__arrow--next splide-style-next"}}}}},i=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),n=Object(i.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"product-recommend"},[t("div",{staticClass:"container"},[t("h3",[this._v("\n\t\t\t"+this._s(this.lang("common_more_experiences"))+"\n\t\t")]),this._v(" "),t("KkSplide",{staticClass:"splide__container",attrs:{"slide-options":this.recommendSlideOptions}},this._l(this.productRelatedData.recommendProducts,(function(e,s){return t("splide-slide",{key:s},[t("ProductCard2",{key:e.id,staticClass:"gtm-prod-card-element-recommend",attrs:{product:e,"is-target-blank":!1,"product-card-position":s,"product-type":"productDetail","is-show-map-tag":!0}})],1)})),1)],1)])}),[],!1,null,null,null);t.default=n.exports},"./resources/pc/js/mixins/productCardCore.js":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js");var o=s("./resources/pc/js/components/common/ProductStar.vue"),r=(s("./resources/pc/sass/components/core/price/productPrice.scss"),s("./resources/pc/js/helpers/common.js")),i={props:{isZeroPrice:{type:Boolean,default:!1},currency:{type:String,default:""},isDisplayPrice:{type:Boolean,default:!1},salePrice:{type:Number,default:0},price:{type:Number,default:0},displaySalePrice:{type:[Number,String],default:0},displayPrice:{type:[Number,String],default:0},discount:{type:Number,default:0},priceDisplayDirection:{type:String,default:"vertical",validator:function(e){return-1!==["vertical","horizontal"].indexOf(e)}}},computed:{isShowDiscount:function(){return this.isDisplayPrice&&this.discount&&!this.isZeroPrice},isShowPrice:function(){return this.currency&&this.displayPrice},isShowSalePrice:function(){return this.isDisplayPrice&&this.salePrice>0}},methods:{discountFormat:r.e,getFormatPrice:function(e){return _.isString(e)?e:this.priceFormat(e,this.currency)}}},n=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),c=Object(n.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"product-pricing"},[e.isShowDiscount?s("div",{staticClass:"product-pricing__discount"},[e._v("\n\t\t"+e._s(e.discountFormat(e.discount))+"\n\t")]):e._e(),e._v(" "),s("div",{class:{"display-inline-block":"horizontal"===e.priceDisplayDirection}},[e.isShowSalePrice?s("span",{staticClass:"origin-price"},[e._v("\n\t\t\t"+e._s(e._f("currencyFormat")(e.currency))+" "+e._s(e.getFormatPrice(e.displaySalePrice))+"\n\t\t")]):e._e()]),e._v(" "),e.isShowPrice?s("div",{staticClass:"sale-price",class:{"display-inline-block":"horizontal"===e.priceDisplayDirection}},[s("h4",[e._v("\n\t\t\t"+e._s(e._f("currencyFormat")(e.currency))+" "+e._s(e.getFormatPrice(e.displayPrice))+"\n\t\t")])]):e._e()])}),[],!1,null,null,null).exports,a=s("./resources/pc/js/mixins/wishCore.js"),d=s("./resources/pc/js/libs/GoogleTagManager/GtmEventUtils.js");t.a={components:{ProductStar:o.a,ProductPrice:c},mixins:[a.a],props:{product:{type:Object,default:function(){return{}}},isTargetBlank:{type:Boolean,default:!0},isShowProductPlace:{type:Boolean,default:!0},isShowDescription:{type:Boolean,default:!1},productType:{type:String,default:"setting"},productCardPosition:{type:Number,default:null},urlParameters:{type:Object,default:null},homeBlockTitle:{type:String,default:""},isShowWishBtn:{type:Boolean,default:!0},isShowRankLabel:{type:Boolean,default:!1},rank:{type:Number,default:0},optionClass:{type:String,default:""},optionData:{type:Object,default:function(){return{}}},additionalTags:{type:Array,default:function(){return[]}}},data:function(){return{intersectionObserver:null,isAnimateDeleting:!1}},computed:{isShowProductStar:function(){return this.product.rating_count>0},isInstant:function(){return this.product.instant_booking},isShowBooked:function(){return!!this.product.show_order_count},productUrlOid:function(){return _.parseInt(this.product.id)},productUrl:function(){if(_.isEmpty(this.urlParameters))return this.product.url;var e=this;return Object.keys(this.urlParameters).reduce((function(t,s){return s&&e.urlParameters[s]?Object(r.z)(t,s,e.urlParameters[s]):t}),this.product.url)},isWish:function(){return this.checkIsWish(this.productUrlOid)},btnWishIconClass:function(){return this.getIconClass(this.productUrlOid)},btnWishImageName:function(){return this.getWishImageName(this.productUrlOid)},imgCondition:function(){return{path:this.product.img_url||"",width:this.width||"",height:this.height||"",crop:this.width&&this.height?"fill":"fit"}}},mounted:function(){this.addTrackingHandlers()},beforeDestroy:function(){this.removeTrackingHandlers()},methods:{addTrackingHandlers:function(){var e=this;window.IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&e.onProductCardViewed()}))}),{root:null,rootMargin:"0px",threshold:.7}),this.intersectionObserver.observe(this.$el)),this.$el.addEventListener("click",this.onClickProductCard)},onProductCardViewed:function(){window.dataLayer.push({event:"ProdCard_Viewed",prodId:this.product.prod_oid,prodCardElement:this.$el,SupplierSign:this.product.supplier_award})},onClickBtnWish:function(e){var t=this;e.stopPropagation(),this.setWishProdById(this.productUrlOid),this.isAnimateDeleting=!0,setTimeout((function(){t.isAnimateDeleting=!1}),900)},onClickProductCard:function(){window.dataLayer.push({event:"ProdCard_Clicked",prodId:this.product.prod_oid,prodCardElement:this.$el,SupplierSign:this.product.supplier_award})},removeTrackingHandlers:function(){this.intersectionObserver&&this.intersectionObserver.unobserve(this.$el),this.$el.removeEventListener("click",this.onClickProductCard)},sendEventDataOnProductCardClicked:function(){switch(this.productType){case"recommend":case"recommend_preference_v5":window.dataLayer.push({event:"Home_recommend_product_clicked"});break;case"setting":window.dataLayer.push({event:"Home_setting_product_clicked",mktTitle:this.homeBlockTitle,prodOid:this.product.prod_oid});break;case"topProductSetting":case"topProduct":window.dataLayer.push({event:"top_recommend_product_clicked",prodId:this.product.id,prodCityCd:_.split(this.product.city_key,","),prodTagCd:_.split(this.product.cat_key,","),prodRating:this.product.rating_count,prodPosition:this.productCardPosition,topTenRecomType:this.productType});break;case"productDetail":Object(d.a)("productDetail_recommend_product_clicked",{prodPosition:this.productCardPosition+1,recomPage:"ProductDetail",recomProdId:this.product.id,recomType:_.get(this.$store,"state.common.abTestData.recommend_products_also_view.case","")});break;case"history":Object(d.a)("recent_view_prod_clicked",{ProdID:this.product.id});break;case"cityItem":Object(d.a)("city_item_card_clicked",{prodID:this.product.id,cityCode:this.optionData.themeCityCode,categoryType:this.optionData.themeType,categoryTypeIndex:this.optionData.themeIndex,testCase:this.optionData.themeTestCase});break;case"shoppingCart":Object(d.a)("RecomProd_Clicked",{RecomProdID:this.product.id,RecomPage:"ShoppingCart",ProdPosition:this.productCardPosition+1,Testcase:_.get(this.$store,"state.common.testCases.cart_recommend_products","")});break;case"confirmPage":Object(d.a)("RecomProd_Clicked",{RecomProdID:this.product.id,RecomPage:"ConfirmPage",ProdPosition:this.productCardPosition+1,RecomType:_.get(this.$store,"state.common.abTestData.recommend_products_also_buy.case","")})}}}}},"./resources/pc/js/mixins/wishCore.js":function(e,t,s){"use strict";(function(e){s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.function.name.js");var o=s("./resources/pc/js/mixins/memberStatus.js"),r=s("./resources/pc/js/libs/UserAction.js"),i=s("./resources/pc/js/helpers/loginModal.js");t.a={mixins:[o.a],data:function(){return{animateDeleting:!1}},props:{wishCallback:{type:Function,default:null}},methods:{checkIsWish:function(e){return _.includes(_.get(this.member,"wishProdIdList",[]),e)},getIconClass:function(e){return this.checkIsWish(e)?"fa fa-heart text-danger popup":this.animateDeleting?"ani-heart-red":"fa fa-heart-o"},getWishImageName:function(e){return this.checkIsWish(e)?"ic_wish_active":"ic_wish"},setWishProdById:_.throttle((function(t){var s,o=this,r={InstantBook:this.isInstant,ProdCityCode:this.product.city_key,ProdID:this.product.id,ProdMainCat:this.product.main_cat_key,ProdRatings:this.product.rating_star,ProdReviews:"",ProdTagCode:this.product.cat_key};if(!this.isLogin)return window.sessionStorage.setItem("pending_wish_prod",t),window.sessionStorage.setItem("pending_wish_tracking_data",JSON.stringify(r)),void e(i.a).modal("show").one("hide.bs.modal",(function(){window.sessionStorage.removeItem("pending_wish_prod"),window.sessionStorage.removeItem("pending_wish_tracking_data")}));this.checkIsWish(t)&&(this.animateDeleting=!0,s=setTimeout((function(){o.animateDeleting=!1}),900)),this.recordWishlistUserAction({name:this.checkIsWish(t)?"remove_wishlist":"add_wishlist",productMid:t}),this.$store.dispatch("common/setWishProd",{prodUrlOid:t,isWish:!this.checkIsWish(t),wishTrackingData:r}).then((function(){}),(function(){o.animateDeleting&&(clearTimeout(s),o.animateDeleting=!1)})).then((function(){o.wishCallback&&o.wishCallback(t)}))}),300,{leading:!0,trailing:!1}),recordWishlistUserAction:function(e){var t=e.name,s=void 0===t?"add_wishlist":t,o=e.productMid;new r.a({name:s,request:{product_oid:o}}).record()}}}}).call(this,s("./node_modules/jquery/dist/jquery.js-exposed"))},"./resources/pc/sass/common/splide.scss":function(e,t,s){},"./resources/pc/sass/components/area/splide_img_list.scss":function(e,t,s){},"./resources/pc/sass/components/core/card/card2.scss":function(e,t,s){},"./resources/pc/sass/components/core/price/productPrice.scss":function(e,t,s){}}]);