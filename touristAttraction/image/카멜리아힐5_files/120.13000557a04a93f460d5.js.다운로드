(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{"./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/Header.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";(function(e){o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./resources/pc/sass/common/header.scss");var r=o("./resources/pc/js/mixins/layoutUtil.js"),n=o("./resources/pc/js/mixins/coBranding.js"),a=o("./resources/pc/js/mixins/loginModal/loginModalSelector.js"),s=o("./node_modules/vuex/dist/vuex.esm.js"),i=o("./resources/share/js/libs/InitStateProvider.js"),l=o("./resources/pc/js/store/modules/newCart.js"),c=o("./resources/pc/js/libs/GoogleTagManager/GtmEventUtils.js");function u(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,i=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return s=e.done,e},e:function(e){i=!0,a=e},f:function(){try{s||null==o.return||o.return()}finally{if(i)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var m=Object.defineProperty,p=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,f=function(e,t,o){return t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o},g=function(e,t){for(var o in t||(t={}))h.call(t,o)&&f(e,o,t[o]);if(p){var r,n=u(p(t));try{for(n.s();!(r=n.n()).done;){o=r.value;y.call(t,o)&&f(e,o,t[o])}}catch(e){n.e(e)}finally{n.f()}}return e},v=i.a.getInitState();t.a={components:{MainDropdownMenu:function(){return Promise.all([o.e(0),o.e(32)]).then(o.bind(null,"./resources/pc/js/components/common/MainDropdownMenu.vue"))},CurrencyDropdownMenu:function(){return Promise.all([o.e(0),o.e(32)]).then(o.bind(null,"./resources/pc/js/components/common/CurrencyDropdownMenu.vue"))},LanguageDropdownMenu:function(){return Promise.all([o.e(0),o.e(32)]).then(o.bind(null,"./resources/pc/js/components/common/LanguageDropdownMenu.vue"))},CartDropDownMenu:function(){return Promise.all([o.e(0),o.e(32)]).then(o.bind(null,"./resources/pc/js/components/common/CartDropDownMenu.vue"))},SearchExperience:function(){return Promise.all([o.e(0),o.e(32)]).then(o.bind(null,"./resources/pc/js/components/common/SearchExperience.vue"))},HeaderLogo:function(){return Promise.all([o.e(0),o.e(32)]).then(o.bind(null,"./resources/pc/js/components/common/HeaderLogo.vue"))},MerchantRegisterModel:function(){return o.e(149).then(o.bind(null,"./resources/pc/js/components/merchant/register/HeaderButton.vue"))}},mixins:[n.a,r.a,a.a],data:function(){return{isShowMobileNav:!1}},computed:g({memberPhotoUrl:function(){return kkday.image.convertToWebp(kkday.image.get({path:this.member.kkPhotoUrl,width:"120"}))},isCurrentElementShow:function(){return!(_.get(this.specialRule,"is_redeem_product",!1)||_.get(this.specialRule,"is_redeem_kkgift",!1)||_.get(this.specialRule,"is_merchant_register",!1)||this.isCoBrandingProduct)}},Object(s.c)({member:"common/member",isInitMemberStatus:"common/isInitMemberStatus",countryLangName:"common/countryLangName",cartItems:"cart/cartItems",isShowPreviewCart:"cart/isShowPreviewCart",specialRule:"common/specialRule",hasNotification:"common/hasNotification",abTestData:"common/abTestData"})),beforeCreate:function(){this.$store.state.cart||(this.$store.registerModule("cart",l.a),this.$store.dispatch("cart/init",v.state))},methods:g({onClickOpenMobileNav:function(){this.isShowMobileNav=!0},onClickOpenSearch:function(){e(".kksearch").addClass("slideIn"),e(".kksearch input").focus()},onClickBackdrop:function(){this.isShowMobileNav=!1},onClickGoToCartPage:function(){var t=this;if(this.updateIsShowPreviewCart(!1),this.member.isLogin)window.location.href=kkday.url.kkSiteUrl("cart/");else{var o=this.$store.getters["loginModal/redirectUri"];this.$store.commit("loginModal/updateRedirectUri",kkday.url.kkSiteUrl("cart/")),e(this.loginModalSelector).modal("show").one("hide.bs.modal",(function(){t.$store.commit("loginModal/updateRedirectUri",o)}))}},onClickCloseSearch:function(){e(".kksearch").removeClass("slideIn")},pushGtmEventForMixpanel:c.a},Object(s.d)({updateIsShowPreviewCart:"cart/updateIsShowPreviewCart"}))}}).call(this,o("./node_modules/jquery/dist/jquery.js-exposed"))},"./resources/pc/js/components/common/Header.vue":function(e,t,o){"use strict";o.r(t);var r=o("./node_modules/babel-loader/lib/index.js!./node_modules/esbuild-loader/dist/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/pc/js/components/common/Header.vue?vue&type=script&lang=js&").a,n=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),a=Object(n.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("header",{staticClass:"sticky",attrs:{id:"headerApp"}},[o("div",{staticClass:"container"},[o("div",{staticClass:"d-flex justify-content-between align-items-center"},[o("HeaderLogo"),e._v(" "),e.isLayoutActive(e.layoutKey.SEARCH_BAR)&&e.isCurrentElementShow?o("div",{staticClass:"header-search"},[o("div",{staticClass:"kksearch"},[o("div",{staticClass:"kksearch-header"},[o("h4",{staticClass:"text-center"},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.lang("common_search"))+"\n\t\t\t\t\t\t")]),e._v(" "),o("span",{staticClass:"close-search",on:{click:e.onClickCloseSearch}},[o("i",{staticClass:"fa fa-angle-left fa-2x"})])]),e._v(" "),o("SearchExperience")],1)]):e._e(),e._v(" "),e.isShowMobileNav?o("div",{staticClass:"menu-backdrop",on:{click:e.onClickBackdrop}}):e._e(),e._v(" "),e.isInitMemberStatus&&!e.isLayoutActive(e.layoutKey.MERCHANT_REGISTER_MODAL)?o("ul",{staticClass:"header-nav ",class:{slideIn:e.isShowMobileNav}},[e.member.isLogin&&e.isLayoutActive(e.layoutKey.MEMBER_BTN)?o("li",{staticClass:"dropdown member-dropdown"},[o("a",{attrs:{id:"header-user-photo","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(t){return e.pushGtmEventForMixpanel("HeaderItem_Clicked",{itemType:"MemberMenu"})}}},[o("div",{staticClass:"editor-logo",class:{active:e.hasNotification},style:{backgroundImage:"url("+e.memberPhotoUrl+")"}})]),e._v(" "),o("MainDropdownMenu"),e._v(" "),o("span",{staticClass:"dropdown-arrow"})],1):!e.member.isLogin&&e.isLayoutActive(e.layoutKey.LOGIN_BTN)?o("li",[o("a",{attrs:{id:"header-user-login","data-target":e.loginModalSelector,"data-toggle":"modal"},on:{click:function(t){return e.pushGtmEventForMixpanel("HeaderItem_Clicked",{itemType:"Login"})}}},[e._v("\n\t\t\t\t\t\t"+e._s(e.lang("common_btn_login"))+"/"+e._s(e.lang("common_btn_signup"))+"\n\t\t\t\t\t")])]):e._e(),e._v(" "),e.isLayoutActive(e.layoutKey.CART_BTN)&&e.isCurrentElementShow?o("li",{staticClass:"dropdown cart-dropdown hidden-sm hidden-xs",on:{mouseover:function(t){return e.updateIsShowPreviewCart(!0)},mouseleave:function(t){return e.updateIsShowPreviewCart(!1)}}},[o("a",{staticClass:"cart-link",attrs:{href:"javascript:;"},on:{click:e.onClickGoToCartPage}},[o("img",{attrs:{width:"22",height:"22",src:e.kkday.url.staticResourceUrl("assets/img/ic_profile_cart.svg")}}),e._v(" "),e._.isEmpty(e.cartItems)?e._e():o("div",{staticClass:"badge bg-danger"},[e._v("\n\t\t\t\t\t\t\t"+e._s(e.cartItems.length)+"\n\t\t\t\t\t\t")])]),e._v(" "),o("CartDropDownMenu",{on:{onClickGoToCartPage:e.onClickGoToCartPage}}),e._v(" "),o("span",{staticClass:"dropdown-arrow"})],1):e._e(),e._v(" "),e.isLayoutActive(e.layoutKey.CURRENCY_BTN)?o("li",{staticClass:"dropdown"},[o("a",{class:{disabled:!e.isLayoutActive(e.layoutKey.SWITCH_CURRENCY)},attrs:{id:"header-switch-currency","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(t){return e.pushGtmEventForMixpanel("HeaderItem_Clicked",{itemType:"Currency"})}}},[e._v("\n\t\t\t\t\t\t"+e._s(e.member.currency)+"\n\t\t\t\t\t\t"),o("i",{staticClass:"fa fa-angle-down fa-lg"})]),e._v(" "),e.isLayoutActive(e.layoutKey.SWITCH_CURRENCY)?[o("CurrencyDropdownMenu"),e._v(" "),o("span",{staticClass:"dropdown-arrow"})]:e._e()],2):e._e(),e._v(" "),e.isLayoutActive(e.layoutKey.LANGUAGE_BTN)?o("li",{staticClass:"dropdown"},[o("a",{class:{disabled:!e.isLayoutActive(e.layoutKey.SWITCH_LANGUAGE)},attrs:{id:"header-switch-language","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:function(t){return e.pushGtmEventForMixpanel("HeaderItem_Clicked",{itemType:"Language"})}}},[e._v("\n\t\t\t\t\t\t"+e._s(e.countryLangName)+"\n\t\t\t\t\t\t"),o("i",{staticClass:"fa fa-angle-down fa-lg"})]),e._v(" "),e.isLayoutActive(e.layoutKey.SWITCH_LANGUAGE)?[o("LanguageDropdownMenu"),e._v(" "),o("span",{staticClass:"dropdown-arrow"})]:e._e()],2):e._e(),e._v(" "),e.isLayoutActive(e.layoutKey.APP_PROMOTION)&&e.isCurrentElementShow?o("li",[o("a",{staticClass:"text-secondary",attrs:{"data-toggle":"modal","data-target":"#app-promotion-modal"},on:{click:function(t){return e.pushGtmEventForMixpanel("HeaderItem_Clicked",{itemType:"DownloadApp"})}}},[o("i",{staticClass:"fa fa-mobile-phone fa-lg"}),e._v("\n\t\t\t\t\t\t"+e._s(e.lang("common_app_promotion_header_btn"))+"\n\t\t\t\t\t")])]):e._e()]):e._e(),e._v(" "),e.isInitMemberStatus||!e.isShowSkeletonLoading||e.isLayoutActive(e.layoutKey.MERCHANT_REGISTER_MODAL)?e._e():o("div",{staticClass:"fake-group"},[o("div",{staticClass:"fake menu-fake"}),e._v(" "),o("div",{staticClass:"fake fake-circle"})]),e._v(" "),e.isShowHamburgerButton&&!e.isLayoutActive(e.layoutKey.MERCHANT_REGISTER_MODAL)?o("ul",{staticClass:"header-nav-m"},[o("li",{class:{active:e.hasNotification}},[o("a",{on:{click:e.onClickOpenMobileNav}},[o("i",{staticClass:"fa fa-bars fa-lg"})])]),e._v(" "),e.isLayoutActive(e.layoutKey.SEARCH_BAR)?o("li",[o("a",{on:{click:e.onClickOpenSearch}},[o("i",{staticClass:"fa fa-search fa-lg"})])]):e._e()]):e._e(),e._v(" "),e.isLayoutActive(e.layoutKey.MERCHANT_LOGIN_BTN)?o("a",{staticClass:"text-grey",attrs:{role:"button",href:"https://admin.rezio.io/",rel:"noopener"}},[e._v("\n\t\t\t\t"+e._s(e.lang("landing_merchant_login"))+"\n\t\t\t")]):e._e(),e._v(" "),e.isLayoutActive(e.layoutKey.MERCHANT_REGISTER_MODAL)?o("div",[o("MerchantRegisterModel")],1):e._e()],1)]),e._v(" "),o("PortalTarget",{attrs:{name:"header-portal-target"}})],1)}),[],!1,null,null,null);t.default=a.exports},"./resources/pc/js/mixins/coBranding.js":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.array.find.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var r=o("./node_modules/vuex/dist/vuex.esm.js"),n=[{key:"nami_island",ruleName:"is_nami_island_product",logoPath:"https://image.kkday.com/v2/image/get/s1.kkday.com/campaign_1657/20210512103252_Dre0U/png"},{key:"green_world",ruleName:"is_green_world_product",logoPath:"https://image.kkday.com/v2/image/get/s1.kkday.com/campaign_1703/20210707134447_3qQ6I/png",linkPath:"https://www.green-world.com.tw/"},{key:"chiilih_park",ruleName:"is_chiilih_park_product",logoPath:kkday.url.staticResourceUrl("assets/img/product_logo/chiilih_park_logo.svg"),linkPath:"https://www.chiilihpark.com/"},{key:"ocean_world",ruleName:"is_ocean_world_product",logoPath:"https://image.kkday.com/v2/image/get/s1.kkday.com/campaign_1816/20210914020923_s2xGa/png",linkPath:"https://www.oceanworld.com.tw/booking.php?no=33"},{key:"wanpi_world",ruleName:"is_wanpi_world_product",logoPath:kkday.url.staticResourceUrl("assets/img/product_logo/wanpi_world_logo.svg"),linkPath:"https://2017.wanpi.tw"},{key:"pushin_ranch",ruleName:"is_pushin_ranch_product",logoPath:kkday.url.staticResourceUrl("assets/img/product_logo/pushin_ranch_logo.svg"),linkPath:"https://www.pushin-ranch.com"}];function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==o.return||o.return()}finally{if(l)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var l=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,m=function(e,t,o){return t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o};t.a={computed:function(e,t){for(var o in t||(t={}))u.call(t,o)&&m(e,o,t[o]);if(c){var r,n=s(c(t));try{for(n.s();!(r=n.n()).done;){o=r.value;d.call(t,o)&&m(e,o,t[o])}}catch(e){n.e(e)}finally{n.f()}}return e}({coBrandingRuleNameList:function(){return _.map(n,"ruleName")},isCoBrandingProduct:function(){var e,t,o=s(this.coBrandingRuleNameList);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(null==(e=this.specialRule)?void 0:e[r])return!0}}catch(e){o.e(e)}finally{o.f()}return!1},coBrandingLogoPath:function(){var e,t=this,o=s(this.coBrandingRuleNameList);try{var r=function(){var o=e.value;if(t.specialRule[o]){var r=_.find(n,(function(e){return e.ruleName===o}));return{v:kkday.image.convertToWebp(kkday.image.get({path:(null==r?void 0:r.logoPath)||"",width:""+480*kkday.image.getDevicePixelRatio()}))}}};for(o.s();!(e=o.n()).done;){var i=r();if("object"===a(i))return i.v}}catch(e){o.e(e)}finally{o.f()}return""},homepageUrl:function(){var e,t=this,o=s(this.coBrandingRuleNameList);try{var r=function(){var o=e.value;if(t.specialRule[o]){var r=_.find(n,(function(e){return e.ruleName===o}));return{v:(null==r?void 0:r.linkPath)||kkday.url.kkSiteUrl()}}};for(o.s();!(e=o.n()).done;){var i=r();if("object"===a(i))return i.v}}catch(e){o.e(e)}finally{o.f()}return kkday.url.kkSiteUrl()}},Object(r.c)({specialRule:"common/specialRule"}))}},"./resources/pc/sass/common/header.scss":function(e,t,o){}}]);